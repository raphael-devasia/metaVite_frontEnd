import{a as k3}from"./chunk-AXQQ3IHZ.js";import{a as bi}from"./chunk-FK6H3RFT.js";import{$ as Ie,$a as ml,$b as G2,A as Bo,Aa as k2,Ab as Tu,Ac as Pv,B as hl,Ba as xf,Bb as Mu,Bc as Mf,C as _v,Ca as T2,Cb as vl,Cc as Pf,D as yv,Da as _a,Db as cs,Dc as Ov,E as ei,Ea as $r,Eb as ds,F as x2,Fa as Du,Fb as Pu,G as pl,Ga as Dc,Gb as b,H as rs,Ha as Ic,Hb as Ae,I as os,Ia as M2,Ib as we,J as xv,Ja as P2,Jb as Vi,Jc as ix,K as C2,Ka as O2,Kb as us,Kc as Nu,L as w2,La as N2,Lb as wf,Lc as Of,M as vf,Ma as L2,Mb as Sf,N as S2,Na as R2,Nb as Df,O as bf,Oa as F2,Ob as Bn,P as va,Pa as Qn,Pb as Xe,Q as Ir,Qa as Dv,Qb as H2,Qc as nx,R as ba,Ra as Iv,Rb as vi,Rc as Nf,S as wt,Sa as j2,Sb as bn,T as D2,Ta as Iu,Tb as bl,Tc as rx,U as Jt,Ua as v,Ub as _l,V as Hr,Va as le,Vb as Ou,W as Be,Wa as Cf,Wb as If,X as Ft,Xa as Au,Xb as Af,Y as I2,Ya as B2,Yb as Ev,Yc as ox,Z as He,Za as Ac,Zb as Uo,_ as Cv,_a as Ec,_b as kv,a as po,aa as ue,ab as gl,ac as Tv,b as g2,ba as wv,bb as Eu,bc as Dn,c as wn,ca as wu,cb as Ar,cc as $2,d as gv,da as Su,db as Bi,dc as Wr,e as vv,ea as Ye,eb as Vo,ec as ya,f as mt,fa as jt,fb as V2,fc as mo,g as qi,ga as Bt,gb as U2,gc as kc,h as v2,ha as Gr,hb as Y,hc as W2,i as ns,ia as A2,ib as z2,ic as Y2,j as b2,ja as as,jb as ss,jc as vt,k as Kn,ka as fo,kb as pn,kc as Mv,l as dt,la as E2,lb as C,lc as hs,m as ga,ma as ki,mb as ls,mc as Ef,n as ff,na as Pe,nb as Er,nc as Li,o as _2,oa as Oe,ob as er,oc as Ti,p as xu,pa as Hi,pb as p,pc as Ct,q as gt,qa as nn,qb as h,qc as X2,r as Cu,ra as Jn,rb as q,rc as Z2,s as qr,sa as _f,sb as Xt,sc as K2,t as mf,ta as Gi,tb as Zt,tc as J2,u as ul,ua as Sv,ub as Ge,uc as st,v as jo,va as yf,vb as Av,vc as Q2,w as y2,wa as ct,wb as q2,wc as ex,x as gf,xa as Ot,xb as _e,xc as kf,y as Sn,ya as fl,yb as M,yc as Tf,z as bv,za as ti,zb as ku,zc as tx}from"./chunk-BECL3HMC.js";import{a as de,b as Fe,c as mv,e as A3,f as E3,g as Fo}from"./chunk-GAL4ENT6.js";var Ru=class{},Rf=class{},xa=class i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=r.toLowerCase(),a=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Lv=class{encodeKey(t){return ax(t)}encodeValue(t){return ax(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function M3(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var P3=/%(\d[a-f0-9])/gi,O3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ax(i){return encodeURIComponent(i).replace(P3,(t,e)=>O3[e]??t)}function Lf(i){return`${i}`}var fs=class i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Lv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=M3(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(Lf):[Lf(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Lf(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(Lf(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Rv=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function N3(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sx(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function lx(i){return typeof Blob<"u"&&i instanceof Blob}function cx(i){return typeof FormData<"u"&&i instanceof FormData}function L3(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Lu=class i{constructor(t,e,n,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(N3(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new xa,this.context??=new Rv,!this.params)this.params=new fs,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sx(this.body)||lx(this.body)||cx(this.body)||L3(this.body)?this.body:this.body instanceof fs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||cx(this.body)?null:lx(this.body)?this.body.type||null:sx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof fs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,s=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,f=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((y,g)=>y.set(g,t.setHeaders[g]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((y,g)=>y.set(g,t.setParams[g]),u)),new i(e,n,a,{params:u,headers:c,context:f,reportProgress:l,responseType:r,withCredentials:s,transferCache:o})}},ms=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(ms||{}),Fu=class{constructor(t,e=200,n="OK"){this.headers=t.headers||new xa,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ff=class i extends Fu{constructor(t={}){super(t),this.type=ms.ResponseHeader}clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ju=class i extends Fu{constructor(t={}){super(t),this.type=ms.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ps=class extends Fu{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},px=200,R3=204;function Nv(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var tr=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof Lu)o=e;else{let l;r.headers instanceof xa?l=r.headers:l=new xa(r.headers);let c;r.params&&(r.params instanceof fs?c=r.params:c=new fs({fromObject:r.params})),o=new Lu(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let a=dt(o).pipe(hl(l=>this.handler.handle(l)));if(e instanceof Lu||r.observe==="events")return a;let s=a.pipe(Sn(l=>l instanceof ju));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(gt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(gt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(gt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return s.pipe(gt(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new fs().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,Nv(r,n))}post(e,n,r={}){return this.request("POST",e,Nv(r,n))}put(e,n,r={}){return this.request("PUT",e,Nv(r,n))}static{this.\u0275fac=function(n){return new(n||i)(Ie(Ru))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),F3=/^\)\]\}',?\n/,j3="X-Request-URL";function dx(i){if(i.url)return i.url;let t=j3.toLocaleLowerCase();return i.headers.get(t)}var B3=(()=>{class i{constructor(){this.fetchImpl=ue(Fv,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=ue(Ot)}handle(e){return new wn(n=>{let r=new AbortController;return this.doRequest(e,r.signal,n).then(jv,o=>n.error(new ps({error:o}))),()=>r.abort()})}doRequest(e,n,r){return Fo(this,null,function*(){let o=this.createRequestInit(e),a;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,de({signal:n},o)));V3(g),r.next({type:ms.Sent}),a=yield g}catch(g){r.error(new ps({error:g,status:g.status??0,statusText:g.statusText,url:e.urlWithParams,headers:g.headers}));return}let s=new xa(a.headers),l=a.statusText,c=dx(a)??e.urlWithParams,u=a.status,f=null;if(e.reportProgress&&r.next(new Ff({headers:s,status:u,statusText:l,url:c})),a.body){let g=a.headers.get("content-length"),S=[],w=a.body.getReader(),I=0,A,T,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Fo(this,null,function*(){for(;;){let{done:$,value:ne}=yield w.read();if($)break;if(S.push(ne),I+=ne.length,e.reportProgress){T=e.responseType==="text"?(T??"")+(A??=new TextDecoder).decode(ne,{stream:!0}):void 0;let J=()=>r.next({type:ms.DownloadProgress,total:g?+g:void 0,loaded:I,partialText:T});V?V.run(J):J()}}}));let Z=this.concatChunks(S,I);try{let $=a.headers.get("Content-Type")??"";f=this.parseBody(e,Z,$)}catch($){r.error(new ps({error:$,headers:new xa(a.headers),status:a.status,statusText:a.statusText,url:dx(a)??e.urlWithParams}));return}}u===0&&(u=f?px:0),u>=200&&u<300?(r.next(new ju({body:f,headers:s,status:u,statusText:l,url:c})),r.complete()):r.error(new ps({error:f,headers:s,status:u,statusText:l,url:c}))})}parseBody(e,n,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(n).replace(F3,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:r});case"arraybuffer":return n.buffer}}createRequestInit(e){let n={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,a)=>n[o]=a.join(",")),e.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(n["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:n,credentials:r}}concatChunks(e,n){let r=new Uint8Array(n),o=0;for(let a of e)r.set(a,o),o+=a.length;return r}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),Fv=class{};function jv(){}function V3(i){i.then(jv,jv)}function U3(i,t){return t(i)}function z3(i,t,e){return(n,r)=>fo(e,()=>t(n,o=>i(o,r)))}var Bv=new He(""),q3=new He(""),H3=new He("",{providedIn:"root",factory:()=>!0});var ux=(()=>{class i extends Ru{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=ue(yf),this.contributeToStability=ue(H3)}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Bv),...this.injector.get(q3,[])]));this.chain=n.reduceRight((r,o)=>z3(r,o,this.injector),U3)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(rs(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static{this.\u0275fac=function(n){return new(n||i)(Ie(Rf),Ie(as))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})();var G3=/^\)\]\}',?\n/;function $3(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var hx=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Jt(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?Kn(n.\u0275loadImpl()):dt(null)).pipe(Ir(()=>new wn(o=>{let a=n.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((w,I)=>a.setRequestHeader(w,I.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let w=e.detectContentTypeHeader();w!==null&&a.setRequestHeader("Content-Type",w)}if(e.responseType){let w=e.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let s=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let w=a.statusText||"OK",I=new xa(a.getAllResponseHeaders()),A=$3(a)||e.url;return l=new Ff({headers:I,status:a.status,statusText:w,url:A}),l},u=()=>{let{headers:w,status:I,statusText:A,url:T}=c(),V=null;I!==R3&&(V=typeof a.response>"u"?a.responseText:a.response),I===0&&(I=V?px:0);let Z=I>=200&&I<300;if(e.responseType==="json"&&typeof V=="string"){let $=V;V=V.replace(G3,"");try{V=V!==""?JSON.parse(V):null}catch(ne){V=$,Z&&(Z=!1,V={error:ne,text:V})}}Z?(o.next(new ju({body:V,headers:w,status:I,statusText:A,url:T||void 0})),o.complete()):o.error(new ps({error:V,headers:w,status:I,statusText:A,url:T||void 0}))},f=w=>{let{url:I}=c(),A=new ps({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:I||void 0});o.error(A)},y=!1,g=w=>{y||(o.next(c()),y=!0);let I={type:ms.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),e.responseType==="text"&&a.responseText&&(I.partialText=a.responseText),o.next(I)},S=w=>{let I={type:ms.UploadProgress,loaded:w.loaded};w.lengthComputable&&(I.total=w.total),o.next(I)};return a.addEventListener("load",u),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),e.reportProgress&&(a.addEventListener("progress",g),s!==null&&a.upload&&a.upload.addEventListener("progress",S)),a.send(s),o.next({type:ms.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",u),a.removeEventListener("timeout",f),e.reportProgress&&(a.removeEventListener("progress",g),s!==null&&a.upload&&a.upload.removeEventListener("progress",S)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(n){return new(n||i)(Ie(Tf))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),fx=new He(""),W3="XSRF-TOKEN",Y3=new He("",{providedIn:"root",factory:()=>W3}),X3="X-XSRF-TOKEN",Z3=new He("",{providedIn:"root",factory:()=>X3}),jf=class{},K3=(()=>{class i{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ef(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt),Ie(_a),Ie(Y3))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})();function J3(i,t){let e=i.url.toLowerCase();if(!ue(fx)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let n=ue(jf).getToken(),r=ue(Z3);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var mx=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(mx||{});function Q3(i,t){return{\u0275kind:i,\u0275providers:t}}function gx(...i){let t=[tr,hx,ux,{provide:Ru,useExisting:ux},{provide:Rf,useFactory:()=>ue(B3,{optional:!0})??ue(hx)},{provide:Bv,useValue:J3,multi:!0},{provide:fx,useValue:!0},{provide:jf,useClass:K3}];for(let e of i)t.push(...e.\u0275providers);return Gr(t)}function vx(i){return Q3(mx.Interceptors,i.map(t=>({provide:Bv,useValue:t,multi:!0})))}var zv=class extends Y2{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qv=class i extends zv{static makeCurrent(){W2(new i)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=t4();return e==null?null:i4(e)}resetBaseElement(){Bu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ef(document.cookie,t)}},Bu=null;function t4(){return Bu=Bu||document.querySelector("base"),Bu?Bu.getAttribute("href"):null}function i4(i){return new URL(i,document.baseURI).pathname}var n4=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),Hv=new He(""),xx=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new Jt(5101,!1);return this._eventNameToPlugin.set(e,n),n}static{this.\u0275fac=function(n){return new(n||i)(Ie(Hv),Ie(Ot))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),Bf=class{constructor(t){this._doc=t}},Vv="ng-app-id",Cx=(()=>{class i{constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kf(o),this.resetHostNodes()}addStyles(e){for(let n of e)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(e){for(let n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){let n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Vv}="${this.appId}"]`);if(e?.length){let n=new Map;return e.forEach(r=>{r.textContent!=null&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=n,o.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){let r=this.styleNodesInDOM,o=r?.get(n);if(o?.parentNode===e)return r.delete(n),o.removeAttribute(Vv),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=n,this.platformIsServer&&a.setAttribute(Vv,this.appId),e.appendChild(a),a}}addStyleToHost(e,n){let r=this.getStyleElement(e,n),o=this.styleRef,a=o.get(n)?.elements;a?a.push(r):o.set(n,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt),Ie(xf),Ie(Du,8),Ie(_a))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),Uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wv=/%COMP%/g,wx="%COMP%",r4=`_nghost-${wx}`,o4=`_ngcontent-${wx}`,a4=!0,s4=new He("",{providedIn:"root",factory:()=>a4});function l4(i){return o4.replace(Wv,i)}function c4(i){return r4.replace(Wv,i)}function Sx(i,t){return t.map(e=>e.replace(Wv,i))}var Tc=(()=>{class i{constructor(e,n,r,o,a,s,l,c=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=kf(s),this.defaultRenderer=new Vu(e,a,l,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Su.ShadowDom&&(n=Fe(de({},n),{encapsulation:Su.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof Vf?r.applyToHost(e):r instanceof Uu&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(n.encapsulation){case Su.Emulated:o=new Vf(l,c,n,this.appId,u,a,s,f);break;case Su.ShadowDom:return new Gv(l,c,e,n,a,s,this.nonce,f);default:o=new Uu(l,c,n,u,a,s,f);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||i)(Ie(xx),Ie(Cx),Ie(xf),Ie(s4),Ie(vt),Ie(_a),Ie(Ot),Ie(Du))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),Vu=class{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Uv[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(bx(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(bx(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new Jt(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=Uv[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Uv[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Iu.DashCase|Iu.Important)?t.style.setProperty(e,n,r&Iu.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Iu.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if(typeof t=="string"&&(t=kc().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function bx(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Gv=class extends Vu{constructor(t,e,n,r,o,a,s,l){super(t,o,a,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Sx(r.id,r.styles);for(let u of c){let f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uu=class extends Vu{constructor(t,e,n,r,o,a,s,l){super(t,o,a,s),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?Sx(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Vf=class extends Uu{constructor(t,e,n,r,o,a,s,l){let c=r+"-"+n.id;super(t,e,n,o,a,s,l,c),this.contentAttr=l4(c),this.hostAttr=c4(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},d4=(()=>{class i extends Bf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),_x=["alt","control","meta","shift"],u4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h4={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},p4=(()=>{class i extends Bf{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r){let o=i.parseEventName(n),a=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kc().onAndCancel(e,o.domEventName,a))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),a="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),a="code."),_x.forEach(c=>{let u=n.indexOf(c);u>-1&&(n.splice(u,1),a+=c+".")}),a+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(e,n){let r=u4[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),_x.forEach(a=>{if(a!==r){let s=h4[a];s(e)&&(o+=a+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})();function Dx(i,t){return $2(de({rootComponent:i},f4(t)))}function f4(i){return{appProviders:[..._4,...i?.providers??[]],platformProviders:b4}}function m4(){qv.makeCurrent()}function g4(){return new fl}function v4(){return k2(document),document}var b4=[{provide:_a,useValue:Q2},{provide:T2,useValue:m4,multi:!0},{provide:vt,useFactory:v4,deps:[]}];var _4=[{provide:A2,useValue:"root"},{provide:fl,useFactory:g4,deps:[]},{provide:Hv,useClass:d4,multi:!0,deps:[vt,Ot,_a]},{provide:Hv,useClass:p4,multi:!0,deps:[vt]},Tc,Cx,xx,{provide:Ec,useExisting:Tc},{provide:Tf,useClass:n4,deps:[]},[]];var Ix=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var zu=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=Ie(y4),r},providedIn:"root"})}}return i})(),y4=(()=>{class i extends zu{constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Qn.NONE:return n;case Qn.HTML:return Ic(n,"HTML")?Dc(n):F2(this._doc,String(n)).toString();case Qn.STYLE:return Ic(n,"Style")?Dc(n):n;case Qn.SCRIPT:if(Ic(n,"Script"))return Dc(n);throw new Jt(5200,!1);case Qn.URL:return Ic(n,"URL")?Dc(n):R2(String(n));case Qn.RESOURCE_URL:if(Ic(n,"ResourceURL"))return Dc(n);throw new Jt(5201,!1);default:throw new Jt(5202,!1)}}bypassSecurityTrustHtml(e){return M2(e)}bypassSecurityTrustStyle(e){return P2(e)}bypassSecurityTrustScript(e){return O2(e)}bypassSecurityTrustUrl(e){return N2(e)}bypassSecurityTrustResourceUrl(e){return L2(e)}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Lt="primary",rh=Symbol("RouteTitle"),Qv=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Rc(i){return new Qv(i)}function C4(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let a=n[o],s=i[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function w4(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!zo(i[e],t[e]))return!1;return!0}function zo(i,t){let e=i?eb(i):void 0,n=t?eb(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Nx(i[r],t[r]))return!1;return!0}function eb(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Nx(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function Lx(i){return i.length>0?i[i.length-1]:null}function vs(i){return ff(i)?i:Af(i)?Kn(Promise.resolve(i)):dt(i)}var S4={exact:Fx,subset:jx},Rx={exact:D4,subset:I4,ignored:()=>!0};function Ax(i,t,e){return S4[e.paths](i.root,t.root,e.matrixParams)&&Rx[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function D4(i,t){return zo(i,t)}function Fx(i,t,e){if(!xl(i.segments,t.segments)||!qf(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!Fx(i.children[n],t.children[n],e))return!1;return!0}function I4(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>Nx(i[e],t[e]))}function jx(i,t,e){return Bx(i,t,t.segments,e)}function Bx(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!xl(r,e)||t.hasChildren()||!qf(r,e,n))}else if(i.segments.length===e.length){if(!xl(i.segments,e)||!qf(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!jx(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!xl(i.segments,r)||!qf(i.segments,r,n)||!i.children[Lt]?!1:Bx(i.children[Lt],t,o,n)}}function qf(i,t,e){return t.every((n,r)=>Rx[e](i[r].parameters,n.parameters))}var wa=class{constructor(t=new si([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Rc(this.queryParams),this._queryParamMap}toString(){return k4.serialize(this)}},si=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hf(this)}},yl=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Rc(this.parameters),this._parameterMap}toString(){return Ux(this)}};function A4(i,t){return xl(i,t)&&i.every((e,n)=>zo(e.parameters,t[n].parameters))}function xl(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function E4(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Lt&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Lt&&(e=e.concat(t(r,n)))}),e}var Ib=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:()=>new Xu,providedIn:"root"})}}return i})(),Xu=class{parse(t){let e=new ib(t);return new wa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${qu(t.root,!0)}`,n=P4(t.queryParams),r=typeof t.fragment=="string"?`#${T4(t.fragment)}`:"";return`${e}${n}${r}`}},k4=new Xu;function Hf(i){return i.segments.map(t=>Ux(t)).join("/")}function qu(i,t){if(!i.hasChildren())return Hf(i);if(t){let e=i.children[Lt]?qu(i.children[Lt],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==Lt&&n.push(`${r}:${qu(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=E4(i,(n,r)=>r===Lt?[qu(i.children[Lt],!1)]:[`${r}:${qu(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[Lt]!=null?`${Hf(i)}/${e[0]}`:`${Hf(i)}/(${e.join("//")})`}}function Vx(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uf(i){return Vx(i).replace(/%3B/gi,";")}function T4(i){return encodeURI(i)}function tb(i){return Vx(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gf(i){return decodeURIComponent(i)}function Ex(i){return Gf(i.replace(/\+/g,"%20"))}function Ux(i){return`${tb(i.path)}${M4(i.parameters)}`}function M4(i){return Object.entries(i).map(([t,e])=>`;${tb(t)}=${tb(e)}`).join("")}function P4(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${Uf(e)}=${Uf(r)}`).join("&"):`${Uf(e)}=${Uf(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var O4=/^[^\/()?;#]+/;function Xv(i){let t=i.match(O4);return t?t[0]:""}var N4=/^[^\/()?;=#]+/;function L4(i){let t=i.match(N4);return t?t[0]:""}var R4=/^[^=?&#]+/;function F4(i){let t=i.match(R4);return t?t[0]:""}var j4=/^[^&#]+/;function B4(i){let t=i.match(j4);return t?t[0]:""}var ib=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new si([],{}):new si([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Lt]=new si(t,e)),n}parseSegment(){let t=Xv(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Jt(4009,!1);return this.capture(t),new yl(Gf(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=L4(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=Xv(this.remaining);r&&(n=r,this.capture(n))}t[Gf(e)]=Gf(n)}parseQueryParam(t){let e=F4(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let a=B4(this.remaining);a&&(n=a,this.capture(n))}let r=Ex(e),o=Ex(n);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Xv(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Jt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Lt);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[Lt]:new si([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Jt(4011,!1)}};function zx(i){return i.segments.length>0?new si([],{[Lt]:i}):i}function qx(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=qx(r);if(n===Lt&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new si(i.segments,t);return V4(e)}function V4(i){if(i.numberOfChildren===1&&i.children[Lt]){let t=i.children[Lt];return new si(i.segments.concat(t.segments),t.children)}return i}function Cl(i){return i instanceof wa}function U4(i,t,e=null,n=null){let r=Hx(i);return Gx(r,t,e,n)}function Hx(i){let t;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new si(o.url,a);return o===i&&(t=s),s}let n=e(i.root),r=zx(n);return t??r}function Gx(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return Zv(r,r,r,e,n);let o=z4(t);if(o.toRoot())return Zv(r,r,new si([],{}),e,n);let a=q4(o,r,i),s=a.processChildren?$u(a.segmentGroup,a.index,o.commands):Wx(a.segmentGroup,a.index,o.commands);return Zv(r,a.segmentGroup,s,e,n)}function $f(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Zu(i){return typeof i=="object"&&i!=null&&i.outlets}function Zv(i,t,e,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let a;i===t?a=e:a=$x(i,t,e);let s=zx(qx(a));return new wa(s,o,r)}function $x(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=$x(o,t,e)}),new si(i.segments,n)}var Wf=class{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&$f(n[0]))throw new Jt(4003,!1);let r=n.find(Zu);if(r&&r!==Lx(n))throw new Jt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function z4(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Wf(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new Wf(e,t,n)}var Oc=class{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function q4(i,t,e){if(i.isAbsolute)return new Oc(t,!0,0);if(!e)return new Oc(t,!1,NaN);if(e.parent===null)return new Oc(e,!0,0);let n=$f(i.commands[0])?0:1,r=e.segments.length-1+n;return H4(e,r,i.numberOfDoubleDots)}function H4(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Jt(4005,!1);r=n.segments.length}return new Oc(n,!1,r-o)}function G4(i){return Zu(i[0])?i[0].outlets:{[Lt]:i}}function Wx(i,t,e){if(i??=new si([],{}),i.segments.length===0&&i.hasChildren())return $u(i,t,e);let n=$4(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new si(i.segments.slice(0,n.pathIndex),{});return o.children[Lt]=new si(i.segments.slice(n.pathIndex),i.children),$u(o,0,r)}else return n.match&&r.length===0?new si(i.segments,{}):n.match&&!i.hasChildren()?nb(i,t,e):n.match?$u(i,0,r):nb(i,t,e)}function $u(i,t,e){if(e.length===0)return new si(i.segments,{});{let n=G4(e),r={};if(Object.keys(n).some(o=>o!==Lt)&&i.children[Lt]&&i.numberOfChildren===1&&i.children[Lt].segments.length===0){let o=$u(i.children[Lt],t,e);return new si(i.segments,o.children)}return Object.entries(n).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=Wx(i.children[o],t,a))}),Object.entries(i.children).forEach(([o,a])=>{n[o]===void 0&&(r[o]=a)}),new si(i.segments,r)}}function $4(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let a=i.segments[r],s=e[n];if(Zu(s))break;let l=`${s}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Tx(l,c,a))return o;n+=2}else{if(!Tx(l,{},a))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function nb(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Zu(o)){let l=W4(o.outlets);return new si(n,l)}if(r===0&&$f(e[0])){let l=i.segments[t];n.push(new yl(l.path,kx(e[0]))),r++;continue}let a=Zu(o)?o.outlets[Lt]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&$f(s)?(n.push(new yl(a,kx(s))),r+=2):(n.push(new yl(a,{})),r++)}return new si(n,{})}function W4(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=nb(new si([],{}),0,n))}),t}function kx(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function Tx(i,t,e){return i==e.path&&zo(t,e.parameters)}var Wu="imperative",On=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(On||{}),Yr=class{constructor(t,e){this.id=t,this.url=e}},Ku=class extends Yr{constructor(t,e,n="imperative",r=null){super(t,e),this.type=On.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gs=class extends Yr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=On.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tr=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Tr||{}),rb=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(rb||{}),Ca=class extends Yr{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=On.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wl=class extends Yr{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=On.NavigationSkipped}},Ju=class extends Yr{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=On.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yf=class extends Yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=On.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ob=class extends Yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=On.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ab=class extends Yr{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=On.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sb=class extends Yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=On.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lb=class extends Yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=On.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cb=class{constructor(t){this.route=t,this.type=On.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},db=class{constructor(t){this.route=t,this.type=On.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ub=class{constructor(t){this.snapshot=t,this.type=On.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hb=class{constructor(t){this.snapshot=t,this.type=On.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pb=class{constructor(t){this.snapshot=t,this.type=On.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fb=class{constructor(t){this.snapshot=t,this.type=On.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Qu=class{},Fc=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Y4(i,t){return i.providers&&!i._injector&&(i._injector=U2(i.providers,t,`Route: ${i.path}`)),i._injector??t}function go(i){return i.outlet||Lt}function X4(i,t){let e=i.filter(n=>go(n)===t);return e.push(...i.filter(n=>go(n)!==t)),e}function oh(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var mb=class{get injector(){return oh(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new tm(this.rootInjector),this.attachRef=null}},tm=(()=>{class i{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new mb(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(n){return new(n||i)(Ie(as))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Xf=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=gb(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=gb(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=vb(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return vb(t,this._root).map(e=>e.value)}};function gb(i,t){if(i===t.value)return t;for(let e of t.children){let n=gb(i,e);if(n)return n}return null}function vb(i,t){if(i===t.value)return[t];for(let e of t.children){let n=vb(i,e);if(n.length)return n.unshift(t),n}return[]}var kr=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Pc(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Zf=class extends Xf{constructor(t,e){super(t),this.snapshot=e,Ab(this,t)}toString(){return this.snapshot.toString()}};function Yx(i){let t=Z4(i),e=new qi([new yl("",{})]),n=new qi({}),r=new qi({}),o=new qi({}),a=new qi(""),s=new Sa(e,n,o,a,r,Lt,i,t.root);return s.snapshot=t.root,new Zf(new kr(s,[]),t)}function Z4(i){let t={},e={},n={},r="",o=new Nc([],t,n,r,e,Lt,i,null,{});return new Jf("",new kr(o,[]))}var Sa=class{constructor(t,e,n,r,o,a,s,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(gt(c=>c[rh]))??dt(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(gt(t=>Rc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(gt(t=>Rc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kf(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:de(de({},t.params),i.params),data:de(de({},t.data),i.data),resolve:de(de(de(de({},i.data),t.data),r?.data),i._resolvedData)}:n={params:de({},i.params),data:de({},i.data),resolve:de(de({},i.data),i._resolvedData??{})},r&&Zx(r)&&(n.resolve[rh]=r.title),n}var Nc=class{get title(){return this.data?.[rh]}constructor(t,e,n,r,o,a,s,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rc(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Jf=class extends Xf{constructor(t,e){super(e),this.url=t,Ab(this,e)}toString(){return Xx(this._root)}};function Ab(i,t){t.value._routerState=i,t.children.forEach(e=>Ab(i,e))}function Xx(i){let t=i.children.length>0?` { ${i.children.map(Xx).join(", ")} } `:"";return`${i.value}${t}`}function Kv(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,zo(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),zo(t.params,e.params)||i.paramsSubject.next(e.params),w4(t.url,e.url)||i.urlSubject.next(e.url),zo(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function bb(i,t){let e=zo(i.params,t.params)&&A4(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||bb(i.parent,t.parent))}function Zx(i){return typeof i.title=="string"||i.title===null}var Eb=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=ue(tm),this.location=ue(gl),this.changeDetector=ue(Dn),this.inputBinder=ue(kb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Jt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Jt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Jt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Jt(4013,!1);this._activatedRoute=e;let r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new _b(e,s,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Bt({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ki]})}}return i})(),_b=class i{__ngOutletInjector(t){return new i(this.route,this.childContexts,t)}constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Sa?this.route:t===tm?this.childContexts:this.parent.get(t,e)}},kb=new He("");function K4(i,t,e){let n=eh(i,t._root,e?e._root:void 0);return new Zf(n,t)}function eh(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=J4(i,t,e);return new kr(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>eh(i,s)),a}}let n=Q4(t.value),r=t.children.map(o=>eh(i,o));return new kr(n,r)}}function J4(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return eh(i,n,r);return eh(i,n)})}function Q4(i){return new Sa(new qi(i.url),new qi(i.params),new qi(i.queryParams),new qi(i.fragment),new qi(i.data),i.outlet,i.component,i)}var th=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Kx="ngNavigationCancelingError";function Qf(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=Cl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Jx(!1,Tr.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function Jx(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[Kx]=!0,e.cancellationCode=t,e}function ek(i){return Qx(i)&&Cl(i.url)}function Qx(i){return!!i&&i[Kx]}var tk=(i,t,e,n)=>gt(r=>(new yb(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),yb=class{constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Kv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=Pc(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],n),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Pc(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(n&&n.outlet){let a=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Pc(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=Pc(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new fb(o.value.snapshot))}),t.children.length&&this.forwardEvent(new hb(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(Kv(r),r===o)if(r.component){let a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Kv(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,n)}},em=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Lc=class{constructor(t,e){this.component=t,this.route=e}};function ik(i,t,e){let n=i._root,r=t?t._root:null;return Hu(n,r,e,[n.value])}function nk(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function Bc(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!I2(i)?i:t.get(i):n}function Hu(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Pc(t);return i.children.forEach(a=>{rk(a,o[a.value.outlet],e,n.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Yu(s,e.getContext(a),r)),r}function rk(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,a=t?t.value:null,s=e?e.getContext(i.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=ok(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new em(n)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Hu(i,t,s?s.children:null,n,r):Hu(i,t,e,n,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new Lc(s.outlet.component,a))}else a&&Yu(t,s,r),r.canActivateChecks.push(new em(n)),o.component?Hu(i,null,s?s.children:null,n,r):Hu(i,null,e,n,r);return r}function ok(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!xl(i.url,t.url);case"pathParamsOrQueryParamsChange":return!xl(i.url,t.url)||!zo(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bb(i,t)||!zo(i.queryParams,t.queryParams);case"paramsChange":default:return!bb(i,t)}}function Yu(i,t,e){let n=Pc(i),r=i.value;Object.entries(n).forEach(([o,a])=>{r.component?t?Yu(a,t.children.getContext(o),e):Yu(a,null,e):Yu(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Lc(t.outlet.component,r)):e.canDeactivateChecks.push(new Lc(null,r)):e.canDeactivateChecks.push(new Lc(null,r))}function ah(i){return typeof i=="function"}function ak(i){return typeof i=="boolean"}function sk(i){return i&&ah(i.canLoad)}function lk(i){return i&&ah(i.canActivate)}function ck(i){return i&&ah(i.canActivateChild)}function dk(i){return i&&ah(i.canDeactivate)}function uk(i){return i&&ah(i.canMatch)}function eC(i){return i instanceof _2||i?.name==="EmptyError"}var zf=Symbol("INITIAL_VALUE");function jc(){return Ir(i=>Cu(i.map(t=>t.pipe(ei(1),va(zf)))).pipe(gt(t=>{for(let e of t)if(e!==!0){if(e===zf)return zf;if(e===!1||hk(e))return e}return!0}),Sn(t=>t!==zf),ei(1)))}function hk(i){return Cl(i)||i instanceof th}function pk(i,t){return qr(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?dt(Fe(de({},e),{guardsResult:!0})):fk(a,n,r,i).pipe(qr(s=>s&&ak(s)?mk(n,o,i,t):dt(s)),gt(s=>Fe(de({},e),{guardsResult:s})))})}function fk(i,t,e,n){return Kn(i).pipe(qr(r=>yk(r.component,r.route,e,t,n)),os(r=>r!==!0,!0))}function mk(i,t,e,n){return Kn(t).pipe(hl(r=>mf(vk(r.route.parent,n),gk(r.route,n),_k(i,r.path,e),bk(i,r.route,e))),os(r=>r!==!0,!0))}function gk(i,t){return i!==null&&t&&t(new pb(i)),dt(!0)}function vk(i,t){return i!==null&&t&&t(new ub(i)),dt(!0)}function bk(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return dt(!0);let r=n.map(o=>ul(()=>{let a=oh(t)??e,s=Bc(o,a),l=lk(s)?s.canActivate(t,i):fo(a,()=>s(t,i));return vs(l).pipe(os())}));return dt(r).pipe(jc())}function _k(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>nk(a)).filter(a=>a!==null).map(a=>ul(()=>{let s=a.guards.map(l=>{let c=oh(a.node)??e,u=Bc(l,c),f=ck(u)?u.canActivateChild(n,i):fo(c,()=>u(n,i));return vs(f).pipe(os())});return dt(s).pipe(jc())}));return dt(o).pipe(jc())}function yk(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return dt(!0);let a=o.map(s=>{let l=oh(t)??r,c=Bc(s,l),u=dk(c)?c.canDeactivate(i,t,e,n):fo(l,()=>c(i,t,e,n));return vs(u).pipe(os())});return dt(a).pipe(jc())}function xk(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return dt(!0);let o=r.map(a=>{let s=Bc(a,i),l=sk(s)?s.canLoad(t,e):fo(i,()=>s(t,e));return vs(l)});return dt(o).pipe(jc(),tC(n))}function tC(i){return g2(wt(t=>{if(typeof t!="boolean")throw Qf(i,t)}),gt(t=>t===!0))}function Ck(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return dt(!0);let o=r.map(a=>{let s=Bc(a,i),l=uk(s)?s.canMatch(t,e):fo(i,()=>s(t,e));return vs(l)});return dt(o).pipe(jc(),tC(n))}var ih=class{constructor(t){this.segmentGroup=t||null}},nh=class extends Error{constructor(t){super(),this.urlTree=t}};function Mc(i){return ga(new ih(i))}function wk(i){return ga(new Jt(4e3,!1))}function Sk(i){return ga(Jx(!1,Tr.GuardRejected))}var xb=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return dt(n);if(r.numberOfChildren>1||!r.children[Lt])return wk(`${t.redirectTo}`);r=r.children[Lt]}}applyRedirectCommands(t,e,n,r,o){if(typeof e!="string"){let s=e,{queryParams:l,fragment:c,routeConfig:u,url:f,outlet:y,params:g,data:S,title:w}=r,I=fo(o,()=>s({params:g,data:S,queryParams:l,fragment:c,routeConfig:u,url:f,outlet:y,title:w}));if(I instanceof wa)throw new nh(I);e=I}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new nh(a);return a}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new wa(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);n[r]=e[s]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(t,l,n,r)}),new si(o,a)}createSegments(t,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new Jt(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},Cb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dk(i,t,e,n,r){let o=iC(i,t,e);return o.matched?(n=Y4(t,n),Ck(n,t,e,r).pipe(gt(a=>a===!0?o:de({},Cb)))):dt(o)}function iC(i,t,e){if(t.path==="**")return Ik(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?de({},Cb):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||C4)(e,i,t);if(!r)return de({},Cb);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?de(de({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Ik(i){return{matched:!0,parameters:i.length>0?Lx(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function Mx(i,t,e,n){return e.length>0&&kk(i,e,n)?{segmentGroup:new si(t,Ek(n,new si(e,i.children))),slicedSegments:[]}:e.length===0&&Tk(i,e,n)?{segmentGroup:new si(i.segments,Ak(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new si(i.segments,i.children),slicedSegments:e}}function Ak(i,t,e,n){let r={};for(let o of e)if(im(i,t,o)&&!n[go(o)]){let a=new si([],{});r[go(o)]=a}return de(de({},n),r)}function Ek(i,t){let e={};e[Lt]=t;for(let n of i)if(n.path===""&&go(n)!==Lt){let r=new si([],{});e[go(n)]=r}return e}function kk(i,t,e){return e.some(n=>im(i,t,n)&&go(n)!==Lt)}function Tk(i,t,e){return e.some(n=>im(i,t,n))}function im(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Mk(i,t,e){return t.length===0&&!i.children[e]}var wb=class{};function Pk(i,t,e,n,r,o,a="emptyOnly"){return new Sb(i,t,e,n,r,a,o).recognize()}var Ok=31,Sb=class{constructor(t,e,n,r,o,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new xb(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Jt(4002,`'${t.segmentGroup}'`)}recognize(){let t=Mx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(gt(({children:e,rootSnapshot:n})=>{let r=new kr(n,e),o=new Jf("",r),a=U4(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let e=new Nc([],Object.freeze({}),Object.freeze(de({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Lt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Lt,e).pipe(gt(n=>({children:n,rootSnapshot:e})),Bo(n=>{if(n instanceof nh)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ih?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,o):this.processSegment(t,e,n,n.segments,r,!0,o).pipe(gt(a=>a instanceof kr?[a]:[]))}processChildren(t,e,n,r){let o=[];for(let a of Object.keys(n.children))a==="primary"?o.unshift(a):o.push(a);return Kn(o).pipe(hl(a=>{let s=n.children[a],l=X4(e,a);return this.processSegmentGroup(t,l,s,a,r)}),vf((a,s)=>(a.push(...s),a)),yv(null),C2(),qr(a=>{if(a===null)return Mc(n);let s=nC(a);return Nk(s),dt(s)}))}processSegment(t,e,n,r,o,a,s){return Kn(e).pipe(hl(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,r,o,a,s).pipe(Bo(c=>{if(c instanceof ih)return dt(null);throw c}))),os(l=>!!l),Bo(l=>{if(eC(l))return Mk(n,r,o)?dt(new wb):Mc(n);throw l}))}processSegmentAgainstRoute(t,e,n,r,o,a,s,l){return go(n)!==a&&(a===Lt||!im(r,o,n))?Mc(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,a,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,a,l):Mc(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,a,s){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:f,remainingSegments:y}=iC(e,r,o);if(!l)return Mc(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ok&&(this.allowRedirects=!1));let g=new Nc(o,c,Object.freeze(de({},this.urlTree.queryParams)),this.urlTree.fragment,Px(r),go(r),r.component??r._loadedComponent??null,r,Ox(r)),S=Kf(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(S.params),g.data=Object.freeze(S.data);let w=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,f,g,t);return this.applyRedirects.lineralizeSegments(r,w).pipe(qr(I=>this.processSegment(t,n,e,I.concat(y),a,!1,s)))}matchSegmentAgainstRoute(t,e,n,r,o,a){let s=Dk(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),s.pipe(Ir(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(Ir(({routes:c})=>{let u=n._loadedInjector??t,{parameters:f,consumedSegments:y,remainingSegments:g}=l,S=new Nc(y,f,Object.freeze(de({},this.urlTree.queryParams)),this.urlTree.fragment,Px(n),go(n),n.component??n._loadedComponent??null,n,Ox(n)),w=Kf(S,a,this.paramsInheritanceStrategy);S.params=Object.freeze(w.params),S.data=Object.freeze(w.data);let{segmentGroup:I,slicedSegments:A}=Mx(e,y,g,c);if(A.length===0&&I.hasChildren())return this.processChildren(u,c,I,S).pipe(gt(V=>new kr(S,V)));if(c.length===0&&A.length===0)return dt(new kr(S,[]));let T=go(n)===o;return this.processSegment(u,c,I,A,T?Lt:o,!0,S).pipe(gt(V=>new kr(S,V instanceof kr?[V]:[])))}))):Mc(e)))}getChildConfig(t,e,n){return e.children?dt({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?dt({routes:e._loadedRoutes,injector:e._loadedInjector}):xk(t,e,n,this.urlSerializer).pipe(qr(r=>r?this.configLoader.loadChildren(t,e).pipe(wt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):Sk(e))):dt({routes:[],injector:t})}};function Nk(i){i.sort((t,e)=>t.value.outlet===Lt?-1:e.value.outlet===Lt?1:t.value.outlet.localeCompare(e.value.outlet))}function Lk(i){let t=i.value.routeConfig;return t&&t.path===""}function nC(i){let t=[],e=new Set;for(let n of i){if(!Lk(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=nC(n.children);t.push(new kr(n.value,r))}return t.filter(n=>!e.has(n))}function Px(i){return i.data||{}}function Ox(i){return i.resolve||{}}function Rk(i,t,e,n,r,o){return qr(a=>Pk(i,t,e,n,a.extractedUrl,r,o).pipe(gt(({state:s,tree:l})=>Fe(de({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function Fk(i,t){return qr(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return dt(e);let o=new Set(r.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of rC(l))a.add(c);let s=0;return Kn(a).pipe(hl(l=>o.has(l)?jk(l,n,i,t):(l.data=Kf(l,l.parent,i).resolve,dt(void 0))),wt(()=>s++),xv(1),qr(l=>s===a.size?dt(e):ns))})}function rC(i){let t=i.children.map(e=>rC(e)).flat();return[i,...t]}function jk(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!Zx(r)&&(o[rh]=r.title),Bk(o,i,t,n).pipe(gt(a=>(i._resolvedData=a,i.data=Kf(i,i.parent,e).resolve,null)))}function Bk(i,t,e,n){let r=eb(i);if(r.length===0)return dt({});let o={};return Kn(r).pipe(qr(a=>Vk(i[a],t,e,n).pipe(os(),wt(s=>{if(s instanceof th)throw Qf(new Xu,s);o[a]=s}))),xv(1),x2(o),Bo(a=>eC(a)?ns:ga(a)))}function Vk(i,t,e,n){let r=oh(t)??n,o=Bc(i,r),a=o.resolve?o.resolve(t,e):fo(r,()=>o(t,e));return vs(a)}function Jv(i){return Ir(t=>{let e=i(t);return e?Kn(e).pipe(gt(()=>t)):dt(t)})}var oC=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===Lt);return n}getResolvedTitleForRoute(e){return e.data[rh]}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:()=>ue(Uk),providedIn:"root"})}}return i})(),Uk=(()=>{class i extends oC{constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||i)(Ie(Ix))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Tb=new He("",{providedIn:"root",factory:()=>({})}),zk=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=Ye({type:i,selectors:[["ng-component"]],standalone:!0,features:[Xe],decls:1,vars:0,template:function(n,r){n&1&&q(0,"router-outlet")},dependencies:[Eb],encapsulation:2})}}return i})();function Mb(i){let t=i.children&&i.children.map(Mb),e=t?Fe(de({},i),{children:t}):de({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Lt&&(e.component=zk),e}var Pb=new He(""),qk=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ue(kv)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return dt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=vs(e.loadComponent()).pipe(gt(aC),wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),rs(()=>{this.componentLoaders.delete(e)})),r=new vv(n,()=>new mt).pipe(gv());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return dt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=Hk(n,this.compiler,e,this.onLoadEndListener).pipe(rs(()=>{this.childrenLoaders.delete(n)})),a=new vv(o,()=>new mt).pipe(gv());return this.childrenLoaders.set(n,a),a}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Hk(i,t,e,n){return vs(i.loadChildren()).pipe(gt(aC),qr(r=>r instanceof V2||Array.isArray(r)?dt(r):Kn(t.compileModuleAsync(r))),gt(r=>{n&&n(i);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(e).injector,a=o.get(Pb,[],{optional:!0,self:!0}).flat()),{routes:a.map(Mb),injector:o}}))}function Gk(i){return i&&typeof i=="object"&&"default"in i}function aC(i){return Gk(i)?i.default:i}var Ob=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:()=>ue($k),providedIn:"root"})}}return i})(),$k=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Wk=new He("");var Yk=new He(""),Xk=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new mt,this.transitionAbortSubject=new mt,this.configLoader=ue(qk),this.environmentInjector=ue(as),this.urlSerializer=ue(Ib),this.rootContexts=ue(tm),this.location=ue(hs),this.inputBindingEnabled=ue(kb,{optional:!0})!==null,this.titleStrategy=ue(oC),this.options=ue(Tb,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ue(Ob),this.createViewTransition=ue(Wk,{optional:!0}),this.navigationErrorHandler=ue(Yk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>dt(void 0),this.rootComponentType=null;let e=r=>this.events.next(new cb(r)),n=r=>this.events.next(new db(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(Fe(de(de({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,r){return this.transitions=new qi({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Wu,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Sn(o=>o.id!==0),gt(o=>Fe(de({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ir(o=>{let a=!1,s=!1;return dt(o).pipe(Ir(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tr.SupersededByNewNavigation),ns;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Fe(de({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let f="";return this.events.next(new wl(l.id,this.urlSerializer.serialize(l.rawUrl),f,rb.IgnoredSameUrlNavigation)),l.resolve(!1),ns}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return dt(l).pipe(Ir(f=>{let y=this.transitions?.getValue();return this.events.next(new Ku(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),y!==this.transitions?.getValue()?ns:Promise.resolve(f)}),Rk(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),wt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Fe(de({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let y=new Yf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(y)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:y,source:g,restoredState:S,extras:w}=l,I=new Ku(f,this.urlSerializer.serialize(y),g,S);this.events.next(I);let A=Yx(this.rootComponentType).snapshot;return this.currentTransition=o=Fe(de({},l),{targetSnapshot:A,urlAfterRedirects:y,extras:Fe(de({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,dt(o)}else{let f="";return this.events.next(new wl(l.id,this.urlSerializer.serialize(l.extractedUrl),f,rb.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ns}}),wt(l=>{let c=new ob(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),gt(l=>(this.currentTransition=o=Fe(de({},l),{guards:ik(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),pk(this.environmentInjector,l=>this.events.next(l)),wt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Qf(this.urlSerializer,l.guardsResult);let c=new ab(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Sn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Tr.GuardRejected),!1)),Jv(l=>{if(l.guards.canActivateChecks.length)return dt(l).pipe(wt(c=>{let u=new sb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ir(c=>{let u=!1;return dt(c).pipe(Fk(this.paramsInheritanceStrategy,this.environmentInjector),wt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Tr.NoDataFromResolver)}}))}),wt(c=>{let u=new lb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Jv(l=>{let c=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(wt(y=>{u.component=y}),gt(()=>{})));for(let y of u.children)f.push(...c(y));return f};return Cu(c(l.targetSnapshot.root)).pipe(yv(null),ei(1))}),Jv(()=>this.afterPreactivation()),Ir(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Kn(u).pipe(gt(()=>o)):dt(o)}),gt(l=>{let c=K4(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Fe(de({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),wt(()=>{this.events.next(new Qu)}),tk(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ei(1),wt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),ba(this.transitionAbortSubject.pipe(wt(l=>{throw l}))),rs(()=>{!a&&!s&&this.cancelNavigationTransition(o,"",Tr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bo(l=>{if(s=!0,Qx(l))this.events.next(new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),ek(l)?this.events.next(new Fc(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new Ju(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=fo(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof th){let{message:f,cancellationCode:y}=Qf(this.urlSerializer,u);this.events.next(new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),f,y)),this.events.next(new Fc(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let f=e.errorHandler(l);o.resolve(!!f)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return ns}))}))}cancelNavigationTransition(e,n,r){let o=new Ca(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Zk(i){return i!==Wu}var Kk=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:()=>ue(Jk),providedIn:"root"})}}return i})(),Db=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Jk=(()=>{class i extends Db{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),sC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:()=>ue(Qk),providedIn:"root"})}}return i})(),Qk=(()=>{class i extends sC{constructor(){super(...arguments),this.location=ue(hs),this.urlSerializer=ue(Ib),this.options=ue(Tb,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ue(Ob),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wa,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Yx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Ku)this.stateMemento=this.createStateMemento();else if(e instanceof wl)this.rawUrlTree=n.initialUrl;else if(e instanceof Yf){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??r,n)}}else e instanceof Qu?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof Ca&&(e.code===Tr.GuardRejected||e.code===Tr.NoDataFromResolver)?this.restoreHistory(n):e instanceof Ju?this.restoreHistory(n,!0):e instanceof gs&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let r=e instanceof wa?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){let o=this.browserPageId,a=de(de({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(r,"",a)}else{let o=de(de({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Gu=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Gu||{});function eT(i,t){i.events.pipe(Sn(e=>e instanceof gs||e instanceof Ca||e instanceof Ju||e instanceof wl),gt(e=>e instanceof gs||e instanceof wl?Gu.COMPLETE:(e instanceof Ca?e.code===Tr.Redirect||e.code===Tr.SupersededByNewNavigation:!1)?Gu.REDIRECTING:Gu.FAILED),Sn(e=>e!==Gu.REDIRECTING),ei(1)).subscribe(()=>{t()})}function tT(i){throw i}var iT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fi=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=ue(If),this.stateManager=ue(sC),this.options=ue(Tb,{optional:!0})||{},this.pendingTasks=ue(yf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ue(Xk),this.urlSerializer=ue(Ib),this.location=ue(hs),this.urlHandlingStrategy=ue(Ob),this._events=new mt,this.errorHandler=this.options.errorHandler||tT,this.navigated=!1,this.routeReuseStrategy=ue(Kk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ue(Pb,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ue(kb,{optional:!0}),this.eventsSubscription=new po,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Ca&&n.code!==Tr.Redirect&&n.code!==Tr.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof gs)this.navigated=!0;else if(n instanceof Fc){let a=n.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=de({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Zk(r.source)},a);this.scheduleNavigation(s,Wu,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}oT(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let l=de({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,n,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Mb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:a,u=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":u=de(de({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let y=r?r.snapshot:this.routerState.snapshot.root;f=Hx(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return Gx(f,e,u,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Cl(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Wu,null,n)}navigate(e,n={skipLocationChange:!1}){return rT(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=de({},iT):n===!1?r=de({},nT):r=n,Cl(e))return Ax(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Ax(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((f,y)=>{s=f,l=y});let u=this.pendingTasks.add();return eT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function rT(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new Jt(4008,!1)}function oT(i){return!(i instanceof Qu)&&!(i instanceof Fc)}var lC=(()=>{class i{constructor(e,n,r,o,a,s){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s,this.href=null,this.onChanges=new mt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof gs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Cl(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||n||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:j2(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Cl(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(n){return new(n||i)(le(fi),le(Sa),_f("tabindex"),le(ml),le(ti),le(Mv))}}static{this.\u0275dir=Bt({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&_e("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),n&2&&pn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wr],replaceUrl:[2,"replaceUrl","replaceUrl",Wr],routerLink:"routerLink"},standalone:!0,features:[Vo,ki]})}}return i})();var aT=new He("");function cC(i,...t){return Gr([{provide:Pb,multi:!0,useValue:i},[],{provide:Sa,useFactory:sT,deps:[fi]},{provide:Ev,multi:!0,useFactory:lT},t.map(e=>e.\u0275providers)])}function sT(i){return i.routerState.root}function lT(){let i=ue(Gi);return t=>{let e=i.get(Uo);if(t!==e.components[0])return;let n=i.get(fi),r=i.get(cT);i.get(dT)===1&&n.initialNavigation(),i.get(uT,null,Cv.Optional)?.setUpPreloading(),i.get(aT,null,Cv.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var cT=new He("",{factory:()=>new mt}),dT=new He("",{providedIn:"root",factory:()=>1});var uT=new He("");function Nb(i,t){let e=!t?.manualCleanup;e&&!t?.injector&&E2(Nb);let n=e?t?.injector?.get(Sv)??ue(Sv):null,r=pT(t?.equal),o;t?.requireSync?o=Ar({kind:0},{equal:r}):o=Ar({kind:1,value:t?.initialValue},{equal:r});let a=i.subscribe({next:s=>o.set({kind:1,value:s}),error:s=>{if(t?.rejectErrors)throw s;o.set({kind:2,error:s})}});if(t?.requireSync&&o().kind===0)throw new Jt(601,!1);return n?.onDestroy(a.unsubscribe.bind(a)),ya(()=>{let s=o();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new Jt(601,!1)}},{equal:t?.equal})}function pT(i=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&i(t.value,e.value)}var jb={};function ch(i,t){if(jb[i]=(jb[i]||0)+1,typeof t=="function")return Lb(i,(...n)=>Fe(de({},t(...n)),{type:i}));switch(t?t._as:"empty"){case"empty":return Lb(i,()=>({type:i}));case"props":return Lb(i,n=>Fe(de({},n),{type:i}));default:throw new Error("Unexpected config.")}}function sm(){return{_as:"props",_p:void 0}}function Lb(i,t){return Object.defineProperty(t,"type",{value:i,writable:!1})}var IC="@ngrx/store/init",Vc=(()=>{class i extends qi{constructor(){super({type:IC})}next(e){if(typeof e=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof e>"u")throw new TypeError("Actions must be objects");if(typeof e.type>"u")throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),fT=[Vc],AC=new He("@ngrx/store Internal Root Guard"),dC=new He("@ngrx/store Internal Initial State"),qb=new He("@ngrx/store Initial State"),EC=new He("@ngrx/store Reducer Factory"),uC=new He("@ngrx/store Internal Reducer Factory Provider"),kC=new He("@ngrx/store Initial Reducers"),Rb=new He("@ngrx/store Internal Initial Reducers"),hC=new He("@ngrx/store Store Features"),pC=new He("@ngrx/store Internal Store Reducers"),Fb=new He("@ngrx/store Internal Feature Reducers"),fC=new He("@ngrx/store Internal Feature Configs"),TC=new He("@ngrx/store Internal Store Features"),mC=new He("@ngrx/store Internal Feature Reducers Token"),MC=new He("@ngrx/store Feature Reducers"),gC=new He("@ngrx/store User Provided Meta Reducers"),nm=new He("@ngrx/store Meta Reducers"),vC=new He("@ngrx/store Internal Resolved Meta Reducers"),bC=new He("@ngrx/store User Runtime Checks Config"),_C=new He("@ngrx/store Internal User Runtime Checks Config"),sh=new He("@ngrx/store Internal Runtime Checks"),Hb=new He("@ngrx/store Check if Action types are unique"),Bb=new He("@ngrx/store Root Store Provider"),yC=new He("@ngrx/store Feature State Provider");function Gb(i,t={}){let e=Object.keys(i),n={};for(let o=0;o<e.length;o++){let a=e[o];typeof i[a]=="function"&&(n[a]=i[a])}let r=Object.keys(n);return function(a,s){a=a===void 0?t:a;let l=!1,c={};for(let u=0;u<r.length;u++){let f=r[u],y=n[f],g=a[f],S=y(g,s);c[f]=S,l=l||S!==g}return l?c:a}}function mT(i,t){return Object.keys(i).filter(e=>e!==t).reduce((e,n)=>Object.assign(e,{[n]:i[n]}),{})}function PC(...i){return function(t){if(i.length===0)return t;let e=i[i.length-1];return i.slice(0,-1).reduceRight((r,o)=>o(r),e(t))}}function OC(i,t){return Array.isArray(t)&&t.length>0&&(i=PC.apply(null,[...t,i])),(e,n)=>{let r=i(e);return(o,a)=>(o=o===void 0?n:o,r(o,a))}}function gT(i){let t=Array.isArray(i)&&i.length>0?PC(...i):e=>e;return(e,n)=>(e=t(e),(r,o)=>(r=r===void 0?n:r,e(r,o)))}var lh=class extends wn{},rm=class extends Vc{},vT="@ngrx/store/update-reducers",om=(()=>{class i extends qi{get currentReducers(){return this.reducers}constructor(e,n,r,o){super(o(r,n)),this.dispatcher=e,this.initialState=n,this.reducers=r,this.reducerFactory=o}addFeature(e){this.addFeatures([e])}addFeatures(e){let n=e.reduce((r,{reducers:o,reducerFactory:a,metaReducers:s,initialState:l,key:c})=>{let u=typeof o=="function"?gT(s)(o,l):OC(a,s)(o,l);return r[c]=u,r},{});this.addReducers(n)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(n=>n.key))}addReducer(e,n){this.addReducers({[e]:n})}addReducers(e){this.reducers=de(de({},this.reducers),e),this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(n=>{this.reducers=mT(this.reducers,n)}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:vT,features:e})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(n){return new(n||i)(Ie(rm),Ie(qb),Ie(kC),Ie(EC))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),bT=[om,{provide:lh,useExisting:om},{provide:rm,useExisting:Vc}],$b=(()=>{class i extends mt{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),_T=[$b],am=class extends wn{},xC=(()=>{class i extends qi{static{this.INIT=IC}constructor(e,n,r,o){super(o);let s=e.pipe(b2(v2)).pipe(D2(n)),l={state:o},c=s.pipe(vf(yT,l));this.stateSubscription=c.subscribe(({state:u,action:f})=>{this.next(u),r.next(f)}),this.state=Nb(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(n){return new(n||i)(Ie(Vc),Ie(lh),Ie($b),Ie(qb))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})();function yT(i={state:void 0},[t,e]){let{state:n}=i;return{state:e(n,t),action:t}}var xT=[xC,{provide:am,useExisting:xC}],ir=(()=>{class i extends wn{constructor(e,n,r){super(),this.actionsObserver=n,this.reducerManager=r,this.source=e,this.state=e.state}select(e,...n){return Da.call(null,e,...n)(this)}selectSignal(e,n){return ya(()=>e(this.state()),n)}lift(e){let n=new i(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,n){this.reducerManager.addReducer(e,n)}removeReducer(e){this.reducerManager.removeReducer(e)}static{this.\u0275fac=function(n){return new(n||i)(Ie(am),Ie(Vc),Ie(om))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),CT=[ir];function Da(i,t,...e){return function(r){let o;if(typeof i=="string"){let a=[t,...e].filter(Boolean);o=r.pipe(w2(i,...a))}else if(typeof i=="function")o=r.pipe(gt(a=>i(a,t)));else throw new TypeError(`Unexpected type '${typeof i}' in select operator, expected 'string' or 'function'`);return o.pipe(pl())}}var Wb="https://ngrx.io/guide/store/configuration/runtime-checks";function CC(i){return i===void 0}function wC(i){return i===null}function NC(i){return Array.isArray(i)}function wT(i){return typeof i=="string"}function ST(i){return typeof i=="boolean"}function DT(i){return typeof i=="number"}function LC(i){return typeof i=="object"&&i!==null}function IT(i){return LC(i)&&!NC(i)}function AT(i){if(!IT(i))return!1;let t=Object.getPrototypeOf(i);return t===Object.prototype||t===null}function Vb(i){return typeof i=="function"}function ET(i){return Vb(i)&&i.hasOwnProperty("\u0275cmp")}function kT(i,t){return Object.prototype.hasOwnProperty.call(i,t)}var TT=!1;function MT(){return TT}function SC(i,t){return i===t}function PT(i,t,e){for(let n=0;n<i.length;n++)if(!e(i[n],t[n]))return!0;return!1}function RC(i,t=SC,e=SC){let n=null,r=null,o;function a(){n=null,r=null}function s(u=void 0){o={result:u}}function l(){o=void 0}function c(){if(o!==void 0)return o.result;if(!n)return r=i.apply(null,arguments),n=arguments,r;if(!PT(arguments,n,t))return r;let u=i.apply(null,arguments);return n=arguments,e(r,u)?r:(r=u,u)}return{memoized:c,reset:a,setResult:s,clearResult:l}}function dh(...i){return NT(RC)(...i)}function OT(i,t,e,n){if(e===void 0){let o=t.map(a=>a(i));return n.memoized.apply(null,o)}let r=t.map(o=>o(i,e));return n.memoized.apply(null,[...r,e])}function NT(i,t={stateFn:OT}){return function(...e){let n=e;if(Array.isArray(n[0])){let[u,...f]=n;n=[...u,...f]}else n.length===1&&LT(n[0])&&(n=RT(n[0]));let r=n.slice(0,n.length-1),o=n[n.length-1],a=r.filter(u=>u.release&&typeof u.release=="function"),s=i(function(...u){return o.apply(null,u)}),l=RC(function(u,f){return t.stateFn.apply(null,[u,r,f,s])});function c(){l.reset(),s.reset(),a.forEach(u=>u.release())}return Object.assign(l.memoized,{release:c,projector:s.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function FC(i){return dh(t=>{let e=t[i];return!MT()&&Tv()&&!(i in t)&&console.warn(`@ngrx/store: The feature name "${i}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${i}', ...) or StoreModule.forFeature('${i}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),e},t=>t)}function LT(i){return!!i&&typeof i=="object"&&Object.values(i).every(t=>typeof t=="function")}function RT(i){let t=Object.values(i),e=Object.keys(i),n=(...r)=>e.reduce((o,a,s)=>Fe(de({},o),{[a]:r[s]}),{});return[...t,n]}function FT(i){return i instanceof He?ue(i):i}function jT(i,t){return t.map((e,n)=>{if(i[n]instanceof He){let r=ue(i[n]);return{key:e.key,reducerFactory:r.reducerFactory?r.reducerFactory:Gb,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return e})}function BT(i){return i.map(t=>t instanceof He?ue(t):t)}function jC(i){return typeof i=="function"?i():i}function VT(i,t){return i.concat(t)}function UT(){if(ue(ir,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function zT(i,t){return function(e,n){let r=t.action(n)?Ub(n):n,o=i(e,r);return t.state()?Ub(o):o}}function Ub(i){Object.freeze(i);let t=Vb(i);return Object.getOwnPropertyNames(i).forEach(e=>{if(!e.startsWith("\u0275")&&kT(i,e)&&(!t||e!=="caller"&&e!=="callee"&&e!=="arguments")){let n=i[e];(LC(n)||Vb(n))&&!Object.isFrozen(n)&&Ub(n)}}),i}function qT(i,t){return function(e,n){if(t.action(n)){let o=zb(n);DC(o,"action")}let r=i(e,n);if(t.state()){let o=zb(r);DC(o,"state")}return r}}function zb(i,t=[]){return(CC(i)||wC(i))&&t.length===0?{path:["root"],value:i}:Object.keys(i).reduce((n,r)=>{if(n)return n;let o=i[r];return ET(o)?n:CC(o)||wC(o)||DT(o)||ST(o)||wT(o)||NC(o)?!1:AT(o)?zb(o,[...t,r]):{path:[...t,r],value:o}},!1)}function DC(i,t){if(i===!1)return;let e=i.path.join("."),n=new Error(`Detected unserializable ${t} at "${e}". ${Wb}#strict${t}serializability`);throw n.value=i.value,n.unserializablePath=e,n}function HT(i,t){return function(e,n){if(t.action(n)&&!Ot.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${Wb}#strictactionwithinngzone`);return i(e,n)}}function GT(i){return Tv()?de({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},i):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function $T({strictActionSerializability:i,strictStateSerializability:t}){return e=>i||t?qT(e,{action:n=>i&&!Yb(n),state:()=>t}):e}function WT({strictActionImmutability:i,strictStateImmutability:t}){return e=>i||t?zT(e,{action:n=>i&&!Yb(n),state:()=>t}):e}function Yb(i){return i.type.startsWith("@ngrx")}function YT({strictActionWithinNgZone:i}){return t=>i?HT(t,{action:e=>i&&!Yb(e)}):t}function XT(i){return[{provide:_C,useValue:i},{provide:bC,useFactory:ZT,deps:[_C]},{provide:sh,deps:[bC],useFactory:GT},{provide:nm,multi:!0,deps:[sh],useFactory:WT},{provide:nm,multi:!0,deps:[sh],useFactory:$T},{provide:nm,multi:!0,deps:[sh],useFactory:YT}]}function BC(){return[{provide:Hb,multi:!0,deps:[sh],useFactory:KT}]}function ZT(i){return i}function KT(i){if(!i.strictActionTypeUniqueness)return;let t=Object.entries(jb).filter(([,e])=>e>1).map(([e])=>e);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(e=>`"${e}"`).join(", ")}. ${Wb}#strictactiontypeuniqueness`)}function VC(i,t,e={}){return Gr([...nM(i,t,e),iM])}function JT(i={},t={}){return[{provide:AC,useFactory:UT},{provide:dC,useValue:t.initialState},{provide:qb,useFactory:jC,deps:[dC]},{provide:Rb,useValue:i},{provide:pC,useExisting:i instanceof He?i:Rb},{provide:kC,deps:[Rb,[new wv(pC)]],useFactory:FT},{provide:gC,useValue:t.metaReducers?t.metaReducers:[]},{provide:vC,deps:[nm,gC],useFactory:VT},{provide:uC,useValue:t.reducerFactory?t.reducerFactory:Gb},{provide:EC,deps:[uC,vC],useFactory:OC},fT,bT,_T,xT,CT,XT(t.runtimeChecks),BC()]}function QT(){ue(Vc),ue(lh),ue($b),ue(ir),ue(AC,{optional:!0}),ue(Hb,{optional:!0})}var eM=[{provide:Bb,useFactory:QT},{provide:wu,multi:!0,useFactory(){return()=>ue(Bb)}}];function UC(i,t){return Gr([...JT(i,t),eM])}function tM(){ue(Bb);let i=ue(TC),t=ue(MC),e=ue(om);ue(Hb,{optional:!0});let n=i.map((r,o)=>{let s=t.shift()[o];return Fe(de({},r),{reducers:s,initialState:jC(r.initialState)})});e.addFeatures(n)}var iM=[{provide:yC,useFactory:tM},{provide:wu,multi:!0,useFactory(){return()=>ue(yC)}}];function nM(i,t,e={}){return[{provide:fC,multi:!0,useValue:i instanceof Object?{}:e},{provide:hC,multi:!0,useValue:{key:i instanceof Object?i.name:i,reducerFactory:!(e instanceof He)&&e.reducerFactory?e.reducerFactory:Gb,metaReducers:!(e instanceof He)&&e.metaReducers?e.metaReducers:[],initialState:!(e instanceof He)&&e.initialState?e.initialState:void 0}},{provide:TC,deps:[fC,hC],useFactory:jT},{provide:Fb,multi:!0,useValue:i instanceof Object?i.reducer:t},{provide:mC,multi:!0,useExisting:t instanceof He?t:Fb},{provide:MC,multi:!0,deps:[Fb,[new wv(mC)]],useFactory:BT},BC()]}function uh(...i){let t=i.pop(),e=i.map(n=>n.type);return{reducer:t,types:e}}function zC(i,...t){let e=new Map;for(let n of t)for(let r of n.types){let o=e.get(r);if(o){let a=(s,l)=>n.reducer(o(s,l),l);e.set(r,a)}else e.set(r,n.reducer)}return function(n=i,r){let o=e.get(r.type);return o?o(n,r):n}}var Zb;try{Zb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Zb=!1}var In=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?ex(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Zb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||i)(Ie(_a))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ph;function rM(){if(ph==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ph=!0}))}finally{ph=ph||!1}return ph}function Uc(i){return rM()?i:!!i.capture}var Sl;function qC(){if(Sl==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Sl=!1,Sl;if("scrollBehavior"in document.documentElement.style)Sl=!0;else{let i=Element.prototype.scrollTo;i?Sl=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Sl=!1}}return Sl}var Xb;function oM(){if(Xb==null){let i=typeof document<"u"?document.head:null;Xb=!!(i&&(i.createShadowRoot||i.attachShadow))}return Xb}function HC(i){if(oM()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function fh(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){let t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function vo(i){return i.composedPath?i.composedPath()[0]:i.target}function mh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function cm(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function gh(i,t=0){return aM(i)?Number(i):arguments.length===2?t:0}function aM(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function zc(i){return Array.isArray(i)?i:[i]}function rn(i){return i==null?"":typeof i=="string"?i:`${i}px`}function Ia(i){return i instanceof ti?i.nativeElement:i}var sM=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var GC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({providers:[sM]})}}return i})();var $C=new Set,Dl,lM=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dM}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&cM(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(n){return new(n||i)(Ie(In),Ie(Du,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function cM(i,t){if(!$C.has(i))try{Dl||(Dl=document.createElement("style"),t&&Dl.setAttribute("nonce",t),Dl.setAttribute("type","text/css"),document.head.appendChild(Dl)),Dl.sheet&&(Dl.sheet.insertRule(`@media ${i} {body{ }}`,0),$C.add(i))}catch(e){console.error(e)}}function dM(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var YC=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new mt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return WC(zc(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=WC(zc(e)).map(a=>this._registerQuery(a).observable),o=Cu(r);return o=mf(o.pipe(ei(1)),o.pipe(bf(1),_v(0))),o.pipe(gt(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new wn(a=>{let s=l=>this._zone.run(()=>a.next(l));return n.addListener(s),()=>{n.removeListener(s)}}).pipe(va(n),gt(({matches:a})=>({query:e,matches:a})),ba(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static{this.\u0275fac=function(n){return new(n||i)(Ie(lM),Ie(Ot))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function WC(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var vh=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return hM(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=uM(yM(e));if(n&&(XC(n)===-1||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=XC(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!bM(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return _M(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(n){return new(n||i)(Ie(In))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function uM(i){try{return i.frameElement}catch{return null}}function hM(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function pM(i){let t=i.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function fM(i){return gM(i)&&i.type=="hidden"}function mM(i){return vM(i)&&i.hasAttribute("href")}function gM(i){return i.nodeName.toLowerCase()=="input"}function vM(i){return i.nodeName.toLowerCase()=="a"}function JC(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let t=i.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function XC(i){if(!JC(i))return null;let t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function bM(i){let t=i.nodeName.toLowerCase(),e=t==="input"&&i.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function _M(i){return fM(i)?!1:pM(i)||mM(i)||i.hasAttribute("contenteditable")||JC(i)}function yM(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var Jb=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,o=!1,a){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._injector=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=0;n<e.length;n++){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=e.length-1;n>=0;n--){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?ss(t,{injector:this._injector}):setTimeout(t)}},hm=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._injector=ue(Gi),this._document=r}create(e,n=!1){return new Jb(e,this._checker,this._ngZone,this._document,n,this._injector)}static{this.\u0275fac=function(n){return new(n||i)(Ie(vh),Ie(Ot),Ie(vt))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Qb(i){return i.buttons===0||i.detail===0}function e_(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var xM=new He("cdk-input-modality-detector-options"),CM={ignoreKeys:[18,17,224,91,16]},QC=650,qc=Uc({passive:!0,capture:!0}),wM=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new qi(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(s=>s===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=vo(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<QC||(this._modality.next(Qb(a)?"keyboard":"mouse"),this._mostRecentTarget=vo(a))},this._onTouchstart=a=>{if(e_(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=vo(a)},this._options=de(de({},CM),o),this.modalityDetected=this._modality.pipe(bf(1)),this.modalityChanged=this.modalityDetected.pipe(pl()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,qc),r.addEventListener("mousedown",this._onMousedown,qc),r.addEventListener("touchstart",this._onTouchstart,qc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qc),document.removeEventListener("mousedown",this._onMousedown,qc),document.removeEventListener("touchstart",this._onTouchstart,qc))}static{this.\u0275fac=function(n){return new(n||i)(Ie(In),Ie(Ot),Ie(vt),Ie(xM,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var um=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(um||{}),SM=new He("cdk-focus-monitor-default-options"),dm=Uc({passive:!0,capture:!0}),pm=(()=>{class i{constructor(e,n,r,o,a){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new mt,this._rootNodeFocusAndBlurListener=s=>{let l=vo(s);for(let c=l;c;c=c.parentElement)s.type==="focus"?this._onFocus(s,c):this._onBlur(s,c)},this._document=o,this._detectionMode=a?.detectionMode||um.IMMEDIATE}monitor(e,n=!1){let r=Ia(e);if(!this._platform.isBrowser||r.nodeType!==1)return dt();let o=HC(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return n&&(a.checkChildren=!0),a.subject;let s={checkChildren:n,subject:new mt,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let n=Ia(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=Ia(e),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,n,l)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===um.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===um.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?QC:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=vo(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,dm),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,dm)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ba(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dm),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dm),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(n))return!0}return!1}static{this.\u0275fac=function(n){return new(n||i)(Ie(Ot),Ie(In),Ie(wM),Ie(vt,8),Ie(SM,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Il=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(Il||{}),ZC="cdk-high-contrast-black-on-white",KC="cdk-high-contrast-white-on-black",Kb="cdk-high-contrast-active",t_=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=ue(YC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Il.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Il.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Il.BLACK_ON_WHITE}return Il.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Kb,ZC,KC),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Il.BLACK_ON_WHITE?e.add(Kb,ZC):n===Il.WHITE_ON_BLACK&&e.add(Kb,KC)}}static{this.\u0275fac=function(n){return new(n||i)(Ie(In),Ie(vt))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),fm=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(n){return new(n||i)(Ie(t_))}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({imports:[GC]})}}return i})();var DM=new He("cdk-dir-doc",{providedIn:"root",factory:IM});function IM(){return ue(vt)}var AM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function EM(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?AM.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var bh=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new ct,e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=EM(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(n){return new(n||i)(Ie(DM,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var bs=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({})}}return i})();function TM(){return!0}var MM=new He("mat-sanity-checks",{providedIn:"root",factory:TM}),dr=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return mh()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(n){return new(n||i)(Ie(t_),Ie(MM,8),Ie(vt))}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({imports:[bs,bs]})}}return i})();var Zr=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Zr||{}),n_=class{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=Zr.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},ew=Uc({passive:!0,capture:!0}),r_=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=vo(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){let o=this._events.get(e);if(o){let a=o.get(n);a?a.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,ew)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,ew)))}},tw={enterDuration:225,exitDuration:150},PM=800,iw=Uc({passive:!0,capture:!0}),nw=["mousedown","touchstart"],rw=["mouseup","mouseleave","touchend","touchcancel"],ow=class i{static{this._eventManager=new r_}constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ia(n))}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=de(de({},tw),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let a=n.radius||OM(t,e,r),s=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-a}px`,u.style.top=`${l-a}px`,u.style.height=`${a*2}px`,u.style.width=`${a*2}px`,n.color!=null&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let f=window.getComputedStyle(u),y=f.transitionProperty,g=f.transitionDuration,S=y==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,w=new n_(this,u,n,S);u.style.transform="scale3d(1, 1, 1)",w.state=Zr.FADING_IN,n.persistent||(this._mostRecentTransientRipple=w);let I=null;return!S&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let A=()=>{I&&(I.fallbackTimer=null),clearTimeout(V),this._finishRippleTransition(w)},T=()=>this._destroyRipple(w),V=setTimeout(T,c+100);u.addEventListener("transitionend",A),u.addEventListener("transitioncancel",T),I={onTransitionEnd:A,onTransitionCancel:T,fallbackTimer:V}}),this._activeRipples.set(w,I),(S||!c)&&this._finishRippleTransition(w),w}fadeOutRipple(t){if(t.state===Zr.FADING_OUT||t.state===Zr.HIDDEN)return;let e=t.element,n=de(de({},tw),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=Zr.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Ia(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,nw.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{rw.forEach(e=>{this._triggerElement.addEventListener(e,this,iw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Zr.FADING_IN?this._startFadeOutTransition(t):t.state===Zr.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=Zr.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Zr.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Qb(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+PM;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!e_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Zr.VISIBLE||t.config.terminateOnPointerUp&&t.state===Zr.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(nw.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(rw.forEach(e=>t.removeEventListener(e,this,iw)),this._pointerUpEventsRegistered=!1))}};function OM(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var aw=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({imports:[dr,dr]})}}return i})();var NM=["*"],mm;function LM(){if(mm===void 0&&(mm=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(mm=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return mm}function _h(i){return LM()?.createHTML(i)||i}function sw(i){return Error(`Unable to find icon with the name "${i}"`)}function RM(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function lw(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function cw(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var Aa=class{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}},FM=(()=>{class i{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new Aa(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){let a=this._sanitizer.sanitize(Qn.HTML,r);if(!a)throw cw(r);let s=_h(a);return this._addSvgIconConfig(e,n,new Aa("",s,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new Aa(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){let o=this._sanitizer.sanitize(Qn.HTML,n);if(!o)throw cw(n);let a=_h(o);return this._addSvgIconSetConfig(e,new Aa("",a,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let n=this._sanitizer.sanitize(Qn.RESOURCE_URL,e);if(!n)throw lw(e);let r=this._cachedIconsByUrl.get(n);return r?dt(gm(r)):this._loadSvgIconFromConfig(new Aa(e,null)).pipe(wt(o=>this._cachedIconsByUrl.set(n,o)),gt(o=>gm(o)))}getNamedSvgIcon(e,n=""){let r=dw(n,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(e,a):ga(sw(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?dt(gm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(gt(n=>gm(n)))}_getSvgFromIconSetConfigs(e,n){let r=this._extractIconWithNameFromAnySet(e,n);if(r)return dt(r);let o=n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Bo(s=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Qn.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),dt(null)})));return jo(o).pipe(gt(()=>{let a=this._extractIconWithNameFromAnySet(e,n);if(!a)throw sw(e);return a}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){let o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(wt(n=>e.svgText=n),gt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?dt(null):this._fetchIcon(e).pipe(wt(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){let o=e.querySelector(`[id="${n}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let s=this._svgElementFromString(_h("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(e){let n=this._document.createElement("DIV");n.innerHTML=e;let r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let n=this._svgElementFromString(_h("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:a,value:s}=r[o];a!=="id"&&n.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){let{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw RM();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let a=this._sanitizer.sanitize(Qn.RESOURCE_URL,n);if(!a)throw lw(n);let s=this._inProgressUrlFetches.get(a);if(s)return s;let l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(gt(c=>_h(c)),rs(()=>this._inProgressUrlFetches.delete(a)),S2());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(dw(e,n),r),this}_addSvgIconSetConfig(e,n){let r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){let n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](n,e);if(o)return jM(o)?new Aa(o.url,null,o.options):new Aa(o,null)}}static{this.\u0275fac=function(n){return new(n||i)(Ie(tr,8),Ie(zu),Ie(vt,8),Ie(fl))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function gm(i){return i.cloneNode(!0)}function dw(i,t){return i+":"+t}function jM(i){return!!(i.url&&i.options)}var BM=new He("MAT_ICON_DEFAULT_OPTIONS"),VM=new He("mat-icon-location",{providedIn:"root",factory:UM});function UM(){let i=ue(vt),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var uw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zM=uw.map(i=>`[${i}]`).join(", "),qM=/^url\(['"]?#(.*?)['"]?\)$/,_s=(()=>{class i{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,o,a,s){this._elementRef=e,this._iconRegistry=n,this._location=o,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=po.EMPTY,s&&(s.color&&(this.color=this._defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let r=e.childNodes[n];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let n=e.querySelectorAll(zM),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)uw.forEach(a=>{let s=n[o],l=s.getAttribute(a),c=l?l.match(qM):null;if(c){let u=r.get(s);u||(u=[],r.set(s,u)),u.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(ei(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${n}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static{this.\u0275fac=function(n){return new(n||i)(le(ti),le(FM),_f("aria-hidden"),le(VM),le(fl),le(BM,8))}}static{this.\u0275cmp=Ye({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){n&2&&(pn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),er(r.color?"mat-"+r.color:""),Er("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Wr],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Vo,Xe],ngContentSelectors:NM,decls:1,vars:0,template:function(n,r){n&1&&(ku(),Tu(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return i})(),Kr=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({imports:[dr,dr]})}}return i})();var HM=20,pw=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new mt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=HM){return this._platform.isBrowser?new wn(n=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(bv(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):dt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Sn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Ia(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return y2(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(n){return new(n||i)(Ie(Ot),Ie(In),Ie(vt,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var GM=20,o_=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new mt,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),a=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,s=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:a,left:s}}change(e=GM){return e>0?this._change.pipe(bv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(n){return new(n||i)(Ie(In),Ie(Ot),Ie(vt,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var vm=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({})}}return i})(),a_=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({imports:[bs,vm,bs,vm]})}}return i})();var yh=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Hc=class extends yh{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},Gc=class extends yh{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},s_=class extends yh{constructor(t){super(),this.element=t instanceof ti?t.nativeElement:t}},$c=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Hc)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Gc)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof s_)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var bm=class extends $c{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=a=>{this._document;let s=a.element;s.parentNode;let l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=o}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Gi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var xh=(()=>{class i extends $c{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new ct,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let s=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(s,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(a,s)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(n){return new(n||i)(le(Ac),le(gl),le(vt))}}static{this.\u0275dir=Bt({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Bi]})}}return i})();var Al=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({})}}return i})();var fw=qC(),l_=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=rn(-this._previousScrollPosition.left),t.style.top=rn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,o=n.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),fw&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fw&&(n.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var c_=class{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Sn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},_m=class{enable(){}disable(){}attach(){}};function d_(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,o=i.right<e.left,a=i.left>e.right;return n||r||o||a})}function mw(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,o=i.left<e.left,a=i.right>e.right;return n||r||o||a})}var u_=class{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();d_(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},WM=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new _m,this.close=a=>new c_(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new l_(this._viewportRuler,this._document),this.reposition=a=>new u_(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}static{this.\u0275fac=function(n){return new(n||i)(Ie(pw),Ie(o_),Ie(Ot),Ie(vt))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ch=class{constructor(t){if(this.scrollStrategy=new _m,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var h_=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var xw=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),YM=(()=>{class i extends xw{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(r)):s.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt),Ie(Ot,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),XM=(()=>{class i extends xw{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=vo(o)},this._clickListener=o=>{let a=vo(o),s=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){let u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(gw(u.overlayElement,a)||gw(u.overlayElement,s))break;let f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o)}}}add(e){if(super.add(e),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt),Ie(In),Ie(Ot,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function gw(i,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===i)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Wc=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||mh()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(e),mh()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt),Ie(In))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ea=class{constructor(t,e,n,r,o,a,s,l,c,u=!1,f){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._injector=f,this._backdropElement=null,this._backdropClick=new mt,this._attachments=new mt,this._detachments=new mt,this._locationChanges=po.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new mt,this._outsidePointerEvents=new mt,this._renders=new mt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=mo(()=>z2(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ss(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=de(de({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Fe(de({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=rn(this._config.width),t.height=rn(this._config.height),t.minWidth=rn(this._config.minWidth),t.minHeight=rn(this._config.minHeight),t.maxWidth=rn(this._config.maxWidth),t.maxHeight=rn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){let r=zc(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(ba(gf(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},vw="cdk-overlay-connected-position-bounding-box",ZM=/([A-Za-z%]+)$/,p_=class{get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new mt,this._resizeSubscription=po.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(vw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],a;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,r,s),c=this._getOverlayPoint(l,e,s),u=this._getOverlayFit(c,e,n,s);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(u,c,n)){o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(let c of o){let u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&El(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;r=n.originX=="start"?a:s}e.left<0&&(r-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){let o=_w(e),{x:a,y:s}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let u=0-a,f=a+o.width-n.width,y=0-s,g=s+o.height-n.height,S=this._subtractOverflows(o.width,u,f),w=this._subtractOverflows(o.height,y,g),I=S*w;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:S==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,o=n.right-e.x,a=bw(this._overlayRef.getConfig().minHeight),s=bw(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||a!=null&&a<=r,c=t.fitsInViewportHorizontally||s!=null&&s<=o;return l&&c}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=_w(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),s=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0),u=0,f=0;return r.width<=o.width?u=c||-a:u=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?f=l||-s:f=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:u,y:f},{x:t.x+u,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!KM(this._lastScrollVisibility,n)){let r=new h_(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),o,a,s;if(e.overlayY==="top")a=t.y,o=n.height-a+this._viewportMargin;else if(e.overlayY==="bottom")s=n.height-t.y+this._viewportMargin*2,o=n.height-s+this._viewportMargin;else{let g=Math.min(n.bottom-t.y+n.top,t.y),S=this._lastBoundingBoxSize.height;o=g*2,a=t.y-g,o>S&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-S/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,c=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,u,f,y;if(c)y=n.width-t.x+this._viewportMargin*2,u=t.x-this._viewportMargin;else if(l)f=t.x,u=n.right-t.x;else{let g=Math.min(n.right-t.x+n.left,t.x),S=this._lastBoundingBoxSize.width;u=g*2,f=t.x-g,u>S&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-S/2)}return{top:a,left:f,bottom:s,right:y,width:u,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=rn(n.height),r.top=rn(n.top),r.bottom=rn(n.bottom),r.width=rn(n.width),r.left=rn(n.left),r.right=rn(n.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=rn(o)),a&&(r.maxWidth=rn(a))}this._lastBoundingBoxSize=n,El(this._boundingBox.style,r)}_resetBoundingBoxStyles(){El(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){El(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();El(n,this._getExactOverlayY(e,t,u)),El(n,this._getExactOverlayX(e,t,u))}else n.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),a.maxHeight&&(r?n.maxHeight=rn(a.maxHeight):o&&(n.maxHeight="")),a.maxWidth&&(r?n.maxWidth=rn(a.maxWidth):o&&(n.maxWidth="")),El(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=rn(o.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(o.x+this._overlayRect.width)}px`}else r.left=rn(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mw(t,n),isOriginOutsideView:d_(t,n),isOverlayClipped:mw(e,n),isOverlayOutsideView:d_(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&zc(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof ti)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}};function El(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function bw(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(ZM);return!e||e==="px"?parseFloat(t):null}return i||null}function _w(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function KM(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var yw="cdk-global-overlay-wrapper",f_=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(yw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=n,l=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),c=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),u=this._xPosition,f=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",g="",S="",w="";l?w="flex-start":u==="center"?(w="center",y?S=f:g=f):y?u==="left"||u==="end"?(w="flex-end",g=f):(u==="right"||u==="start")&&(w="flex-start",S=f):u==="left"||u==="start"?(w="flex-start",g=f):(u==="right"||u==="end")&&(w="flex-end",S=f),t.position=this._cssPosition,t.marginLeft=l?"0":g,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":S,e.justifyContent=w,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(yw),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},JM=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new f_}flexibleConnectedTo(e){return new p_(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(n){return new(n||i)(Ie(o_),Ie(vt),Ie(In),Ie(Wc))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),QM=0,ur=(()=>{class i{constructor(e,n,r,o,a,s,l,c,u,f,y,g){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=l,this._document=c,this._directionality=u,this._location=f,this._outsideClickDispatcher=y,this._animationsModuleType=g}create(e){let n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),a=new Ch(e);return a.direction=a.direction||this._directionality.value,new Ea(o,n,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(as))}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=`cdk-overlay-${QM++}`,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Uo)),new bm(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(n){return new(n||i)(Ie(WM),Ie(Wc),Ie(Ac),Ie(JM),Ie(YM),Ie(Gi),Ie(Ot),Ie(vt),Ie(bh),Ie(hs),Ie(XM),Ie($r,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var eP=new He("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=ue(ur);return()=>i.scrollStrategies.reposition()}});function tP(i){return()=>i.scrollStrategies.reposition()}var iP={provide:eP,deps:[ur],useFactory:tP},Yc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({providers:[ur,iP],imports:[bs,Al,a_,a_]})}}return i})();var ww=20;var nP=new He("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=ue(ur);return()=>i.scrollStrategies.reposition({scrollThrottle:ww})}});function rP(i){return()=>i.scrollStrategies.reposition({scrollThrottle:ww})}var oP={provide:nP,deps:[ur],useFactory:rP};var ys=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({providers:[oP],imports:[fm,st,Yc,dr,dr,vm]})}}return i})();var Ow=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(le(ml),le(ti))}}static{this.\u0275dir=Bt({type:i})}}return i})(),Eh=(()=>{class i extends Ow{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275dir=Bt({type:i,features:[Bi]})}}return i})(),Tl=new He(""),aP={provide:Tl,useExisting:Hr(()=>x_),multi:!0},x_=(()=>{class i extends Eh{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275dir=Bt({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&_e("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[Bn([aP]),Bi]})}}return i})(),sP={provide:Tl,useExisting:Hr(()=>li),multi:!0};function lP(){let i=kc()?kc().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var cP=new He(""),li=(()=>{class i extends Ow{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lP())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(le(ml),le(ti),le(cP,8))}}static{this.\u0275dir=Bt({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&_e("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[Bn([sP]),Bi]})}}return i})();function xs(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Nw(i){return i!=null&&typeof i.length=="number"}var Jc=new He(""),kh=new He(""),dP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,j=class{static min(t){return uP(t)}static max(t){return hP(t)}static required(t){return Lw(t)}static requiredTrue(t){return pP(t)}static email(t){return fP(t)}static minLength(t){return mP(t)}static maxLength(t){return gP(t)}static pattern(t){return vP(t)}static nullValidator(t){return xm(t)}static compose(t){return Uw(t)}static composeAsync(t){return qw(t)}};function uP(i){return t=>{if(xs(t.value)||xs(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function hP(i){return t=>{if(xs(t.value)||xs(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function Lw(i){return xs(i.value)?{required:!0}:null}function pP(i){return i.value===!0?null:{required:!0}}function fP(i){return xs(i.value)||dP.test(i.value)?null:{email:!0}}function mP(i){return t=>xs(t.value)||!Nw(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function gP(i){return t=>Nw(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function vP(i){if(!i)return xm;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(xs(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function xm(i){return null}function Rw(i){return i!=null}function Fw(i){return Af(i)?Kn(i):i}function jw(i){let t={};return i.forEach(e=>{t=e!=null?de(de({},t),e):t}),Object.keys(t).length===0?null:t}function Bw(i,t){return t.map(e=>e(i))}function bP(i){return!i.validate}function Vw(i){return i.map(t=>bP(t)?t:e=>t.validate(e))}function Uw(i){if(!i)return null;let t=i.filter(Rw);return t.length==0?null:function(e){return jw(Bw(e,t))}}function zw(i){return i!=null?Uw(Vw(i)):null}function qw(i){if(!i)return null;let t=i.filter(Rw);return t.length==0?null:function(e){let n=Bw(e,t).map(Fw);return jo(n).pipe(gt(jw))}}function Hw(i){return i!=null?qw(Vw(i)):null}function Sw(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Gw(i){return i._rawValidators}function $w(i){return i._rawAsyncValidators}function m_(i){return i?Array.isArray(i)?i:[i]:[]}function Cm(i,t){return Array.isArray(i)?i.includes(t):i===t}function Dw(i,t){let e=m_(t);return m_(i).forEach(r=>{Cm(e,r)||e.push(r)}),e}function Iw(i,t){return m_(t).filter(e=>!Cm(i,e))}var wm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Mr=class extends wm{get formDirective(){return null}get path(){return null}},kl=class extends wm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Sm=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_P={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lK=Fe(de({},_P),{"[class.ng-submitted]":"isSubmitted"}),_i=(()=>{class i extends Sm{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(le(kl,2))}}static{this.\u0275dir=Bt({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&Er("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Bi]})}}return i})(),yi=(()=>{class i extends Sm{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(le(Mr,10))}}static{this.\u0275dir=Bt({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&Er("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Bi]})}}return i})();var wh="VALID",ym="INVALID",Xc="PENDING",Sh="DISABLED",Cs=class{},Dm=class extends Cs{constructor(t,e){super(),this.value=t,this.source=e}},Dh=class extends Cs{constructor(t,e){super(),this.pristine=t,this.source=e}},Ih=class extends Cs{constructor(t,e){super(),this.touched=t,this.source=e}},Zc=class extends Cs{constructor(t,e){super(),this.status=t,this.source=e}},g_=class extends Cs{constructor(t){super(),this.source=t}},v_=class extends Cs{constructor(t){super(),this.source=t}};function C_(i){return(Em(i)?i.validators:i)||null}function yP(i){return Array.isArray(i)?zw(i):i||null}function w_(i,t){return(Em(t)?t.asyncValidators:i)||null}function xP(i){return Array.isArray(i)?Hw(i):i||null}function Em(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Ww(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new Jt(1e3,"");if(!n[e])throw new Jt(1001,"")}function Yw(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new Jt(1002,"")})}var Kc=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ya(()=>this.statusReactive()),this.statusReactive=Ar(void 0),this._pristine=ya(()=>this.pristineReactive()),this.pristineReactive=Ar(!0),this._touched=ya(()=>this.touchedReactive()),this.touchedReactive=Ar(!1),this._events=new mt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return mo(this.statusReactive)}set status(t){mo(()=>this.statusReactive.set(t))}get valid(){return this.status===wh}get invalid(){return this.status===ym}get pending(){return this.status==Xc}get disabled(){return this.status===Sh}get enabled(){return this.status!==Sh}get pristine(){return mo(this.pristineReactive)}set pristine(t){mo(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return mo(this.touchedReactive)}set touched(t){mo(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Dw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Dw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Iw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Iw(t,this._rawAsyncValidators))}hasValidator(t){return Cm(this._rawValidators,t)}hasAsyncValidator(t){return Cm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Fe(de({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Ih(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Ih(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Fe(de({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Dh(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Dh(!0,n))}markAsPending(t={}){this.status=Xc;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zc(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Fe(de({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Sh,this.errors=null,this._forEachChild(r=>{r.disable(Fe(de({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dm(this.value,n)),this._events.next(new Zc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Fe(de({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=wh,this._forEachChild(n=>{n.enable(Fe(de({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Fe(de({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wh||this.status===Xc)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dm(this.value,e)),this._events.next(new Zc(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Fe(de({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sh:wh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Xc,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=Fw(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Zc(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?Sh:this.errors?ym:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xc)?Xc:this._anyControlsHaveStatus(ym)?ym:wh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Dh(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ih(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Em(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=yP(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=xP(this._rawAsyncValidators)}},ws=class extends Kc{constructor(t,e,n){super(C_(e),w_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Yw(this,!0,t),Object.keys(t).forEach(n=>{Ww(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var b_=class extends ws{};var km=new He("CallSetDisabledState",{providedIn:"root",factory:()=>Tm}),Tm="always";function Mm(i,t){return[...t.path,i]}function __(i,t,e=Tm){S_(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),wP(i,t),DP(i,t),SP(i,t),CP(i,t)}function Aw(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Am(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Im(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function CP(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function S_(i,t){let e=Gw(i);t.validator!==null?i.setValidators(Sw(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=$w(i);t.asyncValidator!==null?i.setAsyncValidators(Sw(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();Im(t._rawValidators,r),Im(t._rawAsyncValidators,r)}function Am(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=Gw(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let r=$w(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return Im(t._rawValidators,n),Im(t._rawAsyncValidators,n),e}function wP(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Xw(i,t)})}function SP(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Xw(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function Xw(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function DP(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function IP(i,t){i==null,S_(i,t)}function AP(i,t){return Am(i,t)}function Zw(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function EP(i){return Object.getPrototypeOf(i.constructor)===Eh}function kP(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Kw(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===li?e=o:EP(o)?n=o:r=o}),r||n||e||null}function TP(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function Ew(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function kw(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Ah=class extends Kc{constructor(t=null,e,n){super(C_(e),w_(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Em(e)&&(e.nonNullable||e.initialValueIsDefault)&&(kw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ew(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ew(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){kw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var MP=i=>i instanceof Ah,PP=(()=>{class i extends Mr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Mm(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275dir=Bt({type:i,features:[Bi]})}}return i})();var OP={provide:kl,useExisting:Hr(()=>Th)},Tw=Promise.resolve(),Th=(()=>{class i extends kl{constructor(e,n,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this.control=new Ah,this._registered=!1,this.name="",this.update=new ct,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Kw(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Zw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){__(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Tw.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Wr(n);Tw.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Mm(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(le(Mr,9),le(Jc,10),le(kh,10),le(Tl,10),le(Dn,8),le(km,8))}}static{this.\u0275dir=Bt({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bn([OP]),Bi,ki]})}}return i})(),Ui=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Bt({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),NP={provide:Tl,useExisting:Hr(()=>Mh),multi:!0},Mh=(()=>{class i extends Eh{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275dir=Bt({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&_e("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[Bn([NP]),Bi]})}}return i})();var Jw=new He("");var LP={provide:Mr,useExisting:Hr(()=>ci)},ci=(()=>{class i extends Mr{get submitted(){return mo(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,n,r){super(),this.callSetDisabledState=r,this._submitted=ya(()=>this._submittedReactive()),this._submittedReactive=Ar(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ct,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Am(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return __(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Aw(e.control||null,e,!1),TP(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),kP(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new g_(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new v_(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(Aw(n||null,e),MP(r)&&(__(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);IP(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&AP(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){S_(this.form,this),this._oldForm&&Am(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(n){return new(n||i)(le(Jc,10),le(kh,10),le(km,8))}}static{this.\u0275dir=Bt({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&_e("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bn([LP]),Bi,ki]})}}return i})(),RP={provide:Mr,useExisting:Hr(()=>Qc)},Qc=(()=>{class i extends PP{constructor(e,n,r){super(),this.name=null,this._parent=e,this._setValidators(n),this._setAsyncValidators(r)}_checkParentType(){e5(this._parent)}static{this.\u0275fac=function(n){return new(n||i)(le(Mr,13),le(Jc,10),le(kh,10))}}static{this.\u0275dir=Bt({type:i,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Bn([RP]),Bi]})}}return i})(),FP={provide:Mr,useExisting:Hr(()=>Qw)},Qw=(()=>{class i extends Mr{constructor(e,n,r){super(),this.name=null,this._parent=e,this._setValidators(n),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Mm(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){e5(this._parent)}static{this.\u0275fac=function(n){return new(n||i)(le(Mr,13),le(Jc,10),le(kh,10))}}static{this.\u0275dir=Bt({type:i,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Bn([FP]),Bi]})}}return i})();function e5(i){return!(i instanceof Qc)&&!(i instanceof ci)&&!(i instanceof Qw)}var jP={provide:kl,useExisting:Hr(()=>Ri)},Ri=(()=>{class i extends kl{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,n,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ct,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Kw(this,o)}ngOnChanges(e){this._added||this._setUpControl(),Zw(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Mm(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||i)(le(Mr,13),le(Jc,10),le(kh,10),le(Tl,10),le(Jw,8))}}static{this.\u0275dir=Bt({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Bn([jP]),Bi,ki]})}}return i})(),BP={provide:Tl,useExisting:Hr(()=>qo),multi:!0};function t5(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function VP(i){return i.split(":")[0]}var qo=(()=>{class i extends Eh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),r=t5(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=VP(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275dir=Bt({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&_e("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bn([BP]),Bi]})}}return i})(),Ss=(()=>{class i{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(t5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(le(ti),le(ml),le(qo,9))}}static{this.\u0275dir=Bt({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),UP={provide:Tl,useExisting:Hr(()=>i5),multi:!0};function Mw(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function zP(i){return i.split(":")[0]}var i5=(()=>{class i extends Eh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));n=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let a=o;for(let s=0;s<a.length;s++){let l=a[s],c=this._getOptionValue(l.value);r.push(c)}}else{let a=n.options;for(let s=0;s<a.length;s++){let l=a[s];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=zP(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275dir=Bt({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&_e("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Bn([UP]),Bi]})}}return i})(),Ds=(()=>{class i{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Mw(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Mw(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(le(ti),le(ml),le(i5,9))}}static{this.\u0275dir=Bt({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();var qP=(()=>{class i{constructor(){this._validator=xm}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):xm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Bt({type:i,features:[ki]})}}return i})();var HP={provide:Jc,useExisting:Hr(()=>Ph),multi:!0};var Ph=(()=>{class i extends qP{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Wr,this.createValidator=e=>Lw}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Jn(i)))(r||i)}})()}static{this.\u0275dir=Bt({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&pn("required",r._enabled?"":null)},inputs:{required:"required"},features:[Bn([HP]),Bi]})}}return i})();var n5=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({})}}return i})(),y_=class extends Kc{constructor(t,e,n){super(C_(e),w_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Yw(this,!1,t),t.forEach((n,r)=>{Ww(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Pw(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var qt=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let r=this._reduceControls(e),o={};return Pw(n)?o=n:n!==null&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new ws(r,o)}record(e,n=null){let r=this._reduceControls(e);return new b_(r,n)}control(e,n,r){let o={};return this.useNonNullable?(Pw(n)?o=n:(o.validators=n,o.asyncValidators=r),new Ah(e,Fe(de({},o),{nonNullable:!0}))):new Ah(e,n,r)}array(e,n,r){let o=e.map(a=>this._createControl(a));return new y_(o,n,r)}_reduceControls(e){let n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){if(e instanceof Ah)return e;if(e instanceof Kc)return e;if(Array.isArray(e)){let n=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(n,r,o)}else return this.control(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var fn=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:km,useValue:e.callSetDisabledState??Tm}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({imports:[n5]})}}return i})(),di=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Jw,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:km,useValue:e.callSetDisabledState??Tm}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({imports:[n5]})}}return i})();var D_=FC("userRegistration"),Ho=dh(D_,i=>i.user),r5=dh(D_,i=>i.loading),o5=dh(D_,i=>i.error);var a5=ch("[User Registration] Start Registration",sm()),s5=ch("[User Registration] Registration Success"),l5=ch("[User Registration] Registration Failure",sm()),Un=ch("[User Registration] Update User",sm());function ed(i){return de({name:{firstName:"",lastName:""},email:"",phoneNumber:"",password:"",role:"driver",companyRefId:"",personalDetails:{emergencyContact:{name:"",phoneNumber:""},address:{addressLine1:"",addressLine2:"",city:"",state:"",postalCode:""}},companyDetails:{companyName:"",companyEmail:"",companyPhone:"",taxId:"",address:{addressLine1:"",addressLine2:"",city:"",state:"",postalCode:""}}},i)}var Pm=i=>({"border-red-500":i});function $P(i,t){i&1&&(p(0,"span"),b(1,"Company name is required."),h())}function WP(i,t){i&1&&(p(0,"span"),b(1,"Company name must be at least 3 characters."),h())}function YP(i,t){i&1&&(p(0,"span"),b(1,"Company name cannot exceed 100 characters."),h())}function XP(i,t){i&1&&(p(0,"span"),b(1,"Company name can only contain letters, numbers, and basic punctuation."),h())}function ZP(i,t){if(i&1&&(p(0,"div",14),Y(1,$P,2,0,"span",15)(2,WP,2,0,"span",15)(3,YP,2,0,"span",15)(4,XP,2,0,"span",15),h()),i&2){let e,n,r,o,a=M();v(),C("ngIf",(e=a.formGroup.get("companyName"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=a.formGroup.get("companyName"))==null||n.errors==null?null:n.errors.minlength),v(),C("ngIf",(r=a.formGroup.get("companyName"))==null||r.errors==null?null:r.errors.maxlength),v(),C("ngIf",(o=a.formGroup.get("companyName"))==null||o.errors==null?null:o.errors.pattern)}}function KP(i,t){i&1&&(p(0,"span"),b(1,"Company email is required."),h())}function JP(i,t){i&1&&(p(0,"span"),b(1," Please enter a valid email address. "),h())}function QP(i,t){if(i&1&&(p(0,"div",14),Y(1,KP,2,0,"span",15)(2,JP,2,0,"span",15),h()),i&2){let e,n,r=M();v(),C("ngIf",(e=r.formGroup.get("companyEmail"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",((n=r.formGroup.get("companyEmail"))==null||n.errors==null?null:n.errors.email)||((n=r.formGroup.get("companyEmail"))==null||n.errors==null?null:n.errors.pattern))}}function eO(i,t){i&1&&(p(0,"span"),b(1,"Company phone number is required."),h())}function tO(i,t){i&1&&(p(0,"span"),b(1,"Please enter a valid Indian phone number (e.g., +91 9876543210)."),h())}function iO(i,t){if(i&1&&(p(0,"div",14),Y(1,eO,2,0,"span",15)(2,tO,2,0,"span",15),h()),i&2){let e,n,r=M();v(),C("ngIf",(e=r.formGroup.get("companyPhone"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=r.formGroup.get("companyPhone"))==null||n.errors==null?null:n.errors.pattern)}}function nO(i,t){i&1&&(p(0,"span"),b(1,"GSTIN is required."),h())}function rO(i,t){i&1&&(p(0,"span"),b(1,"Please enter a valid GSTIN (e.g., 22AAAAA0000A1Z5)."),h())}function oO(i,t){if(i&1&&(p(0,"div",14),Y(1,nO,2,0,"span",15)(2,rO,2,0,"span",15),h()),i&2){let e,n,r=M();v(),C("ngIf",(e=r.formGroup.get("taxId"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=r.formGroup.get("taxId"))==null||n.errors==null?null:n.errors.pattern)}}var Om=class i{constructor(t,e){this.fb=t;this.store=e;this.formGroup=this.fb.group({companyName:["",[j.required,j.minLength(3),j.maxLength(100),j.pattern(/^[a-zA-Z0-9][\sa-zA-Z0-9-&.,]+[a-zA-Z0-9]$/)]],companyEmail:["",[j.required,j.email,j.pattern(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],companyPhone:["",[j.required,j.pattern(/^(?:(?:\+|0{0,2})91(\s*[-]\s*)?|[0]?)?[6789]\d{9}$/)]],taxId:["",[j.required,j.pattern(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/)]]})}submitEvent;userRole;buttonActivate=new ct;formGroup;currentUser$;ngOnInit(){this.currentUser$=this.store.pipe(Da(Ho)),this.currentUser$.pipe(ei(1)).subscribe(t=>{t&&t.companyDetails&&(this.formGroup.patchValue({companyName:t.companyDetails.companyName||"",companyEmail:t.companyDetails.companyEmail||"",companyPhone:t.companyDetails.companyPhone||"",taxId:t.companyDetails.taxId||""}),setTimeout(()=>{this.formGroup.valid&&!this.formGroup.touched&&!this.formGroup.dirty&&this.buttonActivate.emit(!0)}))}),this.formGroup.statusChanges.subscribe(t=>{t==="VALID"?this.buttonActivate.emit(!0):this.buttonActivate.emit(!1)}),this.submitEvent.subscribe(()=>this.onsubmit())}onsubmit(){if(this.formGroup.invalid)return;let t=this.formGroup.value;this.currentUser$.pipe(ei(1)).subscribe(e=>{if(e){let n=Fe(de({},e),{companyDetails:Fe(de({},e.companyDetails),{companyName:t.companyName,companyEmail:t.companyEmail,companyPhone:t.companyPhone,taxId:t.taxId})});this.store.dispatch(Un({user:n})),console.log("Updated User in the company info:",n)}else{let n=ed({companyDetails:{companyName:t.companyName,companyEmail:t.companyEmail,companyPhone:t.companyPhone,taxId:t.taxId}});this.store.dispatch(Un({user:n})),console.log("Updated User in the company info:",n)}})}getErrorMessage(t){let e=this.formGroup.get(t);if(!e)return"";if(e.hasError("required"))return`${t} is required`;switch(t){case"companyName":if(e.hasError("minlength"))return"Company name must be at least 3 characters";if(e.hasError("maxlength"))return"Company name cannot exceed 100 characters";if(e.hasError("pattern"))return"Company name can only contain letters, numbers, and basic punctuation";break;case"companyEmail":if(e.hasError("email")||e.hasError("pattern"))return"Please enter a valid email address";break;case"companyPhone":if(e.hasError("pattern"))return"Please enter a valid Indian phone number (e.g., +91 9876543210)";break;case"taxId":if(e.hasError("pattern"))return"Please enter a valid GSTIN (e.g., 22AAAAA0000A1Z5)";break}return""}static \u0275fac=function(e){return new(e||i)(le(qt),le(ir))};static \u0275cmp=Ye({type:i,selectors:[["app-persoanl-info"]],inputs:{submitEvent:"submitEvent",userRole:"userRole"},outputs:{buttonActivate:"buttonActivate"},standalone:!0,features:[Xe],decls:25,vars:17,consts:[[1,"bg-white","p-6"],[1,"text-lg","font-medium","mb-6"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-6"],[1,"col-span-2","sm:col-span-1"],["for","company-name",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","formControlName","companyName","name","company-name","id","company-name","placeholder","Enter your company name",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","company-email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","email","formControlName","companyEmail","name","company-email","id","company-email","placeholder","e.g., contact@company.com",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["for","company-phone",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","tel","formControlName","companyPhone","name","company-phone","id","company-phone","placeholder","e.g., +91 9876543210",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["for","tax-number",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","formControlName","taxId","name","tax-number","id","tax-number","placeholder","Enter your 15-digit GSTIN",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"]],template:function(e,n){if(e&1&&(p(0,"div",0)(1,"h2",1),b(2,"Company Information"),h(),p(3,"form",2)(4,"div",3)(5,"div",4)(6,"label",5),b(7,"Company Name"),h(),q(8,"input",6),Y(9,ZP,5,4,"div",7),h(),p(10,"div",4)(11,"label",8),b(12,"Company Email"),h(),q(13,"input",9),Y(14,QP,3,2,"div",7),h(),p(15,"div",4)(16,"label",10),b(17,"Company Phone Number"),h(),q(18,"input",11),Y(19,iO,3,2,"div",7),h(),p(20,"div",4)(21,"label",12),b(22,"GSTIN"),h(),q(23,"input",13),Y(24,oO,3,2,"div",7),h()()()()),e&2){let r,o,a,s,l,c,u,f;v(3),C("formGroup",n.formGroup),v(5),C("ngClass",vi(9,Pm,((r=n.formGroup.get("companyName"))==null?null:r.touched)&&((r=n.formGroup.get("companyName"))==null?null:r.invalid))),v(),C("ngIf",((o=n.formGroup.get("companyName"))==null?null:o.touched)&&((o=n.formGroup.get("companyName"))==null?null:o.invalid)),v(4),C("ngClass",vi(11,Pm,((a=n.formGroup.get("companyEmail"))==null?null:a.touched)&&((a=n.formGroup.get("companyEmail"))==null?null:a.invalid))),v(),C("ngIf",((s=n.formGroup.get("companyEmail"))==null?null:s.touched)&&((s=n.formGroup.get("companyEmail"))==null?null:s.invalid)),v(4),C("ngClass",vi(13,Pm,((l=n.formGroup.get("companyPhone"))==null?null:l.touched)&&((l=n.formGroup.get("companyPhone"))==null?null:l.invalid))),v(),C("ngIf",((c=n.formGroup.get("companyPhone"))==null?null:c.touched)&&((c=n.formGroup.get("companyPhone"))==null?null:c.invalid)),v(4),C("ngClass",vi(15,Pm,((u=n.formGroup.get("taxId"))==null?null:u.touched)&&((u=n.formGroup.get("taxId"))==null?null:u.invalid))),v(),C("ngIf",((f=n.formGroup.get("taxId"))==null?null:f.touched)&&((f=n.formGroup.get("taxId"))==null?null:f.invalid))}},dependencies:[st,Li,Ct,di,Ui,li,_i,yi,ci,Ri,fn]})};var c5=i=>({active:i}),Nm=class i{constructor(t,e){this.fb=t;this.store=e}fields=[];formGroup;endUserSelectionEvent=new ct;submitEvent;selectedRole=null;currentUser$;ngOnInit(){}selectUserRole(t){if(this.selectedRole!==t){this.selectedRole=t;let e={role:this.selectedRole!==null?this.selectedRole:void 0};this.store.dispatch(Un({user:e})),console.log("Updated User:",e),this.endUserSelectionEvent.emit(t)}}isSelected(t){return this.selectedRole===t}onsubmit(){console.log("submission started"),console.log(this.currentUser$),this.currentUser$.pipe(ei(1)).subscribe(t=>{if(t){console.log(t);let e=de({},t);this.selectedRole!==null&&(e=Fe(de({},t),{role:this.selectedRole})),this.store.dispatch(Un({user:e})),console.log("Updated User:",e)}else{let e={role:this.selectedRole!==null?this.selectedRole:void 0};this.store.dispatch(Un({user:e})),console.log("Updated User:",t)}})}static \u0275fac=function(e){return new(e||i)(le(qt),le(ir))};static \u0275cmp=Ye({type:i,selectors:[["app-role-selection"]],inputs:{fields:"fields",formGroup:"formGroup",submitEvent:"submitEvent"},outputs:{endUserSelectionEvent:"endUserSelectionEvent"},standalone:!0,features:[Xe],decls:14,vars:9,consts:[[1,"w-full","p-4","text-center","bg-white","border-gray-200","rounded-lg","sm:p-8","dark:bg-gray-800","dark:border-gray-700",3,"formGroup"],[1,"mb-2","text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"mb-5","text-base","text-gray-500","sm:text-lg","dark:text-gray-400"],[1,"flex","items-center","justify-center","space-y-4","sm:flex","sm:space-y-0","sm:space-x-4","rtl:space-x-reverse"],[1,"app-button",3,"click","ngClass"],[1,"text-left","rtl:text-right"],[1,"font-sans","text-sm","font-semibold"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"h5",1),b(2,"Select A Role"),h(),p(3,"p",2),b(4," Please select the role that best describes your position within the company: "),h(),p(5,"div",3)(6,"button",4),_e("click",function(){return n.selectUserRole(n.fields[0].endUser)}),p(7,"div",5)(8,"div",6),b(9),h()()(),p(10,"button",4),_e("click",function(){return n.selectUserRole(n.fields[1].endUser)}),p(11,"div",5)(12,"div",6),b(13),h()()()()()),e&2&&(C("formGroup",n.formGroup),v(6),C("ngClass",vi(5,c5,n.isSelected(n.fields[0].endUser))),v(3),Ae(n.fields[0].text),v(),C("ngClass",vi(7,c5,n.isSelected(n.fields[1].endUser))),v(3),Ae(n.fields[1].text))},dependencies:[di,yi,ci,st,Li],styles:[".app-button[_ngcontent-%COMP%]{width:10rem;height:10rem;background-color:#fff;color:#000;border-radius:.5rem;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 4px 6px #0000001a;transition:all .3s ease;border:2px solid transparent}.app-button[_ngcontent-%COMP%]:hover{box-shadow:0 8px 12px #0003;border-color:#00f}.app-button.active[_ngcontent-%COMP%]{border-color:#00f}.app-button[_ngcontent-%COMP%]   .font-sans[_ngcontent-%COMP%]{margin-top:-.25rem}.buttons[_ngcontent-%COMP%]{position:relative;bottom:-4rem;left:0;right:0;text-align:center}"]})};var Lm=i=>({"border-red-500":i});function aO(i,t){i&1&&(p(0,"span"),b(1,"First name is required."),h())}function sO(i,t){i&1&&(p(0,"span"),b(1,"First name must be at least 3 characters."),h())}function lO(i,t){i&1&&(p(0,"span"),b(1,"First name cannot exceed 50 characters."),h())}function cO(i,t){i&1&&(p(0,"span"),b(1,"Please enter valid letters only."),h())}function dO(i,t){if(i&1&&(p(0,"div",14),Y(1,aO,2,0,"span",15)(2,sO,2,0,"span",15)(3,lO,2,0,"span",15)(4,cO,2,0,"span",15),h()),i&2){let e,n,r,o,a=M();v(),C("ngIf",(e=a.formGroup.get("firstName"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=a.formGroup.get("firstName"))==null||n.errors==null?null:n.errors.minlength),v(),C("ngIf",(r=a.formGroup.get("firstName"))==null||r.errors==null?null:r.errors.maxlength),v(),C("ngIf",(o=a.formGroup.get("firstName"))==null||o.errors==null?null:o.errors.pattern)}}function uO(i,t){i&1&&(p(0,"span"),b(1,"Last name is required."),h())}function hO(i,t){i&1&&(p(0,"span"),b(1,"Last name must be at least 3 characters."),h())}function pO(i,t){i&1&&(p(0,"span"),b(1,"Last name cannot exceed 50 characters."),h())}function fO(i,t){i&1&&(p(0,"span"),b(1,"Please enter valid letters only."),h())}function mO(i,t){if(i&1&&(p(0,"div",14),Y(1,uO,2,0,"span",15)(2,hO,2,0,"span",15)(3,pO,2,0,"span",15)(4,fO,2,0,"span",15),h()),i&2){let e,n,r,o,a=M();v(),C("ngIf",(e=a.formGroup.get("lastName"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=a.formGroup.get("lastName"))==null||n.errors==null?null:n.errors.minlength),v(),C("ngIf",(r=a.formGroup.get("lastName"))==null||r.errors==null?null:r.errors.maxlength),v(),C("ngIf",(o=a.formGroup.get("lastName"))==null||o.errors==null?null:o.errors.pattern)}}function gO(i,t){i&1&&(p(0,"span"),b(1,"Name must be at least 3 characters."),h())}function vO(i,t){i&1&&(p(0,"span"),b(1,"Name cannot exceed 100 characters."),h())}function bO(i,t){i&1&&(p(0,"span"),b(1,"Please enter valid letters only."),h())}function _O(i,t){if(i&1&&(p(0,"div",14),Y(1,gO,2,0,"span",15)(2,vO,2,0,"span",15)(3,bO,2,0,"span",15),h()),i&2){let e,n,r,o=M();v(),C("ngIf",(e=o.formGroup.get("emergencyContactName"))==null||e.errors==null?null:e.errors.minlength),v(),C("ngIf",(n=o.formGroup.get("emergencyContactName"))==null||n.errors==null?null:n.errors.maxlength),v(),C("ngIf",(r=o.formGroup.get("emergencyContactName"))==null||r.errors==null?null:r.errors.pattern)}}function yO(i,t){i&1&&(p(0,"span"),b(1," Please enter a valid Indian phone number (e.g., +91 9876543210). "),h())}function xO(i,t){if(i&1&&(p(0,"div",14),Y(1,yO,2,0,"span",15),h()),i&2){let e,n=M();v(),C("ngIf",(e=n.formGroup.get("emergencyContactNumber"))==null||e.errors==null?null:e.errors.pattern)}}var Rm=class i{constructor(t,e){this.fb=t;this.store=e;this.formGroup=this.fb.group({firstName:["",[j.required,j.minLength(3),j.maxLength(50),j.pattern(/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/)]],lastName:["",[j.required,j.minLength(3),j.maxLength(50),j.pattern(/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/)]],emergencyContactName:["",[j.minLength(3),j.maxLength(100),j.pattern(/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/)]],emergencyContactNumber:["",[j.pattern(/^(?:(?:\+|0{0,2})91(\s*[-]\s*)?|[0]?)?[6789]\d{9}$/)]]})}submitEvent;buttonActivate=new ct;formGroup;currentUser$;ngOnInit(){console.log("UserPersonalComponent initialized"),this.currentUser$=this.store.pipe(Da(Ho)),this.currentUser$.pipe(ei(1)).subscribe(t=>{t&&(this.formGroup.patchValue({firstName:t.name?.firstName||"",lastName:t.name?.lastName||"",emergencyContactName:t.personalDetails?.emergencyContact?.name||"",emergencyContactNumber:t.personalDetails?.emergencyContact?.phoneNumber||""}),setTimeout(()=>{this.formGroup.valid&&!this.formGroup.touched&&!this.formGroup.dirty&&this.buttonActivate.emit(!0)}))}),this.formGroup.statusChanges.subscribe(t=>{t==="VALID"?this.buttonActivate.emit(!0):this.buttonActivate.emit(!1)}),this.submitEvent.subscribe(()=>this.onSubmit())}onSubmit(){let t=this.formGroup.value;this.currentUser$.pipe(ei(1)).subscribe(e=>{if(e){let n=Fe(de({},e),{personalDetails:Fe(de({},e.personalDetails),{emergencyContact:Fe(de({},e.personalDetails?.emergencyContact),{name:t.emergencyContactName,phoneNumber:t.emergencyContactNumber})}),name:Fe(de({},e.name),{firstName:t.firstName,lastName:t.lastName})});this.store.dispatch(Un({user:n})),console.log("Personal Details Updated:",n)}else{let n=ed({personalDetails:{emergencyContact:{name:t.emergencyContactName,phoneNumber:t.emergencyContactNumber}},name:{firstName:t.firstName,lastName:t.lastName}});this.store.dispatch(Un({user:n})),console.log("Personal Details Updated:",n)}})}getErrorMessage(t){let e=this.formGroup.get(t);if(!e)return"";if(e.hasError("required"))return`${t.replace(/([A-Z])/g," $1").trim()} is required`;if(e.hasError("minlength"))return`${t.replace(/([A-Z])/g," $1").trim()} must be at least ${e.errors?.minlength.requiredLength} characters`;if(e.hasError("pattern"))switch(t){case"firstName":case"lastName":case"emergencyContactName":return"Please enter valid letters only (spaces and hyphens allowed)";case"emergencyContactNumber":return"Please enter a valid Indian phone number (e.g., +91 9876543210)"}return""}static \u0275fac=function(e){return new(e||i)(le(qt),le(ir))};static \u0275cmp=Ye({type:i,selectors:[["app-user-personal"]],inputs:{submitEvent:"submitEvent"},outputs:{buttonActivate:"buttonActivate"},standalone:!0,features:[Xe],decls:25,vars:17,consts:[[1,"bg-white","p-6"],[1,"text-lg","font-medium","mb-6"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-6"],[1,"col-span-2","sm:col-span-1"],["for","first-name",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","firstName","type","text","name","first-name","id","first-name","placeholder","Enter your first name",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","last-name",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","lastName","type","text","name","last-name","id","last-name","placeholder","Enter your last name",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["for","emergency-contact-name",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","emergencyContactName","type","text","name","emergency-contact-name","id","emergency-contact-name","placeholder","Enter emergency contact name",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["for","emergency-contact-number",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","emergencyContactNumber","type","tel","name","emergency-contact-number","id","emergency-contact-number","placeholder","e.g., +91 9876543210",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"]],template:function(e,n){if(e&1&&(p(0,"div",0)(1,"h2",1),b(2,"Personal Details"),h(),p(3,"form",2)(4,"div",3)(5,"div",4)(6,"label",5),b(7,"First Name"),h(),q(8,"input",6),Y(9,dO,5,4,"div",7),h(),p(10,"div",4)(11,"label",8),b(12,"Last Name"),h(),q(13,"input",9),Y(14,mO,5,4,"div",7),h(),p(15,"div",4)(16,"label",10),b(17," Emergency Contact Person "),h(),q(18,"input",11),Y(19,_O,4,3,"div",7),h(),p(20,"div",4)(21,"label",12),b(22," Emergency Contact Number "),h(),q(23,"input",13),Y(24,xO,2,1,"div",7),h()()()()),e&2){let r,o,a,s,l,c,u,f;v(3),C("formGroup",n.formGroup),v(5),C("ngClass",vi(9,Lm,((r=n.formGroup.get("firstName"))==null?null:r.touched)&&((r=n.formGroup.get("firstName"))==null?null:r.invalid))),v(),C("ngIf",((o=n.formGroup.get("firstName"))==null?null:o.touched)&&((o=n.formGroup.get("firstName"))==null?null:o.invalid)),v(4),C("ngClass",vi(11,Lm,((a=n.formGroup.get("lastName"))==null?null:a.touched)&&((a=n.formGroup.get("lastName"))==null?null:a.invalid))),v(),C("ngIf",((s=n.formGroup.get("lastName"))==null?null:s.touched)&&((s=n.formGroup.get("lastName"))==null?null:s.invalid)),v(4),C("ngClass",vi(13,Lm,((l=n.formGroup.get("emergencyContactName"))==null?null:l.touched)&&((l=n.formGroup.get("emergencyContactName"))==null?null:l.invalid))),v(),C("ngIf",((c=n.formGroup.get("emergencyContactName"))==null?null:c.touched)&&((c=n.formGroup.get("emergencyContactName"))==null?null:c.invalid)),v(4),C("ngClass",vi(15,Lm,((u=n.formGroup.get("emergencyContactNumber"))==null?null:u.touched)&&((u=n.formGroup.get("emergencyContactNumber"))==null?null:u.invalid))),v(),C("ngIf",((f=n.formGroup.get("emergencyContactNumber"))==null?null:f.touched)&&((f=n.formGroup.get("emergencyContactNumber"))==null?null:f.invalid))}},dependencies:[di,Ui,li,_i,yi,ci,Ri,st,Li,Ct,fn]})};var Fm=class i{nextStageEvent=new ct;label="Next";buttonStatus;isButtonActive=!1;changeTheIndex(){this.nextStageEvent.emit(1)}ngOnInit(){this.buttonStatus.subscribe(t=>{console.log(t),t===!0?this.isButtonActive=!0:this.isButtonActive=!1})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ye({type:i,selectors:[["app-button"]],inputs:{label:"label",buttonStatus:"buttonStatus"},outputs:{nextStageEvent:"nextStageEvent"},standalone:!0,features:[Xe],decls:3,vars:14,consts:[[1,"flex","justify-center","btnstyle"],["type","submit",1,"w-1/2","text-white","font-medium","py-3","rounded-lg","focus:outline-none",3,"click","disabled"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"button",1),_e("click",function(){return n.changeTheIndex()}),b(2),h()()),e&2&&(v(),Er("bg-blue-500",n.label==="Previous"&&n.isButtonActive)("bg-green-500",n.label!=="Previous"&&n.isButtonActive)("bg-gray-400",!n.isButtonActive)("hover:bg-blue-600",n.label==="Previous"&&n.isButtonActive)("hover:bg-green-600",n.label!=="Previous"&&n.isButtonActive)("cursor-not-allowed",!n.isButtonActive),C("disabled",!n.isButtonActive),v(),we(" ",n.label," "))},dependencies:[st],styles:[".btnstyle[_ngcontent-%COMP%]{margin-bottom:20px}"]})};var Oh=i=>({"border-red-500":i});function CO(i,t){i&1&&(p(0,"span"),b(1,"Address Line 1 is required."),h())}function wO(i,t){i&1&&(p(0,"span"),b(1,"Address must be at least 5 characters."),h())}function SO(i,t){i&1&&(p(0,"span"),b(1,"Address cannot exceed 100 characters."),h())}function DO(i,t){i&1&&(p(0,"span"),b(1,"Address can only contain letters, numbers, spaces, and basic punctuation."),h())}function IO(i,t){if(i&1&&(p(0,"div",53),Y(1,CO,2,0,"span",54)(2,wO,2,0,"span",54)(3,SO,2,0,"span",54)(4,DO,2,0,"span",54),h()),i&2){let e,n,r,o,a=M();v(),C("ngIf",(e=a.formGroup.get("addressLine1"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=a.formGroup.get("addressLine1"))==null||n.errors==null?null:n.errors.minlength),v(),C("ngIf",(r=a.formGroup.get("addressLine1"))==null||r.errors==null?null:r.errors.maxlength),v(),C("ngIf",(o=a.formGroup.get("addressLine1"))==null||o.errors==null?null:o.errors.pattern)}}function AO(i,t){i&1&&(p(0,"span"),b(1,"Address must be at least 5 characters."),h())}function EO(i,t){i&1&&(p(0,"span"),b(1,"Address cannot exceed 100 characters."),h())}function kO(i,t){i&1&&(p(0,"span"),b(1,"Address can only contain letters, numbers, spaces, and basic punctuation."),h())}function TO(i,t){if(i&1&&(p(0,"div",53),Y(1,AO,2,0,"span",54)(2,EO,2,0,"span",54)(3,kO,2,0,"span",54),h()),i&2){let e,n,r,o=M();v(),C("ngIf",(e=o.formGroup.get("addressLine2"))==null||e.errors==null?null:e.errors.minlength),v(),C("ngIf",(n=o.formGroup.get("addressLine2"))==null||n.errors==null?null:n.errors.maxlength),v(),C("ngIf",(r=o.formGroup.get("addressLine2"))==null||r.errors==null?null:r.errors.pattern)}}function MO(i,t){i&1&&(p(0,"span"),b(1,"City is required."),h())}function PO(i,t){i&1&&(p(0,"span"),b(1,"City must be at least 3 characters."),h())}function OO(i,t){i&1&&(p(0,"span"),b(1,"City cannot exceed 50 characters."),h())}function NO(i,t){i&1&&(p(0,"span"),b(1,"City can only contain letters and spaces."),h())}function LO(i,t){if(i&1&&(p(0,"div",53),Y(1,MO,2,0,"span",54)(2,PO,2,0,"span",54)(3,OO,2,0,"span",54)(4,NO,2,0,"span",54),h()),i&2){let e,n,r,o,a=M();v(),C("ngIf",(e=a.formGroup.get("city"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=a.formGroup.get("city"))==null||n.errors==null?null:n.errors.minlength),v(),C("ngIf",(r=a.formGroup.get("city"))==null||r.errors==null?null:r.errors.maxlength),v(),C("ngIf",(o=a.formGroup.get("city"))==null||o.errors==null?null:o.errors.pattern)}}function RO(i,t){i&1&&(p(0,"span"),b(1,"Please select a state."),h())}function FO(i,t){i&1&&(p(0,"span"),b(1,"Please select a valid Indian state."),h())}function jO(i,t){if(i&1&&(p(0,"div",53),Y(1,RO,2,0,"span",54)(2,FO,2,0,"span",54),h()),i&2){let e,n,r=M();v(),C("ngIf",(e=r.formGroup.get("state"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=r.formGroup.get("state"))==null||n.errors==null?null:n.errors.pattern)}}function BO(i,t){i&1&&(p(0,"span"),b(1,"Postal code is required."),h())}function VO(i,t){i&1&&(p(0,"span"),b(1,"Please enter a valid 6-digit Indian postal code."),h())}function UO(i,t){if(i&1&&(p(0,"div",53),Y(1,BO,2,0,"span",54)(2,VO,2,0,"span",54),h()),i&2){let e,n,r=M();v(),C("ngIf",(e=r.formGroup.get("postalCode"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=r.formGroup.get("postalCode"))==null||n.errors==null?null:n.errors.pattern)}}var jm=class i{constructor(t,e){this.fb=t;this.store=e;this.formGroup=this.fb.group({addressLine1:["",[j.required,j.minLength(5),j.maxLength(100),j.pattern(/^[a-zA-Z0-9][\sa-zA-Z0-9-/,]+[a-zA-Z0-9]$/)]],addressLine2:["",[j.required,j.minLength(5),j.maxLength(100),j.pattern(/^[a-zA-Z0-9][\sa-zA-Z0-9-/,]+[a-zA-Z0-9]$/)]],city:["",[j.required,j.minLength(3),j.maxLength(50),j.pattern(/^[a-zA-Z][\sa-zA-Z]+$/)]],state:["",[j.required,j.pattern(/^(Andhra Pradesh|Arunachal Pradesh|Assam|Bihar|Chhattisgarh|Goa|Gujarat|Haryana|Himachal Pradesh|Jharkhand|Karnataka|Kerala|Madhya Pradesh|Maharashtra|Manipur|Meghalaya|Mizoram|Nagaland|Odisha|Punjab|Rajasthan|Sikkim|Tamil Nadu|Telangana|Tripura|Uttar Pradesh|Uttarakhand|West Bengal|Andaman and Nicobar Islands|Chandigarh|Dadra and Nagar Haveli and Daman and Diu|Delhi|Jammu and Kashmir|Ladakh|Lakshadweep|Puducherry)$/)]],postalCode:["",[j.required,j.pattern(/^[1-9][0-9]{5}$/)]]})}submitEvent;userRole;buttonActivate=new ct;formGroup;currentUser$;ngOnInit(){console.log("this value is from the address component",this.userRole),this.currentUser$=this.store.pipe(Da(Ho)),this.currentUser$.pipe(ei(1)).subscribe(t=>{if(t){if(this.userRole==="driver"||this.userRole==="shipperStaff"){let e=t.personalDetails?.address;this.formGroup.patchValue({addressLine1:e?.addressLine1||"",addressLine2:e?.addressLine2||"",city:e?.city||"",state:e?.state||"",postalCode:e?.postalCode||""})}else{let e=t.companyDetails?.address;this.formGroup.patchValue({addressLine1:e?.addressLine1||"",addressLine2:e?.addressLine2||"",city:e?.city||"",state:e?.state||"",postalCode:e?.postalCode||""})}setTimeout(()=>{this.formGroup.valid&&!this.formGroup.touched&&!this.formGroup.dirty&&this.buttonActivate.emit(!0)})}}),this.formGroup.statusChanges.subscribe(t=>{t==="VALID"?(console.log("valid activated"),this.buttonActivate.emit(!0)):(console.log("invalid activated"),this.buttonActivate.emit(!1))}),this.submitEvent.subscribe(()=>this.onsubmit())}onsubmit(){console.log("onsubmit initiated");let t=this.formGroup.value;this.currentUser$.pipe(ei(1)).subscribe(e=>{if(e){console.log(e);let n=de({},e);this.userRole==="driver"||this.userRole==="shipperStaff"?n=Fe(de({},e),{personalDetails:Fe(de({},e.personalDetails),{address:{addressLine1:t.addressLine1,addressLine2:t.addressLine2,city:t.city,state:t.state,postalCode:t.postalCode}})}):n=Fe(de({},e),{companyDetails:Fe(de({},e.companyDetails),{address:{addressLine1:t.addressLine1,addressLine2:t.addressLine2,city:t.city,state:t.state,postalCode:t.postalCode}})}),this.store.dispatch(Un({user:n})),console.log("Updated User:",n)}})}isFormValid(){return this.formGroup.valid}getErrorMessage(t){let e=this.formGroup.get(t);if(!e)return"";if(e.hasError("required"))return`${t} is required`;if(e.hasError("pattern"))switch(t){case"postalCode":return"Please enter a valid 6-digit Indian postal code";case"state":return"Please select a valid Indian state/union territory";default:return`Invalid ${t} format`}return e.hasError("minlength")?`${t} must be at least ${e.errors?.minlength.requiredLength} characters`:e.hasError("maxlength")?`${t} cannot exceed ${e.errors?.maxlength.requiredLength} characters`:""}static \u0275fac=function(e){return new(e||i)(le(qt),le(ir))};static \u0275cmp=Ye({type:i,selectors:[["app-address"]],inputs:{submitEvent:"submitEvent",userRole:"userRole"},outputs:{buttonActivate:"buttonActivate"},standalone:!0,features:[Xe],decls:104,vars:21,consts:[[1,"bg-white","p-6"],[1,"text-lg","font-medium","mb-6"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-6"],[1,"col-span-2","sm:col-span-1"],["for","address-line1",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","addressLine1","type","text","name","address-line1","id","address-line1","placeholder","Enter address line 1",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","address-line2",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","addressLine2","type","text","name","address-line2","id","address-line2","placeholder","Enter address line 2",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["for","city",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","city","type","text","name","city","id","city","placeholder","Enter city",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["for","state",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","state","name","state","id","state",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],["value",""],["value","Andaman and Nicobar Islands"],["value","Andhra Pradesh"],["value","Arunachal Pradesh"],["value","Assam"],["value","Bihar"],["value","Chandigarh"],["value","Chhattisgarh"],["value","Dadra and Nagar Haveli and Daman and Diu"],["value","Delhi"],["value","Goa"],["value","Gujarat"],["value","Haryana"],["value","Himachal Pradesh"],["value","Jammu and Kashmir"],["value","Jharkhand"],["value","Karnataka"],["value","Kerala"],["value","Ladakh"],["value","Lakshadweep"],["value","Madhya Pradesh"],["value","Maharashtra"],["value","Manipur"],["value","Meghalaya"],["value","Mizoram"],["value","Nagaland"],["value","Odisha"],["value","Puducherry"],["value","Punjab"],["value","Rajasthan"],["value","Sikkim"],["value","Tamil Nadu"],["value","Telangana"],["value","Tripura"],["value","Uttar Pradesh"],["value","Uttarakhand"],["value","West Bengal"],["for","postal-code",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["formControlName","postalCode","type","text","name","postal-code","id","postal-code","placeholder","Enter postal code",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500",3,"ngClass"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"]],template:function(e,n){if(e&1&&(p(0,"div",0)(1,"h2",1),b(2,"Address Details"),h(),p(3,"form",2)(4,"div",3)(5,"div",4)(6,"label",5),b(7,"Address Line 1"),h(),q(8,"input",6),Y(9,IO,5,4,"div",7),h(),p(10,"div",4)(11,"label",8),b(12,"Address Line 2"),h(),q(13,"input",9),Y(14,TO,4,3,"div",7),h(),p(15,"div",4)(16,"label",10),b(17,"City"),h(),q(18,"input",11),Y(19,LO,5,4,"div",7),h(),p(20,"div",4)(21,"label",12),b(22,"State"),h(),p(23,"select",13)(24,"option",14),b(25,"Select State"),h(),p(26,"option",15),b(27,"Andaman and Nicobar Islands"),h(),p(28,"option",16),b(29,"Andhra Pradesh"),h(),p(30,"option",17),b(31,"Arunachal Pradesh"),h(),p(32,"option",18),b(33,"Assam"),h(),p(34,"option",19),b(35,"Bihar"),h(),p(36,"option",20),b(37,"Chandigarh"),h(),p(38,"option",21),b(39,"Chhattisgarh"),h(),p(40,"option",22),b(41,"Dadra and Nagar Haveli and Daman and Diu"),h(),p(42,"option",23),b(43,"Delhi"),h(),p(44,"option",24),b(45,"Goa"),h(),p(46,"option",25),b(47,"Gujarat"),h(),p(48,"option",26),b(49,"Haryana"),h(),p(50,"option",27),b(51,"Himachal Pradesh"),h(),p(52,"option",28),b(53,"Jammu and Kashmir"),h(),p(54,"option",29),b(55,"Jharkhand"),h(),p(56,"option",30),b(57,"Karnataka"),h(),p(58,"option",31),b(59,"Kerala"),h(),p(60,"option",32),b(61,"Ladakh"),h(),p(62,"option",33),b(63,"Lakshadweep"),h(),p(64,"option",34),b(65,"Madhya Pradesh"),h(),p(66,"option",35),b(67,"Maharashtra"),h(),p(68,"option",36),b(69,"Manipur"),h(),p(70,"option",37),b(71,"Meghalaya"),h(),p(72,"option",38),b(73,"Mizoram"),h(),p(74,"option",39),b(75,"Nagaland"),h(),p(76,"option",40),b(77,"Odisha"),h(),p(78,"option",41),b(79,"Puducherry"),h(),p(80,"option",42),b(81,"Punjab"),h(),p(82,"option",43),b(83,"Rajasthan"),h(),p(84,"option",44),b(85,"Sikkim"),h(),p(86,"option",45),b(87,"Tamil Nadu"),h(),p(88,"option",46),b(89,"Telangana"),h(),p(90,"option",47),b(91,"Tripura"),h(),p(92,"option",48),b(93,"Uttar Pradesh"),h(),p(94,"option",49),b(95,"Uttarakhand"),h(),p(96,"option",50),b(97,"West Bengal"),h()(),Y(98,jO,3,2,"div",7),h(),p(99,"div",4)(100,"label",51),b(101,"Postal Code"),h(),q(102,"input",52),Y(103,UO,3,2,"div",7),h()()()()),e&2){let r,o,a,s,l,c,u,f,y,g;v(3),C("formGroup",n.formGroup),v(5),C("ngClass",vi(11,Oh,((r=n.formGroup.get("addressLine1"))==null?null:r.touched)&&((r=n.formGroup.get("addressLine1"))==null?null:r.invalid))),v(),C("ngIf",((o=n.formGroup.get("addressLine1"))==null?null:o.touched)&&((o=n.formGroup.get("addressLine1"))==null?null:o.invalid)),v(4),C("ngClass",vi(13,Oh,((a=n.formGroup.get("addressLine2"))==null?null:a.touched)&&((a=n.formGroup.get("addressLine2"))==null?null:a.invalid))),v(),C("ngIf",((s=n.formGroup.get("addressLine2"))==null?null:s.touched)&&((s=n.formGroup.get("addressLine2"))==null?null:s.invalid)),v(4),C("ngClass",vi(15,Oh,((l=n.formGroup.get("city"))==null?null:l.touched)&&((l=n.formGroup.get("city"))==null?null:l.invalid))),v(),C("ngIf",((c=n.formGroup.get("city"))==null?null:c.touched)&&((c=n.formGroup.get("city"))==null?null:c.invalid)),v(4),C("ngClass",vi(17,Oh,((u=n.formGroup.get("state"))==null?null:u.touched)&&((u=n.formGroup.get("state"))==null?null:u.invalid))),v(75),C("ngIf",((f=n.formGroup.get("state"))==null?null:f.touched)&&((f=n.formGroup.get("state"))==null?null:f.invalid)),v(4),C("ngClass",vi(19,Oh,((y=n.formGroup.get("postalCode"))==null?null:y.touched)&&((y=n.formGroup.get("postalCode"))==null?null:y.invalid))),v(),C("ngIf",((g=n.formGroup.get("postalCode"))==null?null:g.touched)&&((g=n.formGroup.get("postalCode"))==null?null:g.invalid))}},dependencies:[di,Ui,Ss,Ds,li,qo,_i,yi,ci,Ri,st,Li,Ct]})};function zO(i,t){i&1&&(p(0,"div",15),b(1," Valid Email is required. "),h())}function qO(i,t){i&1&&(p(0,"div",15),b(1," Valid Indian Phone Number is required. "),h())}function HO(i,t){i&1&&(p(0,"div",4)(1,"label",16),b(2,"Company Company Reference ID"),h(),q(3,"input",17),h())}function GO(i,t){i&1&&(p(0,"div",15),b(1," Password must be at least 8 characters and include a combination of numbers, symbols, capital, and small letters. "),h())}function $O(i,t){i&1&&(p(0,"div",15),b(1," Passwords must match. "),h())}var Bm=class i{constructor(t,e){this.fb=t;this.store=e;this.formGroup=this.fb.group({email:["",[j.required,j.email]],phoneNumber:["",[j.required,j.pattern(/^[6-9]\d{9}$/)]],companyRefId:[""],password:["",[j.required,j.minLength(8),j.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)]],confirmPassword:["",j.required]},{validator:this.passwordMatchValidator})}submitEvent;userRole;buttonActivate=new ct;formGroup;currentUser$;ngOnInit(){this.updateFormStateBasedOnRole(),this.currentUser$=this.store.pipe(Da(Ho)),this.currentUser$.pipe(ei(1)).subscribe(t=>{if(t){let e=localStorage.getItem("companyRefId")||"",n=localStorage.getItem("driverEmail")||"";this.formGroup.patchValue({email:n||"",phoneNumber:t.phoneNumber||"",companyRefId:e||"",password:t.password||""}),setTimeout(()=>{this.formGroup.valid&&!this.formGroup.touched&&!this.formGroup.dirty&&this.buttonActivate.emit(!0)})}}),this.formGroup.statusChanges.subscribe(t=>{t==="VALID"?(console.log("valid activated"),this.buttonActivate.emit(!0)):(console.log("invalid activated"),this.buttonActivate.emit(!1))}),this.submitEvent.subscribe(()=>this.onsubmit())}passwordMatchValidator(t){let e=t.get("password"),n=t.get("confirmPassword");e&&n&&(e.value!==n.value?n.setErrors({mustMatch:!0}):n.setErrors(null))}onsubmit(){if(this.formGroup.invalid)return;let t=this.formGroup.value;this.currentUser$.pipe(ei(1)).subscribe(e=>{if(e){let n=de({},e);if(this.userRole==="driver"||this.userRole==="shipperStaff"){let r=localStorage.getItem("companyRefId")||"",o=localStorage.getItem("driverEmail")||"";n=Fe(de({},e),{email:o,phoneNumber:t.phoneNumber,companyRefId:r,password:t.password,role:this.userRole})}else n=Fe(de({},e),{email:t.email,phoneNumber:t.phoneNumber,password:t.password});this.store.dispatch(Un({user:n})),console.log("Updated password:",n)}})}updateFormStateBasedOnRole(){this.userRole==="driver"?(this.formGroup.get("email")?.disable(),this.formGroup.get("companyRefId")?.disable()):(this.formGroup.get("email")?.enable(),this.formGroup.get("companyRefId")?.enable())}static \u0275fac=function(e){return new(e||i)(le(qt),le(ir))};static \u0275cmp=Ye({type:i,selectors:[["app-password"]],inputs:{submitEvent:"submitEvent",userRole:"userRole"},outputs:{buttonActivate:"buttonActivate"},standalone:!0,features:[Xe],decls:26,vars:6,consts:[[1,"bg-white","p-6"],[1,"text-lg","font-medium","mb-6"],[3,"formGroup"],[1,"grid","grid-cols-2","gap-6"],[1,"col-span-2","sm:col-span-1"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","email","formControlName","email","name","email","id","email","placeholder","e.g., company@example.com",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","phone",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","tel","formControlName","phoneNumber","name","phone","id","phone","placeholder","e.g., +91 1234567890",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500"],["class","col-span-2 sm:col-span-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","password","formControlName","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500"],["for","confirm-password",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","password","formControlName","confirmPassword","name","confirm-password","id","confirm-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500"],[1,"text-red-500","text-sm","mt-1"],["for","company-invitation-id",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","formControlName","companyRefId","name","company-invitation-id","id","company-invitation-id","placeholder","e.g., INV12345",1,"w-full","py-3","px-4","border","border-gray-400","rounded-lg","focus:outline-none","focus:border-blue-500"]],template:function(e,n){if(e&1&&(p(0,"div",0)(1,"h2",1),b(2,"Password Details"),h(),p(3,"form",2)(4,"div",3)(5,"div",4)(6,"label",5),b(7,"Email"),h(),q(8,"input",6),Y(9,zO,2,0,"div",7),h(),p(10,"div",4)(11,"label",8),b(12,"Phone"),h(),q(13,"input",9),Y(14,qO,2,0,"div",7),h(),Y(15,HO,4,0,"div",10),p(16,"div",4)(17,"label",11),b(18,"Password"),h(),q(19,"input",12),Y(20,GO,2,0,"div",7),h(),p(21,"div",4)(22,"label",13),b(23,"Confirm Password"),h(),q(24,"input",14),Y(25,$O,2,0,"div",7),h()()()()),e&2){let r,o,a,s;v(3),C("formGroup",n.formGroup),v(6),C("ngIf",((r=n.formGroup.get("email"))==null?null:r.touched)&&((r=n.formGroup.get("email"))==null?null:r.invalid)),v(5),C("ngIf",((o=n.formGroup.get("phoneNumber"))==null?null:o.touched)&&((o=n.formGroup.get("phoneNumber"))==null?null:o.invalid)),v(),C("ngIf",n.userRole==="driver"||n.userRole==="shipperStaff"),v(5),C("ngIf",((a=n.formGroup.get("password"))==null?null:a.touched)&&((a=n.formGroup.get("password"))==null?null:a.invalid)),v(5),C("ngIf",((s=n.formGroup.get("confirmPassword"))==null?null:s.touched)&&((s=n.formGroup.get("confirmPassword"))==null?null:s.invalid))}},dependencies:[st,Ct,di,Ui,li,_i,yi,ci,Ri,fn]})};var Is=class i{baseUrl="http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:4000/";http=ue(tr);constructor(){}registerUser(t){return this.http.post(`${this.baseUrl}auth/register`,t)}loginUser(t){return this.http.post(`${this.baseUrl}auth/login`,t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};var Nh=(i,t)=>({"border-red-500":i,"border-gray-300":t});function WO(i,t){i&1&&(p(0,"span"),b(1,"First name is required."),h())}function YO(i,t){i&1&&(p(0,"span"),b(1,"First name must be at least 2 characters."),h())}function XO(i,t){i&1&&(p(0,"span"),b(1,"Please enter valid letters only."),h())}function ZO(i,t){if(i&1&&(p(0,"div",21),Y(1,WO,2,0,"span",22)(2,YO,2,0,"span",22)(3,XO,2,0,"span",22),h()),i&2){let e,n,r,o=M();v(),C("ngIf",(e=o.formGroup.get("firstName"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=o.formGroup.get("firstName"))==null||n.errors==null?null:n.errors.minlength),v(),C("ngIf",(r=o.formGroup.get("firstName"))==null||r.errors==null?null:r.errors.pattern)}}function KO(i,t){i&1&&(p(0,"span"),b(1,"Last name is required."),h())}function JO(i,t){i&1&&(p(0,"span"),b(1,"Last name must be at least 2 characters."),h())}function QO(i,t){i&1&&(p(0,"span"),b(1,"Please enter valid letters only."),h())}function eN(i,t){if(i&1&&(p(0,"div",21),Y(1,KO,2,0,"span",22)(2,JO,2,0,"span",22)(3,QO,2,0,"span",22),h()),i&2){let e,n,r,o=M();v(),C("ngIf",(e=o.formGroup.get("lastName"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=o.formGroup.get("lastName"))==null||n.errors==null?null:n.errors.minlength),v(),C("ngIf",(r=o.formGroup.get("lastName"))==null||r.errors==null?null:r.errors.pattern)}}function tN(i,t){i&1&&(p(0,"span"),b(1,"Email is required."),h())}function iN(i,t){i&1&&(p(0,"span"),b(1," Please enter a valid email address. "),h())}function nN(i,t){if(i&1&&(p(0,"div",21),Y(1,tN,2,0,"span",22)(2,iN,2,0,"span",22),h()),i&2){let e,n,r=M();v(),C("ngIf",(e=r.formGroup.get("email"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",((n=r.formGroup.get("email"))==null||n.errors==null?null:n.errors.email)||((n=r.formGroup.get("email"))==null||n.errors==null?null:n.errors.pattern))}}function rN(i,t){i&1&&(p(0,"span"),b(1,"Password is required."),h())}function oN(i,t){i&1&&(p(0,"span"),b(1,"Password must be at least 8 characters."),h())}function aN(i,t){i&1&&(p(0,"span"),b(1," Password must contain uppercase, lowercase, number, and special character. "),h())}function sN(i,t){if(i&1&&(p(0,"div",21),Y(1,rN,2,0,"span",22)(2,oN,2,0,"span",22)(3,aN,2,0,"span",22),h()),i&2){let e,n,r,o=M();v(),C("ngIf",(e=o.formGroup.get("password"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=o.formGroup.get("password"))==null||n.errors==null?null:n.errors.minlength),v(),C("ngIf",(r=o.formGroup.get("password"))==null||r.errors==null?null:r.errors.pattern)}}function lN(i,t){i&1&&(p(0,"span"),b(1,"Please confirm your password."),h())}function cN(i,t){i&1&&(p(0,"span"),b(1,"Passwords must match."),h())}function dN(i,t){if(i&1&&(p(0,"div",21),Y(1,lN,2,0,"span",22)(2,cN,2,0,"span",22),h()),i&2){let e,n,r=M();v(),C("ngIf",(e=r.formGroup.get("confirm_password"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=r.formGroup.get("confirm_password"))==null||n.errors==null?null:n.errors.mustMatch)}}var Vm=class i{constructor(t,e){this.fb=t;this.authService=e;this.formGroup=this.fb.group({firstName:["",[j.required,j.minLength(2),j.maxLength(50),j.pattern(/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/)]],lastName:["",[j.required,j.minLength(2),j.maxLength(50),j.pattern(/^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$/)]],email:["",[j.required,j.email,j.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],password:["",[j.required,j.minLength(8),j.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)]],confirm_password:["",j.required]},{validator:this.passwordMatchValidator})}submitEvent;userRole;formStatusEvent=new ct;messageEvent=new ct;formGroup;isSubmitting=!1;ngOnInit(){this.submitEvent.subscribe(()=>this.onsubmit()),this.formGroup.statusChanges.subscribe(t=>{this.formGroup.valid&&this.formStatusEvent.emit(this.formGroup.valid)})}passwordMatchValidator(t){let e=t.get("password"),n=t.get("confirm_password");if(e&&n)if(e.value!==n.value)n.setErrors({mustMatch:!0});else{let r=n.errors;r&&(delete r.mustMatch,n.setErrors(Object.keys(r).length?r:null))}}onsubmit(){if(this.formGroup.invalid||this.isSubmitting)return;this.isSubmitting=!0;let t=this.formGroup.value,e={name:{firstName:t.firstName,lastName:t.lastName},role:this.userRole,email:t.email,password:t.password,phoneNumber:"",companyDetails:{companyName:"",companyEmail:"",companyPhone:"",taxId:"",address:{addressLine1:"",addressLine2:"",city:"",state:"",postalCode:""}},personalDetails:{emergencyContact:{name:"",phoneNumber:""},address:{addressLine1:"",addressLine2:"",city:"",state:"",postalCode:""}}};this.authService.registerUser(e).subscribe(n=>{console.log("User registered successfully:",n),this.messageEvent.emit(n),this.isSubmitting=!1},n=>{console.error("Error registering user:",n),this.messageEvent.emit(n.error),this.isSubmitting=!1})}getErrorMessage(t){let e=this.formGroup.get(t);if(!e)return"";if(t==="confirm_password"&&e.hasError("mustMatch"))return"Passwords must match";if(e.hasError("required"))return`${t.replace(/([A-Z])/g," $1").trim()} is required`;if(e.hasError("email"))return"Please enter a valid email address";if(e.hasError("pattern"))switch(t){case"firstName":case"lastName":return"Please enter valid letters only";case"email":return"Please enter a valid email address";case"password":return"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"}return e.hasError("minlength")?t==="password"?`Password must be at least ${e.errors?.minlength.requiredLength} characters`:`${t.replace(/([A-Z])/g," $1").trim()} must be at least ${e.errors?.minlength.requiredLength} characters`:""}static \u0275fac=function(e){return new(e||i)(le(qt),le(Is))};static \u0275cmp=Ye({type:i,selectors:[["app-app-admin"]],inputs:{submitEvent:"submitEvent",userRole:"userRole"},outputs:{formStatusEvent:"formStatusEvent",messageEvent:"messageEvent"},standalone:!0,features:[Xe],decls:41,vars:26,consts:[[1,"flex","flex-col","justify-center","py-12","sm:px-6","lg:px-8","p-4","ml-2","w-full"],[1,"sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"mt-6","text-center","text-3xl","leading-9","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","leading-5","text-gray-500","max-w"],["href","/admin",1,"font-medium","text-blue-600","hover:text-blue-500","focus:outline-none","focus:underline","transition","ease-in-out","duration-150"],[1,"mt-8","sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"bg-white","py-8","px-4","shadow","sm:rounded-lg","sm:px-10"],[1,"flex","flex-col","justify-self-center","p-4","m-4",3,"formGroup"],["for","firstName",1,"block","text-sm","font-medium","leading-5","text-gray-700"],[1,"mt-1","relative","rounded-md","shadow-sm"],["id","firstName","formControlName","firstName","placeholder","John","type","text","required","",1,"appearance-none","block","w-full","px-3","py-2","border","rounded-md","placeholder-gray-400","focus:outline-none","focus:shadow-outline-blue","focus:border-blue-300","transition","duration-150","ease-in-out","sm:text-sm","sm:leading-5",3,"ngClass"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"mt-6"],["for","lastName",1,"block","text-sm","font-medium","leading-5","text-gray-700"],["id","lastName","formControlName","lastName","placeholder","Doe","type","text","required","",1,"appearance-none","block","w-full","px-3","py-2","border","rounded-md","placeholder-gray-400","focus:outline-none","focus:shadow-outline-blue","focus:border-blue-300","transition","duration-150","ease-in-out","sm:text-sm","sm:leading-5",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","leading-5","text-gray-700"],["id","email","formControlName","email","placeholder","user@example.com","type","email","required","",1,"appearance-none","block","w-full","px-3","py-2","border","rounded-md","placeholder-gray-400","focus:outline-none","focus:shadow-outline-blue","focus:border-blue-300","transition","duration-150","ease-in-out","sm:text-sm","sm:leading-5",3,"ngClass"],["for","password",1,"block","text-sm","font-medium","leading-5","text-gray-700"],["id","password","formControlName","password","type","password","required","",1,"appearance-none","block","w-full","px-3","py-2","border","rounded-md","placeholder-gray-400","focus:outline-none","focus:shadow-outline-blue","focus:border-blue-300","transition","duration-150","ease-in-out","sm:text-sm","sm:leading-5",3,"ngClass"],["for","confirm_password",1,"block","text-sm","font-medium","leading-5","text-gray-700"],["id","confirm_password","formControlName","confirm_password","type","password","required","",1,"appearance-none","block","w-full","px-3","py-2","border","rounded-md","placeholder-gray-400","focus:outline-none","focus:shadow-outline-blue","focus:border-blue-300","transition","duration-150","ease-in-out","sm:text-sm","sm:leading-5",3,"ngClass"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"]],template:function(e,n){if(e&1&&(p(0,"div",0)(1,"div",1)(2,"h2",2),b(3," Create a new account "),h(),p(4,"p",3),b(5," Or "),p(6,"a",4),b(7," login to your account "),h()()(),p(8,"div",5)(9,"div",6)(10,"form",7)(11,"div")(12,"label",8),b(13,"First Name"),h(),p(14,"div",9),q(15,"input",10),Y(16,ZO,4,3,"div",11),h()(),p(17,"div",12)(18,"label",13),b(19,"Last Name"),h(),p(20,"div",9),q(21,"input",14),Y(22,eN,4,3,"div",11),h()(),p(23,"div",12)(24,"label",15),b(25,"Email address"),h(),p(26,"div",9),q(27,"input",16),Y(28,nN,3,2,"div",11),h()(),p(29,"div",12)(30,"label",17),b(31,"Password"),h(),p(32,"div",9),q(33,"input",18),Y(34,sN,4,3,"div",11),h()(),p(35,"div",12)(36,"label",19),b(37,"Confirm Password"),h(),p(38,"div",9),q(39,"input",20),Y(40,dN,3,2,"div",11),h()()()()()()),e&2){let r,o,a,s,l,c,u,f,y,g;v(10),C("formGroup",n.formGroup),v(5),C("ngClass",bn(11,Nh,((r=n.formGroup.get("firstName"))==null?null:r.touched)&&((r=n.formGroup.get("firstName"))==null?null:r.invalid),!((r=n.formGroup.get("firstName"))!=null&&r.touched)||!((r=n.formGroup.get("firstName"))!=null&&r.invalid))),v(),C("ngIf",((o=n.formGroup.get("firstName"))==null?null:o.touched)&&((o=n.formGroup.get("firstName"))==null?null:o.invalid)),v(5),C("ngClass",bn(14,Nh,((a=n.formGroup.get("lastName"))==null?null:a.touched)&&((a=n.formGroup.get("lastName"))==null?null:a.invalid),!((a=n.formGroup.get("lastName"))!=null&&a.touched)||!((a=n.formGroup.get("lastName"))!=null&&a.invalid))),v(),C("ngIf",((s=n.formGroup.get("lastName"))==null?null:s.touched)&&((s=n.formGroup.get("lastName"))==null?null:s.invalid)),v(5),C("ngClass",bn(17,Nh,((l=n.formGroup.get("email"))==null?null:l.touched)&&((l=n.formGroup.get("email"))==null?null:l.invalid),!((l=n.formGroup.get("email"))!=null&&l.touched)||!((l=n.formGroup.get("email"))!=null&&l.invalid))),v(),C("ngIf",((c=n.formGroup.get("email"))==null?null:c.touched)&&((c=n.formGroup.get("email"))==null?null:c.invalid)),v(5),C("ngClass",bn(20,Nh,((u=n.formGroup.get("password"))==null?null:u.touched)&&((u=n.formGroup.get("password"))==null?null:u.invalid),!((u=n.formGroup.get("password"))!=null&&u.touched)||!((u=n.formGroup.get("password"))!=null&&u.invalid))),v(),C("ngIf",((f=n.formGroup.get("password"))==null?null:f.touched)&&((f=n.formGroup.get("password"))==null?null:f.invalid)),v(5),C("ngClass",bn(23,Nh,((y=n.formGroup.get("confirm_password"))==null?null:y.touched)&&((y=n.formGroup.get("confirm_password"))==null?null:y.invalid),!((y=n.formGroup.get("confirm_password"))!=null&&y.touched)||!((y=n.formGroup.get("confirm_password"))!=null&&y.invalid))),v(),C("ngIf",((g=n.formGroup.get("confirm_password"))==null?null:g.touched)&&((g=n.formGroup.get("confirm_password"))==null?null:g.invalid))}},dependencies:[di,Ui,li,_i,yi,Ph,ci,Ri,st,Li,Ct,fn]})};function uN(i,t){if(i&1&&(p(0,"li",14),b(1),h()),i&2){let e=t.$implicit,n=M(2);C("ngClass",e.stepName==n.activeStep.stepName?"active":""),v(),we(" ",e.stepName,"")}}function hN(i,t){if(i&1&&(p(0,"ul",12),Y(1,uN,2,2,"li",13),h()),i&2){let e=M();v(),C("ngForOf",e.stepsList)}}function pN(i,t){if(i&1){let e=Ge();p(0,"div",19)(1,"app-button",20),_e("nextStageEvent",function(r){Pe(e);let o=M(3);return Oe(o.incrementIndexOfRole(r))}),h()()}if(i&2){let e=M(3);v(),C("buttonStatus",e.buttonStatus)}}function fN(i,t){if(i&1){let e=Ge();p(0,"div",16)(1,"app-role-selection",17),_e("endUserSelectionEvent",function(r){Pe(e);let o=M(2);return Oe(o.selectEndUser(r))}),h(),Y(2,pN,2,1,"div",18),h()}if(i&2){let e=M(2);v(),C("fields",e.fields)("formGroup",e.registrationForm)("submitEvent",e.submitEvent),v(),C("ngIf",e.endUser_role)}}function mN(i,t){if(i&1){let e=Ge();p(0,"div",21)(1,"app-user-personal",22),_e("buttonActivate",function(r){Pe(e);let o=M(2);return Oe(o.handleButtonStatus(r))}),h(),p(2,"div",23)(3,"app-button",24),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.decrementIndexOfRole(r))}),h(),p(4,"app-button",25),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.incrementIndexOfRole(r))}),h()()()}if(i&2){let e=M(2);v(),C("submitEvent",e.submitEvent),v(2),C("buttonStatus",e.buttonStatus),v(),C("buttonStatus",e.buttonStatus)}}function gN(i,t){if(i&1){let e=Ge();p(0,"div",21)(1,"app-address",26),_e("buttonActivate",function(r){Pe(e);let o=M(2);return Oe(o.handleButtonStatus(r))}),h(),p(2,"div",23)(3,"app-button",24),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.decrementIndexOfRole(r))}),h(),p(4,"app-button",25),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.incrementIndexOfRole(r))}),h()()()}if(i&2){let e=M(2);v(),C("submitEvent",e.submitEvent)("userRole",e.endUser_role),v(2),C("buttonStatus",e.buttonStatus),v(),C("buttonStatus",e.buttonStatus)}}function vN(i,t){if(i&1){let e=Ge();p(0,"div",21)(1,"app-password",26),_e("buttonActivate",function(r){Pe(e);let o=M(2);return Oe(o.handleButtonStatus(r))}),h(),p(2,"div",23)(3,"app-button",24),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.decrementIndexOfRole(r))}),h(),p(4,"app-button",27),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.incrementIndexOfRole(r))}),h()()()}if(i&2){let e=M(2);v(),C("submitEvent",e.submitEvent)("userRole",e.endUser_role),v(2),C("buttonStatus",e.buttonStatus),v(),C("buttonStatus",e.buttonStatus)}}function bN(i,t){if(i&1){let e=Ge();p(0,"div",28),Hi(),p(1,"svg",29),q(2,"circle",30)(3,"path",31),h(),nn(),p(4,"div",32)(5,"h2"),b(6,"Congratulation!"),h(),p(7,"p"),b(8,"Thanks Mr./Mrs. "),p(9,"span",33),b(10),h(),b(11," your information have been submitted successfully for the future reference we will contact you soon."),h()(),p(12,"button",34),_e("click",function(){Pe(e);let r=M(2);return Oe(r.navigateToLogin(r.endUser_role))}),b(13," Back To Login "),h()()}if(i&2){let e=M(2);v(10),Ae(e.firstName)}}function _N(i,t){if(i&1){let e=Ge();p(0,"div",28)(1,"div",35)(2,"div",35),Hi(),p(3,"svg",36)(4,"g",37)(5,"g",38),q(6,"circle",39)(7,"circle",40)(8,"path",41)(9,"path",42),h()()()()(),nn(),p(10,"div",32)(11,"h2"),b(12,"Sorry!"),h(),p(13,"p"),b(14,"Thanks Mr./Mrs. "),q(15,"span",33),b(16," your information have been submitted successfully for the future reference we will contact you soon."),h()(),p(17,"button",34),_e("click",function(){Pe(e);let r=M(2);return Oe(r.navigateToRegister())}),b(18," Try Again "),h()()}}function yN(i,t){if(i&1){let e=Ge();p(0,"div",21)(1,"app-persoanl-info",26),_e("buttonActivate",function(r){Pe(e);let o=M(2);return Oe(o.handleButtonStatus(r))}),h(),p(2,"div",23)(3,"app-button",24),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.decrementIndexOfRole(r))}),h(),p(4,"app-button",43),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.incrementIndexOfRole(r))}),h()()()}if(i&2){let e=M(2);v(),C("submitEvent",e.submitEvent)("userRole",e.endUser_role),v(2),C("buttonStatus",e.buttonStatus),v(),C("buttonStatus",e.buttonStatus)}}function xN(i,t){if(i&1){let e=Ge();p(0,"div",21)(1,"app-address",26),_e("buttonActivate",function(r){Pe(e);let o=M(2);return Oe(o.handleButtonStatus(r))}),h(),p(2,"div",23)(3,"app-button",24),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.decrementIndexOfRole(r))}),h(),p(4,"app-button",43),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.incrementIndexOfRole(r))}),h()()()}if(i&2){let e=M(2);v(),C("submitEvent",e.submitEvent)("userRole",e.endUser_role),v(2),C("buttonStatus",e.buttonStatus),v(),C("buttonStatus",e.buttonStatus)}}function CN(i,t){if(i&1){let e=Ge();p(0,"div",21)(1,"app-user-personal",22),_e("buttonActivate",function(r){Pe(e);let o=M(2);return Oe(o.handleButtonStatus(r))}),h(),p(2,"div",23)(3,"app-button",24),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.decrementIndexOfRole(r))}),h(),p(4,"app-button",43),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.incrementIndexOfRole(r))}),h()()()}if(i&2){let e=M(2);v(),C("submitEvent",e.submitEvent),v(2),C("buttonStatus",e.buttonStatus),v(),C("buttonStatus",e.buttonStatus)}}function wN(i,t){if(i&1){let e=Ge();p(0,"div",21)(1,"app-password",26),_e("buttonActivate",function(r){Pe(e);let o=M(2);return Oe(o.handleButtonStatus(r))}),h(),p(2,"div",23)(3,"app-button",24),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.decrementIndexOfRole(r))}),h(),p(4,"app-button",27),_e("nextStageEvent",function(r){Pe(e);let o=M(2);return Oe(o.incrementIndexOfRole(r))}),h()()()}if(i&2){let e=M(2);v(),C("submitEvent",e.submitEvent)("userRole",e.endUser_role),v(2),C("buttonStatus",e.buttonStatus),v(),C("buttonStatus",e.buttonStatus)}}function SN(i,t){if(i&1){let e=Ge();p(0,"div",28),Hi(),p(1,"svg",29),q(2,"circle",30)(3,"path",31),h(),nn(),p(4,"div",32)(5,"h2"),b(6,"Congratulation!"),h(),p(7,"p"),b(8,"Thanks Mr./Mrs. "),p(9,"span",33),b(10),h(),b(11," your information have been submitted successfully for the future reference we will contact you soon."),h()(),p(12,"button",34),_e("click",function(){Pe(e);let r=M(2);return Oe(r.navigateToLogin(r.endUser_role))}),b(13," Back To Login "),h()()}if(i&2){let e=M(2);v(10),Ae(e.firstName)}}function DN(i,t){if(i&1){let e=Ge();p(0,"div",28)(1,"div",35)(2,"div",35),Hi(),p(3,"svg",36)(4,"g",37)(5,"g",38),q(6,"circle",39)(7,"circle",40)(8,"path",41)(9,"path",42),h()()()()(),nn(),p(10,"div",32)(11,"h2"),b(12),h(),p(13,"p"),b(14,"Thanks Mr./Mrs. "),p(15,"span",33),b(16),h(),b(17," your information have been submitted successfully for the future reference we will contact you soon."),h()(),p(18,"button",34),_e("click",function(){Pe(e);let r=M(2);return Oe(r.navigateToRegister())}),b(19," Try Again "),h()()}if(i&2){let e=M(2);v(12),Ae(e.registrationMessage),v(4),Ae(e.firstName)}}function IN(i,t){if(i&1&&(p(0,"div"),Y(1,fN,3,4,"div",15)(2,mN,5,3,"div",10)(3,gN,5,4,"div",10)(4,vN,5,4,"div",10)(5,bN,14,1,"div",11)(6,_N,19,0,"div",11)(7,yN,5,4,"div",10)(8,xN,5,4,"div",10)(9,CN,5,3,"div",10)(10,wN,5,4,"div",10)(11,SN,14,1,"div",11)(12,DN,20,2,"div",11),h()),i&2){let e=M();v(),C("ngIf",e.activeStep.index==1),v(),C("ngIf",e.activeStep.index==2&&(e.endUser_role=="shipperStaff"||e.endUser_role=="driver")),v(),C("ngIf",e.activeStep.index==3&&(e.endUser_role=="shipperStaff"||e.endUser_role=="driver")),v(),C("ngIf",e.activeStep.index==4&&(e.endUser_role=="shipperStaff"||e.endUser_role=="driver")),v(),C("ngIf",e.activeStep.index==5&&(e.endUser_role=="shipperStaff"||e.endUser_role=="driver")&&e.registrationStatus===!0),v(),C("ngIf",e.activeStep.index==5&&(e.endUser_role=="shipperStaff"||e.endUser_role=="driver")&&e.registrationStatus===!0),v(),C("ngIf",e.activeStep.index==2&&(e.endUser_role=="shipperAdmin"||e.endUser_role=="carrierAdmin")),v(),C("ngIf",e.activeStep.index==3&&(e.endUser_role=="shipperAdmin"||e.endUser_role=="carrierAdmin")),v(),C("ngIf",e.activeStep.index==4&&(e.endUser_role=="shipperAdmin"||e.endUser_role=="carrierAdmin")),v(),C("ngIf",e.activeStep.index==5&&(e.endUser_role=="shipperAdmin"||e.endUser_role=="carrierAdmin")),v(),C("ngIf",e.activeStep.index==6&&(e.endUser_role=="shipperAdmin"||e.endUser_role=="carrierAdmin")&&e.registrationStatus===!0),v(),C("ngIf",e.activeStep.index==6&&(e.endUser_role=="shipperAdmin"||e.endUser_role=="carrierAdmin")&&e.registrationStatus===!1)}}function AN(i,t){if(i&1){let e=Ge();p(0,"div")(1,"app-app-admin",44),_e("messageEvent",function(r){Pe(e);let o=M();return Oe(o.handleMessage(r))})("formStatusEvent",function(r){Pe(e);let o=M();return Oe(o.handleButtonStatus(r))}),h(),p(2,"app-button",45),_e("nextStageEvent",function(r){Pe(e);let o=M();return Oe(o.incrementIndexOfRole(r))}),h()()}if(i&2){let e=M();v(),C("submitEvent",e.submitEvent)("userRole",e.endUser_role),v(),C("buttonStatus",e.buttonStatus)}}function EN(i,t){if(i&1){let e=Ge();p(0,"div",21),Hi(),p(1,"svg",29),q(2,"circle",30)(3,"path",31),h(),nn(),p(4,"div",32)(5,"h2"),b(6),h(),p(7,"p"),b(8,"Thanks Mr./Mrs. "),p(9,"span",33),b(10),h(),b(11," your information have been submitted successfully for the future reference we will contact you soon."),h()(),p(12,"div",46)(13,"button",34),_e("click",function(){Pe(e);let r=M();return Oe(r.navigateToLogin("admin"))}),b(14," Back To Login "),h()()()}if(i&2){let e=M();v(6),Ae(e.registrationMessage),v(4),Ae(e.firstName)}}function kN(i,t){if(i&1){let e=Ge();p(0,"div",28)(1,"div",35)(2,"div",35),Hi(),p(3,"svg",36)(4,"g",37)(5,"g",38),q(6,"circle",39)(7,"circle",40)(8,"path",41)(9,"path",42),h()()()()(),nn(),p(10,"div",32)(11,"h2"),b(12),h(),p(13,"p"),b(14,"Thanks Mr./Mrs. "),p(15,"span",33),b(16,"user"),h(),b(17," You have encountered an Error Please Try again."),h()(),p(18,"div",46)(19,"button",34),_e("click",function(){Pe(e);let r=M();return Oe(r.navigateToRegister())}),b(20," Try Again "),h()()()}if(i&2){let e=M();v(12),Ae(e.registrationMessage)}}var Ml=class i{constructor(t,e){this.router=t;this.route=e;this.registrationForm=this.fb.group({}),this.registrationForm=this.fb.group({role:["",j.required],name:this.fb.group({firstName:["",j.required],lastName:["",j.required]}),email:["",[j.required,j.email]],phoneNumber:["",j.required],password:["",j.required],companyRefId:[""],personalDetails:this.fb.group({emergencyContact:this.fb.group({name:[""],phoneNumber:[""],address:this.fb.group({addressLine1:[""],addressLine2:[""],city:[""],state:[""],postalCode:[""]})})}),companyDetails:this.fb.group({companyName:[""],companyEmail:[""],companyPhone:[""],taxId:[""],address:this.fb.group({addressLine1:[""],addressLine2:[""],city:[""],state:[""],postalCode:[""]})})})}submitEvent=new ct;indexChanger=new ct;fb=ue(qt);registrationForm;store=ue(ir);authService=ue(Is);loading$=this.store.select(r5);error$=this.store.select(o5);user$=this.store.select(Ho);buttonStatus=new ct;stepsList=[{stepName:"Choose A Role",isComplete:!1,index:1}];usersList=["shipperAdmin","carrierAdmin","driver","shipperStaff","appAdmin"];activeUser="shipperAdmin";activeStepIndex=0;activeStep=this.stepsList[this.activeStepIndex];company="";endUser_role="appAdmin";fields=[];index=0;isCompleted=!1;registrationStatus=!1;registrationMessage="";firstName="";incrementIndexOfRole(t){this.submitEvent.emit(),this.activeStepIndex<this.stepsList.length-1&&(this.activeStepIndex++,this.activeStep=this.stepsList[this.activeStepIndex],this.activeStep.isComplete&&this.onSubmit()),console.log(this.activeStepIndex)}decrementIndexOfRole(t){this.submitEvent.emit(),this.activeStepIndex>0&&(this.activeStepIndex--,this.activeStep=this.stepsList[this.activeStepIndex]),console.log(this.activeStepIndex)}handleMessage(t){console.log("message received",t.message),this.isCompleted=!0,this.registrationStatus=t.success,this.registrationMessage=t.message,this.firstName=t.firstName}selectEndUser(t){this.endUser_role=t,this.registrationForm.get("role")?.setValue(t),t=="carrierAdmin"||t=="shipperAdmin"?this.stepsList=[{stepName:"Choose A Role",isComplete:!1,index:1},{stepName:"Company Information",isComplete:!1,index:2},{stepName:"Company Address",isComplete:!1,index:3},{stepName:"Admin Details",isComplete:!1,index:4},{stepName:"Submit",isComplete:!1,index:5},{stepName:"Registration Successful!",isComplete:!0,index:6}]:this.stepsList=[{stepName:"Choose A Role",isComplete:!1,index:1},{stepName:"Personal Information",isComplete:!1,index:2},{stepName:"Your Address",isComplete:!1,index:3},{stepName:"Submit",isComplete:!1,index:4},{stepName:"Registration Successful!",isComplete:!0,index:5}],this.buttonStatus.emit(!0)}navigateToRegister(){this.isCompleted=!1,this.registrationStatus=!1}navigateToLogin(t){this.endUser_role==="admin"?this.router.navigate([`/${t}`]):t==="carrierAdmin"?this.router.navigate(["/carrier"]):t==="shipperAdmin"?this.router.navigate(["/shipper"]):t==="driver"&&this.router.navigate(["/carrier/driver"])}handleButtonStatus(t){t===!0?this.buttonStatus.emit(!0):(console.log("button status reaching here"),this.buttonStatus.emit(!1))}onSubmit(){console.log("final step listing user",this.user$),this.user$.pipe(ei(1)).subscribe(t=>{t&&this.authService.registerUser(t).subscribe(e=>{console.log("User registered successfully:",e),this.deleteLocalStorageItems(),this.isCompleted=!0,this.firstName=e.firstName,e.success&&(console.log("success activated"),this.registrationStatus=e.success,this.registrationMessage=e.message),e.success||(console.log("error activated"),this.registrationStatus=!1,this.registrationMessage=e.message,console.log("the end user is ",this.endUser_role),console.log("registrationStatus",this.registrationStatus))},e=>{console.error("Error registering user:",e),this.deleteLocalStorageItems(),this.isCompleted=!0,this.registrationStatus=e.error.success,this.registrationMessage=e.error.message,this.firstName=e.error.firstName})})}deleteLocalStorageItems(){localStorage.removeItem("driverEmail"),localStorage.removeItem("invitationToken"),localStorage.removeItem("companyRefId"),console.log("Items deleted from localStorage")}ngOnInit(){this.route.queryParams.subscribe(e=>{let n=e.token,r=e.companyRefId,o=e.email;n&&(localStorage.setItem("invitationToken",n),localStorage.setItem("companyRefId",r),localStorage.setItem("driverEmail",o))}),this.loading$.subscribe(e=>console.log("Loading:",e));let t=this.router.url;t.includes("/shipper/register")?(this.company="shipper",this.endUser_role="shipperAdmin",this.fields=[{endUser:"shipperAdmin",text:"COMPANY"},{endUser:"shipperStaff",text:"STAFF"}]):t.includes("/carrier/driver/register")?(this.company="carrier",this.endUser_role="driver",this.fields=[{endUser:"carrierAdmin",text:"COMPANY"},{endUser:"driver",text:"DRIVER"}]):t.includes("/carrier/register")&&(this.company="carrier",this.endUser_role="carrierAdmin",this.fields=[{endUser:"carrierAdmin",text:"COMPANY"},{endUser:"driver",text:"DRIVER"}])}static \u0275fac=function(e){return new(e||i)(le(fi),le(Sa))};static \u0275cmp=Ye({type:i,selectors:[["app-register"]],outputs:{submitEvent:"submitEvent",indexChanger:"indexChanger",buttonStatus:"buttonStatus"},standalone:!0,features:[Xe],decls:18,vars:5,consts:[[1,"container"],[1,"card"],[1,"form"],[1,"left-side"],[1,"left-heading"],[1,"steps-content"],["src","logo.png","alt","metaVite logo"],[1,"step-number-content","d-none"],["class","progress-bar",4,"ngIf"],[4,"ngIf"],["class","main active",4,"ngIf"],["class","main active flex flex-col items-center justify-center",4,"ngIf"],[1,"progress-bar"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["class"," active",4,"ngIf"],[1,"active"],[3,"endUserSelectionEvent","fields","formGroup","submitEvent"],["class","mb-4",4,"ngIf"],[1,"mb-4"],[3,"nextStageEvent","buttonStatus"],[1,"main","active"],[3,"buttonActivate","submitEvent"],[1,"flex","justify-between"],["label","Previous",1,"w-1/2",3,"nextStageEvent","buttonStatus"],["label","Next",1,"w-1/2",3,"nextStageEvent","buttonStatus"],[3,"buttonActivate","submitEvent","userRole"],["label","Submit",1,"w-1/2",3,"nextStageEvent","buttonStatus"],[1,"main","active","flex","flex-col","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 52 52",1,"checkmark"],["cx","26","cy","26","r","25","fill","none",1,"checkmark__circle"],["fill","none","d","M14.1 27.2l7.1 7.2 16.7-16.8",1,"checkmark__check"],[1,"text","congrats"],[1,"shown_name"],[1,"w-1/3","bg-green-500","hover:bg-blue-600","text-white","font-medium","py-3","rounded-lg","mt-4","focus:outline-none",3,"click"],[1,"demo1"],["viewBox","0 0 87 87","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Group-2","transform","translate(2.000000, 2.000000)"],["id","Oval-2","stroke","rgba(252, 191, 191, .5)","stroke-width","4","cx","41.5","cy","41.5","r","41.5"],["stroke","#F74444","stroke-width","4","cx","41.5","cy","41.5","r","41.5",1,"ui-error-circle"],["d","M22.244224,22 L60.4279902,60.1837662","id","Line","stroke","#F74444","stroke-width","3","stroke-linecap","square",1,"ui-error-line1"],["d","M60.755776,21 L23.244224,59.8443492","id","Line","stroke","#F74444","stroke-width","3","stroke-linecap","square",1,"ui-error-line2"],[1,"w-1/2",3,"nextStageEvent","buttonStatus"],[3,"messageEvent","formStatusEvent","submitEvent","userRole"],["label","Submit",3,"nextStageEvent","buttonStatus"],[1,"flex","justify-center"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),q(4,"div",4),p(5,"div",5),q(6,"img",6),p(7,"p",7),b(8,"Get to know better by adding your diploma,certificate and education life."),h(),p(9,"p",7),b(10,"Help companies get to know you better by telling then about your past experiences."),h(),p(11,"p",7),b(12,"Add your profile piccture and let companies find youy fast. "),h()(),Y(13,hN,2,1,"ul",8),h(),Y(14,IN,13,12,"div",9)(15,AN,3,3,"div",9)(16,EN,15,2,"div",10)(17,kN,21,1,"div",11),h()()()),e&2&&(v(13),C("ngIf",n.endUser_role!=="appAdmin"),v(),C("ngIf",n.endUser_role!=="appAdmin"),v(),C("ngIf",n.endUser_role=="appAdmin"&&n.isCompleted===!1),v(),C("ngIf",n.endUser_role==="appAdmin"&&n.registrationStatus&&n.isCompleted),v(),C("ngIf",n.endUser_role==="appAdmin"&&n.registrationStatus===!1&&n.isCompleted))},dependencies:[st,Li,Ti,Ct,Om,Nm,Rm,Fm,jm,Bm,Vm],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}.container[_ngcontent-%COMP%]{min-width:100vw;min-height:100vh;display:flex;justify-content:center;align-items:center;background-color:#eee;padding:20px;box-sizing:border-box}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;max-width:800px;background-color:#fff;box-shadow:0 15px 30px #0000001a;font-family:Poppins,sans-serif;border-radius:20px;overflow:hidden;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:35%;background-color:#304767;height:100%;border-top-left-radius:20px;border-bottom-left-radius:20px;padding:20px 30px;box-sizing:border-box}.left-heading[_ngcontent-%COMP%]{color:#fff}.steps-content[_ngcontent-%COMP%]{margin-top:30px;color:#fff}.steps-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-top:15px}.progress-bar[_ngcontent-%COMP%]{list-style:none;margin-top:30px;font-size:13px;font-weight:700;counter-reset:container 0}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin-left:40px;margin-top:50px;counter-increment:container 1;color:#4f6581}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:counter(container);line-height:25px;text-align:center;position:absolute;height:25px;width:25px;border:1px solid #4f6581;border-radius:50%;left:-40px;top:-5px;z-index:10;background-color:#304767}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";position:absolute;height:90px;width:2px;background-color:#4f6581;z-index:1;left:-27px;top:-70px}.progress-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background-color:#fff}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{display:none}.progress-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{color:#fff;border:1px solid #fff}.progress-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#fff}.d-none[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{width:65%;background-color:#fff;height:100%;border-radius:20px}.main[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{display:block}.main[_ngcontent-%COMP%]{padding:40px}.main[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:2px;height:30px;width:30px;background-color:#ccc;border-radius:50%;color:#ff0;font-size:19px}.text[_ngcontent-%COMP%]{margin-top:20px}.congrats[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;font-weight:700;color:#cbced4}.input-text[_ngcontent-%COMP%]{margin:30px 0;display:flex;gap:20px}.input-text[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{width:100%;position:relative}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:40px;border:none;outline:0;border-radius:5px;border:1px solid #cbced4;gap:20px;box-sizing:border-box;padding:0 10px}.input-text[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;font-size:14px;transition:all .5s}.input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ span[_ngcontent-%COMP%], .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ span[_ngcontent-%COMP%]{top:-15px;left:6px;font-size:10px;font-weight:600}.input-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:-15px;left:6px;font-size:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;width:100px;border:none;border-radius:5px;background-color:#0075ff;font-size:12px;color:#fff;cursor:pointer}.button_space[_ngcontent-%COMP%]{display:flex;gap:20px}.button_space[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){background-color:#fff;color:#000;border:1px solid#000}.user_card[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:40px;height:200px;width:100%;border:1px solid #c7d3d9;border-radius:10px;display:flex;overflow:hidden;position:relative;box-sizing:border-box}.user_card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:80px;width:100%;background-color:#dfeeff}.circle[_ngcontent-%COMP%]{position:absolute;top:40px;left:60px}.circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:70px;width:70px;background-color:#fff;display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:50%}.circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.social[_ngcontent-%COMP%]{display:flex;position:absolute;top:100px;right:10px}.social[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:7px;background-color:#fff;border:1px solid #cbd6dc;display:flex;justify-content:center;align-items:center;margin-left:10px;color:#cbd6dc}.social[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.heart[_ngcontent-%COMP%], .share[_ngcontent-%COMP%]{color:red!important}.user_name[_ngcontent-%COMP%]{position:absolute;top:110px;margin:10px;padding:0 30px;display:flex;flex-direction:column;width:100%}.user_name[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4c5b68}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-right:50px}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}.checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#7ac142;fill:none;animation:_ngcontent-%COMP%_stroke .6s cubic-bezier(.65,0,.45,1) forwards}.checkmark[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 #7ac142;animation:_ngcontent-%COMP%_fill .4s ease-in-out .4s forwards,_ngcontent-%COMP%_scale .3s ease-in-out .9s both}.checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:_ngcontent-%COMP%_stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards}@keyframes _ngcontent-%COMP%_stroke{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes _ngcontent-%COMP%_fill{to{box-shadow:inset 0 0 0 30px #7ac142}}@keyframes _ngcontent-%COMP%_error{to{box-shadow:inset 0 0 0 30px #c60313}}.warning[_ngcontent-%COMP%]{border:1px solid red!important}@media (max-width: 750px){.container[_ngcontent-%COMP%]{height:scroll}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:350px;height:auto!important;margin:30px 0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{width:100%}.input-text[_ngcontent-%COMP%]{display:block}.input-text[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{display:none}}.demo1[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 #fff;animation:_ngcontent-%COMP%_error .4s ease-in-out .4s forwards,_ngcontent-%COMP%_scale .3s ease-in-out .9s both}.ui-success[_ngcontent-%COMP%], .ui-error[_ngcontent-%COMP%]{width:100px;height:100px;margin:40px;border:1px solid #eee}@keyframes _ngcontent-%COMP%_ani-success-circle{to{stroke-dashoffset:782.2565707438586px}}@keyframes _ngcontent-%COMP%_ani-success-path{0%{stroke-dashoffset:62px}65%{stroke-dashoffset:-5px}84%{stroke-dashoffset:4px}to{stroke-dashoffset:-2px}}@keyframes _ngcontent-%COMP%_ani-error-line{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_ani-error-circle{0%{stroke-dasharray:0,260.75219024795285px;stroke-dashoffset:0}35%{stroke-dasharray:120px,120px;stroke-dashoffset:-120px}70%{stroke-dasharray:0,260.75219024795285px;stroke-dashoffset:-260.75219024795285px}to{stroke-dasharray:260.75219024795285px,0;stroke-dashoffset:-260.75219024795285px}}']})};function TN(i,t){i&1&&(p(0,"div",27),b(1," Username must be 9 characters. "),h())}function MN(i,t){i&1&&(p(0,"div",27),b(1," Password must be at least 8 characters. "),h())}function PN(i,t){if(i&1&&(p(0,"div",28),b(1),h()),i&2){let e=M();v(),we(" ",e.errorMessage," ")}}var Pl=class i{constructor(t,e,n){this.fb=t;this.router=e;this.authService=n;this.formGroup=this.fb.group({username:["",[j.required,j.minLength(9)]],password:["",[j.required,j.minLength(8)]]})}formSubmitEvent=new ct;formGroup;errorMessage=null;ngOnInit(){let t=localStorage.getItem("carrierAdminToken"),e=localStorage.getItem("shipperAdminToken"),n=localStorage.getItem("appAdminToken"),r=localStorage.getItem("driverToken");if(t&&this.router.url==="/carrier-admin"&&this.router.navigate(["/carrier/admin/dashboard"]),e&&this.router.url==="/shipper"){this.router.navigate(["/shipper/admin/dashboard"]);return}if(n&&this.router.url==="/admin"){this.router.navigate(["/admin/dashboard"]);return}if(r&&this.router.url==="/carrier/driver"){console.log(this.router.url),this.router.navigate(["/carrier/driver/dashboard"]);return}}navigateToRegister(){console.log("button clicked");let t=this.router.url;this.router.navigate([`${t}/register`])}onSubmit(){if(this.formGroup.invalid){this.formGroup.markAllAsTouched();return}let t=this.formGroup.value,e={username:t.username,password:t.password};this.authService.loginUser(e).subscribe(n=>{if(console.log("Login successful:",n.success),n.success){let r=n.user.role;r==="appAdmin"?(localStorage.setItem("appAdminToken",n.token),localStorage.setItem("appAdminData",JSON.stringify(n.user))):r==="shipperAdmin"?(localStorage.setItem("shipperAdminToken",n.token),localStorage.setItem("shipperAdminData",JSON.stringify(n.user))):r==="carrierAdmin"?(localStorage.setItem("carrierAdminToken",n.token),localStorage.setItem("carrierAdminData",JSON.stringify(n.user))):r==="driver"&&(localStorage.setItem("driverToken",n.token),localStorage.setItem("driverData",JSON.stringify(n.user))),n.user.role==="appAdmin"?this.router.navigate(["admin/dashboard"]):n.user.role==="carrierAdmin"?this.router.navigate(["carrier/admin/dashboard"]):n.user.role==="shipperAdmin"?this.router.navigate(["shipper/admin/dashboard"]):n.user.role==="driver"?this.router.navigate(["carrier/driver/dashboard"]):this.router.navigate(["shipper/staff/dashboard"])}else this.errorMessage=n.message,setTimeout(()=>{this.errorMessage=null},3e3)},n=>{this.formGroup.reset(),console.error("Login failed:",n),this.errorMessage="Login failed. Please try again.",setTimeout(()=>{this.errorMessage=null},3e3)})}static \u0275fac=function(e){return new(e||i)(le(qt),le(fi),le(Is))};static \u0275cmp=Ye({type:i,selectors:[["app-login"]],outputs:{formSubmitEvent:"formSubmitEvent"},standalone:!0,features:[Xe],decls:36,vars:4,consts:[[1,"container"],[1,"card"],[1,"form"],[1,"left-side"],[1,"left-heading"],[1,"steps-content"],["src","logo.png","alt","metaVite logo"],[1,"progress-bar"],[1,"flex","items-center","justify-center","w-full","p-4","m-4"],[1,"bg-white","dark:bg-gray-900","shadow-md","rounded-lg","px-8","py-6","max-w-md","p-4","m-4"],[1,"text-2xl","font-bold","text-center","mb-4","dark:text-gray-900"],[1,"w-full","p-4","m-4",3,"ngSubmit","formGroup"],[1,"mb-4"],["for","username",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-900","mb-2"],["type","text","id","username","formControlName","username","placeholder","Enter Your Username","required","",1,"shadow-sm","rounded-md","w-full","px-3","py-2","border","border-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-900","mb-2"],["type","password","id","password","formControlName","password","placeholder","Enter your password","required","",1,"shadow-sm","rounded-md","w-full","px-3","py-2","border","border-gray-900","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500"],["href","#",1,"text-xs","text-gray-600","hover:text-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center"],["type","checkbox","id","remember","checked","",1,"h-4","w-4","rounded","border-gray-900","text-indigo-600","focus:ring-indigo-500","focus:outline-none"],["for","remember",1,"ml-2","block","text-sm","text-gray-700","dark:text-gray-900"],[1,"text-xs","text-indigo-500","hover:text-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],[1,"flex","justify-center","btnstyle"],["type","submit",1,"w-1/2","bg-blue-600","hover:bg-blue-900","text-white","font-medium","py-3","rounded-lg","focus:outline-none"],["class","text-red-500 text-sm mt-4 text-center",4,"ngIf"],[1,"text-red-500","text-sm","mt-1"],[1,"text-red-500","text-sm","mt-4","text-center"]],template:function(e,n){if(e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),q(4,"div",4),p(5,"div",5),q(6,"img",6),h(),q(7,"ul",7),h(),p(8,"div",8)(9,"div",9)(10,"h1",10),b(11,"Welcome Back!"),h(),p(12,"form",11),_e("ngSubmit",function(){return n.onSubmit()}),p(13,"div",12)(14,"label",13),b(15,"Username"),h(),q(16,"input",14),Y(17,TN,2,0,"div",15),h(),p(18,"div",12)(19,"label",16),b(20,"Password"),h(),q(21,"input",17),Y(22,MN,2,0,"div",15),p(23,"a",18),b(24,"Forgot Password?"),h()(),p(25,"div",19)(26,"div",20),q(27,"input",21),p(28,"label",22),b(29,"Remember me"),h()(),p(30,"a",23),_e("click",function(){return n.navigateToRegister()}),b(31,"Create Account"),h()(),p(32,"div",24)(33,"button",25),b(34," Login "),h()(),Y(35,PN,2,1,"div",26),h()()()()()()),e&2){let r,o;v(12),C("formGroup",n.formGroup),v(5),C("ngIf",((r=n.formGroup.get("username"))==null?null:r.touched)&&((r=n.formGroup.get("username"))==null?null:r.invalid)),v(5),C("ngIf",((o=n.formGroup.get("password"))==null?null:o.touched)&&((o=n.formGroup.get("password"))==null?null:o.invalid)),v(13),C("ngIf",n.errorMessage)}},dependencies:[di,Ui,li,_i,yi,Ph,ci,Ri,st,Ct,fn],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}.container[_ngcontent-%COMP%]{min-width:100vw;min-height:100vh;display:flex;justify-content:center;align-items:center;background-color:#eee;padding:20px;box-sizing:border-box}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;max-width:800px;background-color:#fff;box-shadow:0 15px 30px #0000001a;font-family:Poppins,sans-serif;border-radius:20px;overflow:hidden;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:35%;background-color:#304767;height:100%;border-top-left-radius:20px;border-bottom-left-radius:20px;padding:20px 30px;box-sizing:border-box}.left-heading[_ngcontent-%COMP%]{color:#fff}.steps-content[_ngcontent-%COMP%]{margin-top:30px;color:#fff}.steps-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-top:15px}.progress-bar[_ngcontent-%COMP%]{list-style:none;margin-top:30px;font-size:13px;font-weight:700;counter-reset:container 0}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin-left:40px;margin-top:50px;counter-increment:container 1;color:#4f6581}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:counter(container);line-height:25px;text-align:center;position:absolute;height:25px;width:25px;border:1px solid #4f6581;border-radius:50%;left:-40px;top:-5px;z-index:10;background-color:#304767}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";position:absolute;height:90px;width:2px;background-color:#4f6581;z-index:1;left:-27px;top:-70px}.progress-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background-color:#fff}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{display:none}.progress-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{color:#fff;border:1px solid #fff}.progress-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#fff}.d-none[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{width:65%;background-color:#fff;height:100%;border-radius:20px}.main[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{display:block}.main[_ngcontent-%COMP%]{padding:40px}.main[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:2px;height:30px;width:30px;background-color:#ccc;border-radius:50%;color:#ff0;font-size:19px}.text[_ngcontent-%COMP%]{margin-top:20px}.congrats[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;font-weight:700;color:#cbced4}.input-text[_ngcontent-%COMP%]{margin:30px 0;display:flex;gap:20px}.input-text[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{width:100%;position:relative}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:40px;border:none;outline:0;border-radius:5px;border:1px solid #cbced4;gap:20px;box-sizing:border-box;padding:0 10px}.input-text[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;font-size:14px;transition:all .5s}.input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ span[_ngcontent-%COMP%], .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ span[_ngcontent-%COMP%]{top:-15px;left:6px;font-size:10px;font-weight:600}.input-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:-15px;left:6px;font-size:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;width:100px;border:none;border-radius:5px;background-color:#0075ff;font-size:12px;color:#fff;cursor:pointer}.button_space[_ngcontent-%COMP%]{display:flex;gap:20px}.button_space[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){background-color:#fff;color:#000;border:1px solid#000}.user_card[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:40px;height:200px;width:100%;border:1px solid #c7d3d9;border-radius:10px;display:flex;overflow:hidden;position:relative;box-sizing:border-box}.user_card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:80px;width:100%;background-color:#dfeeff}.circle[_ngcontent-%COMP%]{position:absolute;top:40px;left:60px}.circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:70px;width:70px;background-color:#fff;display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:50%}.circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.social[_ngcontent-%COMP%]{display:flex;position:absolute;top:100px;right:10px}.social[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:7px;background-color:#fff;border:1px solid #cbd6dc;display:flex;justify-content:center;align-items:center;margin-left:10px;color:#cbd6dc}.social[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.heart[_ngcontent-%COMP%], .share[_ngcontent-%COMP%]{color:red!important}.user_name[_ngcontent-%COMP%]{position:absolute;top:110px;margin:10px;padding:0 30px;display:flex;flex-direction:column;width:100%}.user_name[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4c5b68}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-right:50px}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}.checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#7ac142;fill:none;animation:_ngcontent-%COMP%_stroke .6s cubic-bezier(.65,0,.45,1) forwards}.checkmark[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 #7ac142;animation:_ngcontent-%COMP%_fill .4s ease-in-out .4s forwards,_ngcontent-%COMP%_scale .3s ease-in-out .9s both}.checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:_ngcontent-%COMP%_stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards}@keyframes _ngcontent-%COMP%_stroke{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes _ngcontent-%COMP%_fill{to{box-shadow:inset 0 0 0 30px #7ac142}}.warning[_ngcontent-%COMP%]{border:1px solid red!important}@media (max-width: 750px){.container[_ngcontent-%COMP%]{height:scroll}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:350px;height:auto!important;margin:30px 0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{width:100%}.input-text[_ngcontent-%COMP%]{display:block}.input-text[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{display:none}}']})};function ON(i,t){i&1&&(p(0,"div",14)(1,"button",15)(2,"div",6)(3,"mat-icon",10),b(4,"local_shipping"),h(),p(5,"h3",8),b(6,"Carrier Admin"),h()()(),p(7,"button",16)(8,"div",6)(9,"mat-icon",17),b(10,"drive_eta"),h(),p(11,"h3",8),b(12,"Driver"),h()()()())}var Um=class i{isCarrierSelected=!1;selectCarrier(){this.isCarrierSelected=!0}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ye({type:i,selectors:[["app-home-page"]],standalone:!0,features:[Xe],decls:26,vars:1,consts:[["id","features",1,"min-h-screen","container","mx-auto","px-4","space-y-8","bg-slate-100","py-8","md:py-12","lg:py-20"],[1,"mx-auto","flex","max-w-4xl","flex-col","items-center","space-y-4","text-center"],[1,"font-bold","text-3xl","leading-tight","sm:text-4xl","md:text-5xl","text-gray-800"],[1,"text-gray-600","text-sm","md:text-base"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-6","mx-auto","max-w-5xl"],["routerLink","/shipper",1,"relative","overflow-hidden","rounded-lg","border","bg-white","hover:shadow-lg","p-4","text-center","transition-all","duration-300"],[1,"flex","flex-col","justify-center","items-center","h-[180px]","p-6"],[1,"w-16","h-16","text-indigo-500"],[1,"font-bold","text-lg","mt-4","text-gray-700"],[1,"relative","overflow-hidden","rounded-lg","border","bg-white","hover:shadow-lg","p-4","text-center","transition-all","duration-300",3,"click"],[1,"w-16","h-16","text-purple-500"],["routerLink","/admin",1,"relative","overflow-hidden","rounded-lg","border","bg-white","hover:shadow-lg","p-4","text-center","transition-all","duration-300"],[1,"w-16","h-16","text-red-500"],["class","grid grid-cols-1 sm:grid-cols-2 gap-6 mx-auto max-w-4xl mt-8",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-6","mx-auto","max-w-4xl","mt-8"],["routerLink","/carrier",1,"relative","overflow-hidden","rounded-lg","border","bg-white","hover:shadow-lg","p-4","text-center","transition-all","duration-300"],["routerLink","/carrier/driver",1,"relative","overflow-hidden","rounded-lg","border","bg-white","hover:shadow-lg","p-4","text-center","transition-all","duration-300"],[1,"w-16","h-16","text-green-500"]],template:function(e,n){e&1&&(p(0,"section",0)(1,"div",1)(2,"h2",2),b(3,"Choose Your Role"),h(),p(4,"p",3),b(5,"Select the role you want to proceed with."),h()(),p(6,"div",4)(7,"button",5)(8,"div",6)(9,"mat-icon",7),b(10,"business"),h(),p(11,"h3",8),b(12,"Shipper"),h()()(),p(13,"button",9),_e("click",function(){return n.selectCarrier()}),p(14,"div",6)(15,"mat-icon",10),b(16,"local_shipping"),h(),p(17,"h3",8),b(18,"Carrier"),h()()(),p(19,"button",11)(20,"div",6)(21,"mat-icon",12),b(22,"admin_panel_settings"),h(),p(23,"h3",8),b(24,"Admin"),h()()()(),Y(25,ON,13,0,"div",13),h()),e&2&&(v(25),C("ngIf",n.isCarrierSelected))},dependencies:[Kr,_s,lC,st,Ct]})};var on=class i{constructor(t){this.router=t}getUserData(){let t=localStorage.getItem("userData");return t?JSON.parse(t):null}getAppAdminData(){let t=localStorage.getItem("appAdminData");return t?JSON.parse(t):null}getShipperAdminData(){let t=localStorage.getItem("shipperAdminData");return t?JSON.parse(t):null}getCarrierAdminData(){let t=localStorage.getItem("carrierAdminData");return t?JSON.parse(t):null}getDriverData(){let t=localStorage.getItem("driverData");return t?JSON.parse(t):null}getUserId(){let t=this.router.url,e=null;return t.startsWith("/admin/dashboard")?e=this.getAppAdminData():t.startsWith("/carrier/admin/dashboard")?e=this.getCarrierAdminData():t.startsWith("/shipper/admin/dashboard")?e=this.getShipperAdminData():t.startsWith("carrier/driver/dashboard")&&(e=this.getDriverData()),e?e._id:""}static \u0275fac=function(e){return new(e||i)(Ie(fi))};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};function NN(i,t){i&1&&(p(0,"div",23),q(1,"img",24),h())}function LN(i,t){i&1&&(p(0,"div",23),q(1,"img",25),h())}function RN(i,t){i&1&&(p(0,"div",23),q(1,"img",26),h())}function FN(i,t){i&1&&(p(0,"div",23),q(1,"img",27),h())}function jN(i,t){i&1&&(p(0,"div",23),q(1,"img",24),h())}function BN(i,t){i&1&&(p(0,"div",23),q(1,"img",25),h())}function VN(i,t){i&1&&(p(0,"div",23),q(1,"img",26),h())}function UN(i,t){i&1&&(p(0,"div",23),q(1,"img",27),h())}function zN(i,t){if(i&1){let e=Ge();p(0,"button",28),_e("click",function(){let r=Pe(e).$implicit,o=M();return Oe(o.onButtonClick(r.text))}),p(1,"mat-icon",29),b(2),h(),p(3,"span",30),b(4),h()()}if(i&2){let e=t.$implicit;v(2),Ae(e.icon),v(2),Ae(e.text)}}var Go=class i{constructor(t){this.router=t}buttonTexts=[];buttonClick=new ct;localStorageServices=ue(on);user;userDetails;onButtonClick(t){this.buttonClick.emit(t)}ngOnInit(){let t=this.router.url;t.startsWith("/admin/dashboard")?(this.user="admin",this.userDetails=this.localStorageServices.getAppAdminData()):t.startsWith("/carrier/admin/dashboard")?(this.user="carrier",this.userDetails=this.localStorageServices.getCarrierAdminData()):t.startsWith("/shipper/admin/dashboard")?(this.user="shipper",this.userDetails=this.localStorageServices.getShipperAdminData()):t.startsWith("/carrier/driver/dashboard")&&(this.user="driver",this.userDetails=this.localStorageServices.getDriverData())}static \u0275fac=function(e){return new(e||i)(le(fi))};static \u0275cmp=Ye({type:i,selectors:[["app-sidebar"]],inputs:{buttonTexts:"buttonTexts"},outputs:{buttonClick:"buttonClick"},standalone:!0,features:[Xe],decls:43,vars:13,consts:[[1,"rounded-r","bg-gray-900","xl:hidden","flex","justify-between","w-full","h-full","p-6","items-center"],["class","flex justify-between items-center space-x-3",4,"ngIf"],["aria-label","toggler",1,"flex","justify-center","items-center"],["aria-label","open","id","open","onclick","showNav(true)",1,"hidden","focus:outline-none","focus:ring-2"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,""],["d","M4 6H20","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M4 12H20","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M4 18H20","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["aria-label","close","id","close","onclick","showNav(true)",1,"focus:outline-none","focus:ring-2"],["d","M18 6L6 18","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M6 6L18 18","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","Main",1,"xl:rounded-r","transform","xl:translate-x-0","ease-in-out","transition","duration-500","flex","justify-start","items-start","h-full","w-full","sm:min-w-full","bg-gray-900","flex-col"],[1,"hidden","xl:flex","justify-start","p-6","items-center","space-x-3"],[1,"mt-6","flex","flex-col","justify-start","items-center","px-6","w-full","space-y-4"],["id","menu1",1,"flex","justify-start","flex-col","w-full","md:w-auto","items-start","pb-1","space-y-4"],["class","flex items-center justify-start space-x-4 hover:text-white focus:bg-gray-700 focus:text-white hover:bg-gray-700 text-gray-400 rounded px-4 py-2 w-full md:w-52",3,"click",4,"ngFor","ngForOf"],[1,"bg-gray-700","shadow-lg","rounded-lg","p-4","w-full","md:w-52","text-gray-200","text-left"],[1,"text-sm","text-start"],[1,"flex","flex-col","justify-between","items-center","h-full","pb-6","px-6","w-full","space-y-32"],[1,"flex","justify-start","flex-col","items-start","pb-5"],[1,"flex","justify-between","items-center","w-full"],[1,"flex","justify-center","items-center","space-x-2"],[1,"flex","justify-start","flex-col","items-start"],[1,"flex","justify-between","items-center","space-x-3"],["src","Admin_logo.png","alt",""],["src","Driver_logo.png","alt",""],["src","shipper_logo.png","alt",""],["src","carrier_logo.png","alt",""],[1,"flex","items-center","justify-start","space-x-4","hover:text-white","focus:bg-gray-700","focus:text-white","hover:bg-gray-700","text-gray-400","rounded","px-4","py-2","w-full","md:w-52",3,"click"],[1,"text-xl","flex","items-center"],[1,"text-base","leading-4","whitespace-nowrap"]],template:function(e,n){e&1&&(p(0,"div",0),Y(1,NN,2,0,"div",1)(2,LN,2,0,"div",1)(3,RN,2,0,"div",1)(4,FN,2,0,"div",1),p(5,"div",2)(6,"button",3),Hi(),p(7,"svg",4),q(8,"path",5)(9,"path",6)(10,"path",7),h()(),nn(),p(11,"button",8),Hi(),p(12,"svg",4),q(13,"path",9)(14,"path",10),h()()()(),nn(),p(15,"div",11)(16,"div",12),Y(17,jN,2,0,"div",1)(18,BN,2,0,"div",1)(19,VN,2,0,"div",1)(20,UN,2,0,"div",1),h(),p(21,"div",13)(22,"div",14),Y(23,zN,5,2,"button",15),h(),p(24,"div",16)(25,"p",17)(26,"strong"),b(27,"Name:"),h(),b(28),h(),p(29,"p",17)(30,"strong"),b(31,"Username:"),h(),b(32),h(),p(33,"p",17)(34,"strong"),b(35,"Company ID:"),h(),b(36),h()()(),p(37,"div",18),q(38,"div",19),p(39,"div",20)(40,"div",21),q(41,"div")(42,"div",22),h()()()()),e&2&&(v(),C("ngIf",n.user==="admin"),v(),C("ngIf",n.user==="driver"),v(),C("ngIf",n.user==="shipper"),v(),C("ngIf",n.user==="carrier"),v(13),C("ngIf",n.user==="admin"),v(),C("ngIf",n.user==="driver"),v(),C("ngIf",n.user==="shipper"),v(),C("ngIf",n.user==="carrier"),v(3),C("ngForOf",n.buttonTexts),v(5),Vi(" ",n.userDetails==null?null:n.userDetails.name.firstName," ",n.userDetails==null?null:n.userDetails.name.lastName,""),v(4),we(" ",n.userDetails==null?null:n.userDetails.username,""),v(4),we(" ",n.userDetails==null?null:n.userDetails.companyRefId,""))},dependencies:[st,Ti,Ct,_s]})};function qN(i,t){}var Ol=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var E_=(()=>{class i extends $c{constructor(e,n,r,o,a,s,l,c){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=o,this._interactivityChecker=a,this._ngZone=s,this._overlayRef=l,this._focusMonitor=c,this._platform=ue(In),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=ue(Dn),this._injector=ue(Gi),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();let f=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),f},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_trapFocus(){this._isDestroyed||ss(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let r=fh(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,n=fh();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=fh()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(n){return new(n||i)(le(ti),le(hm),le(vt,8),le(Ol),le(vh),le(Ot),le(Ea),le(pm))}}static{this.\u0275cmp=Ye({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(n,r){if(n&1&&vl(xh,7),n&2){let o;cs(o=ds())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,r){n&2&&pn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[Bi,Xe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,r){n&1&&Y(0,qN,0,0,"ng-template",0)},dependencies:[xh],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return i})(),Lh=class{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new mt,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!cm(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},HN=new He("DialogScrollStrategy",{providedIn:"root",factory:()=>{let i=ue(ur);return()=>i.scrollStrategies.block()}}),GN=new He("DialogData"),$N=new He("DefaultDialogConfig");var WN=0,k_=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,n,r,o,a,s){this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new mt,this._afterOpenedAtThisLevel=new mt,this._ariaHiddenElements=new Map,this.afterAllClosed=ul(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(va(void 0))),this._scrollStrategy=s}open(e,n){let r=this._defaultOptions||new Ol;n=de(de({},r),n),n.id=n.id||`cdk-dialog-${WN++}`,n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),a=this._overlay.create(o),s=new Lh(a,n),l=this._attachContainer(a,s,n);return s.containerInstance=l,this._attachDialogContent(e,s,l,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){I_(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){I_(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),I_(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new Ch({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,r){let o=r.injector||r.viewContainerRef?.injector,a=[{provide:Ol,useValue:r},{provide:Lh,useValue:n},{provide:Ea,useValue:e}],s;r.container?typeof r.container=="function"?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=E_;let l=new Hc(s,r.viewContainerRef,Gi.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,n,r,o){if(e instanceof Au){let a=this._createInjector(o,n,r,void 0),s={$implicit:o.data,dialogRef:n};o.templateContext&&(s=de(de({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Gc(e,null,s,a))}else{let a=this._createInjector(o,n,r,this._injector),s=r.attachComponentPortal(new Hc(e,o.viewContainerRef,a,o.componentFactoryResolver));n.componentRef=s,n.componentInstance=s.instance}}_createInjector(e,n,r,o){let a=e.injector||e.viewContainerRef?.injector,s=[{provide:GN,useValue:e.data},{provide:Lh,useValue:n}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(n,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(bh,null,{optional:!0}))&&s.push({provide:bh,useValue:{value:e.direction,change:dt()}}),Gi.create({parent:a||o,providers:s})}_removeOpenDialog(e,n){let r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let n=e.parentElement.children;for(let r=n.length-1;r>-1;r--){let o=n[r];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(n){return new(n||i)(Ie(ur),Ie(Gi),Ie($N,8),Ie(i,12),Ie(Wc),Ie(HN))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function I_(i,t){let e=i.length;for(;e--;)t(i[e])}var u5=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({providers:[k_],imports:[Yc,Al,fm,Al]})}}return i})();function YN(i,t){}var Rh=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},T_="mdc-dialog--open",h5="mdc-dialog--opening",p5="mdc-dialog--closing",XN=150,ZN=75,KN=(()=>{class i extends E_{constructor(e,n,r,o,a,s,l,c,u){super(e,n,r,o,a,s,l,u),this._animationMode=c,this._animationStateChanged=new ct,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?m5(this._config.enterAnimationDuration)??XN:0,this._exitAnimationDuration=this._animationsEnabled?m5(this._config.exitAnimationDuration)??ZN:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(f5,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(h5,T_)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(T_),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(T_),this._animationsEnabled?(this._hostElement.style.setProperty(f5,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(p5)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(h5,p5)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static{this.\u0275fac=function(n){return new(n||i)(le(ti),le(hm),le(vt,8),le(Rh),le(vh),le(Ot),le(Ea),le($r,8),le(pm))}}static{this.\u0275cmp=Ye({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,r){n&2&&(Av("id",r._config.id),pn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Er("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[Bi,Xe],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(p(0,"div",0)(1,"div",1),Y(2,YN,0,0,"ng-template",2),h()())},dependencies:[xh],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return i})(),f5="--mat-dialog-transition-duration";function m5(i){return i==null?null:typeof i=="number"?i:i.endsWith("ms")?gh(i.substring(0,i.length-2)):i.endsWith("s")?gh(i.substring(0,i.length-1))*1e3:i==="0"?0:null}var zm=function(i){return i[i.OPEN=0]="OPEN",i[i.CLOSING=1]="CLOSING",i[i.CLOSED=2]="CLOSED",i}(zm||{}),Pr=class{constructor(t,e,n){this._ref=t,this._containerInstance=n,this._afterOpened=new mt,this._beforeClosed=new mt,this._state=zm.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Sn(r=>r.state==="opened"),ei(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Sn(r=>r.state==="closed"),ei(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),gf(this.backdropClick(),this.keydownEvents().pipe(Sn(r=>r.keyCode===27&&!this.disableClose&&!cm(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),JN(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Sn(e=>e.state==="closing"),ei(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=zm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=zm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function JN(i,t,e){return i._closeInteractionType=t,i.close(e)}var Nl=new He("MatMdcDialogData"),QN=new He("mat-mdc-dialog-default-options"),eL=new He("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let i=ue(ur);return()=>i.scrollStrategies.block()}});var tL=0,ka=(()=>{class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,n,r,o,a,s,l,c){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new mt,this._afterOpenedAtThisLevel=new mt,this.dialogConfigClass=Rh,this.afterAllClosed=ul(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(va(void 0))),this._dialog=n.get(k_),this._dialogRefConstructor=Pr,this._dialogContainerType=KN,this._dialogDataToken=Nl}open(e,n){let r;n=de(de({},this._defaultOptions||new Rh),n),n.id=n.id||`mat-mdc-dialog-${tL++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,Fe(de({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:Ol,useValue:n}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,n,l),r.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static{this.\u0275fac=function(n){return new(n||i)(Ie(ur),Ie(Gi),Ie(hs,8),Ie(QN,8),Ie(eL),Ie(i,12),Ie(Wc),Ie($r,8))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var g5=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({providers:[ka],imports:[u5,Yc,Al,dr,dr]})}}return i})();function iL(i,t){i&1&&(p(0,"div"),b(1,"First Name is required."),h())}function nL(i,t){i&1&&(p(0,"div"),b(1,"First Name must be at least 3 characters long. "),h())}function rL(i,t){if(i&1&&(p(0,"div",13),Y(1,iL,2,0,"div",14)(2,nL,2,0,"div",14),h()),i&2){let e=M();v(),C("ngIf",e.nameControls.firstName.errors==null?null:e.nameControls.firstName.errors.required),v(),C("ngIf",e.nameControls.firstName.errors==null?null:e.nameControls.firstName.errors.minlength)}}function oL(i,t){i&1&&(p(0,"div"),b(1,"Last Name is required."),h())}function aL(i,t){i&1&&(p(0,"div"),b(1,"Last Name must be at least 3 characters long. "),h())}function sL(i,t){if(i&1&&(p(0,"div",13),Y(1,oL,2,0,"div",14)(2,aL,2,0,"div",14),h()),i&2){let e=M();v(),C("ngIf",e.nameControls.lastName.errors==null?null:e.nameControls.lastName.errors.required),v(),C("ngIf",e.nameControls.lastName.errors==null?null:e.nameControls.lastName.errors.minlength)}}function lL(i,t){i&1&&(p(0,"div"),b(1,"Email is required."),h())}function cL(i,t){i&1&&(p(0,"div"),b(1,"Invalid email format."),h())}function dL(i,t){if(i&1&&(p(0,"div",13),Y(1,lL,2,0,"div",14)(2,cL,2,0,"div",14),h()),i&2){let e=M();v(),C("ngIf",e.f.email.errors==null?null:e.f.email.errors.required),v(),C("ngIf",e.f.email.errors==null?null:e.f.email.errors.email)}}function uL(i,t){i&1&&(p(0,"div"),b(1,"Phone Number is required."),h())}function hL(i,t){i&1&&(p(0,"div"),b(1,"Phone Number must be a valid Indian number."),h())}function pL(i,t){if(i&1&&(p(0,"div",13),Y(1,uL,2,0,"div",14)(2,hL,2,0,"div",14),h()),i&2){let e=M();v(),C("ngIf",e.f.phoneNumber.errors==null?null:e.f.phoneNumber.errors.required),v(),C("ngIf",e.f.phoneNumber.errors==null?null:e.f.phoneNumber.errors.pattern)}}var qm=class i{constructor(t,e,n){this.fb=t;this.dialogRef=e;this.data=n;this.invitationForm=this.fb.group({name:this.fb.group({firstName:["",[j.required,j.minLength(3)]],lastName:["",[j.required,j.minLength(3)]]}),email:[this.data.email||"",[j.required,j.email]],phoneNumber:["",[j.required,j.pattern(/^[6-9]\d{9}$/)]]})}invitationForm;user=null;ngOnInit(){}get f(){return this.invitationForm.controls}get nameControls(){return this.invitationForm.get("name").controls}onSubmit(){if(this.invitationForm.valid){let e={user:this.invitationForm.value,formHeading:this.data.heading};this.dialogRef.close(e)}}onCancel(){this.dialogRef.close({cancelled:!0})}static \u0275fac=function(e){return new(e||i)(le(qt),le(Pr),le(Nl))};static \u0275cmp=Ye({type:i,selectors:[["app-invitation-form"]],standalone:!0,features:[Xe],decls:20,vars:7,consts:[[1,"p-4","m-4","bg-gray-100","rounded-lg","shadow-lg"],[1,"relative","m-2.5","items-center","flex","justify-center","text-white","h-24","rounded-md","bg-slate-800"],[1,"text-2xl"],[1,"font-[sans-serif]","max-w-4xl","mx-auto","bg-white","p-6","rounded-lg",3,"ngSubmit","formGroup"],["formGroupName","name",1,"grid","sm:grid-cols-2","gap-4","mb-4"],[1,"relative","flex","flex-col"],["formControlName","firstName","type","text","placeholder","First Name",1,"px-4","py-3","bg-[#f0f1f2]","focus:bg-transparent","text-black","w-full","text-sm","border","outline-[#007bff]","rounded","transition-all","mb-4"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["formControlName","lastName","type","text","placeholder","Last Name",1,"px-4","py-3","bg-[#f0f1f2]","focus:bg-transparent","text-black","w-full","text-sm","border","outline-[#007bff]","rounded","transition-all","mb-4"],[1,"relative","flex","flex-col","mb-4"],["formControlName","email","type","text","placeholder","Email",1,"px-4","py-3","bg-[#f0f1f2]","focus:bg-transparent","text-black","w-full","text-sm","border","outline-[#007bff]","rounded","transition-all","mb-4"],["formControlName","phoneNumber","type","text","placeholder","Phone Number",1,"px-4","py-3","bg-[#f0f1f2]","focus:bg-transparent","text-black","w-full","text-sm","border","outline-[#007bff]","rounded","transition-all","mb-4"],["type","submit",1,"mt-8","px-6","py-2.5","text-sm","w-full","bg-[#007bff]","hover:bg-[#006bff]","text-white","rounded","transition-all","disabled:bg-gray-300","disabled:cursor-not-allowed",3,"disabled"],[1,"text-red-500","text-xs","mt-1"],[4,"ngIf"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"h3",2),b(3),h()(),p(4,"form",3),_e("ngSubmit",function(){return n.onSubmit()}),p(5,"div",4)(6,"div",5),q(7,"input",6),Y(8,rL,3,2,"div",7),h(),p(9,"div",5),q(10,"input",8),Y(11,sL,3,2,"div",7),h()(),p(12,"div",9),q(13,"input",10),Y(14,dL,3,2,"div",7),h(),p(15,"div",9),q(16,"input",11),Y(17,pL,3,2,"div",7),h(),p(18,"button",12),b(19," Submit "),h()()()),e&2&&(v(3),Ae(n.data.heading),v(),C("formGroup",n.invitationForm),v(4),C("ngIf",n.nameControls.firstName.touched&&n.nameControls.firstName.invalid),v(3),C("ngIf",n.nameControls.lastName.touched&&n.nameControls.lastName.invalid),v(3),C("ngIf",n.f.email.touched&&n.f.email.invalid),v(3),C("ngIf",n.f.phoneNumber.touched&&n.f.phoneNumber.invalid),v(),C("disabled",n.invitationForm.invalid))},dependencies:[di,Ui,li,_i,yi,ci,Ri,Qc,fn,st,Ct]})};var An=class i{baseUrl="http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:4000/";http=ue(tr);constructor(){}addClients(t){return this.http.post(`${this.baseUrl}shipper/add-client`,t)}addLoad(t){return this.http.post(`${this.baseUrl}shipper/add-load`,t)}addPickupAddress(t){return this.http.post(`${this.baseUrl}shipper/add-pickup`,t)}getAllStaffs(){return this.http.get(`${this.baseUrl}shipper/staffs`)}getAllPayments(){return this.http.get(`${this.baseUrl}shipper/payments`)}getPayment(t){return this.http.get(`${this.baseUrl}shipper/payments/${t}`)}getAllCarriers(){return this.http.get(`${this.baseUrl}shipper/carriers`)}getAllPickups(t){return this.http.get(`${this.baseUrl}shipper/pick-ups/${t}`)}getAllClients(t){return this.http.get(`${this.baseUrl}shipper/clients/${t}`)}getAllShipperBids(){return this.http.get(`${this.baseUrl}shipper/bids`)}getAllShipments(){return this.http.get(`${this.baseUrl}shipper/shipments`)}getShipperInfo(t){return this.http.get(`${this.baseUrl}shipper/get-shipper/${t}`)}getLoadInfo(t){return this.http.get(`${this.baseUrl}shipper/load-info/${t}`)}getClientInfo(t){return this.http.get(`${this.baseUrl}shipper/client-info/${t}`)}getPickupInfo(t){return this.http.get(`${this.baseUrl}shipper/pickup-info/${t}`)}fetchCarrierInfo(t){return this.http.get(`${this.baseUrl}shipper/get-carrier/${t}`)}updateLoadInfo(t,e){return console.log(e),this.http.post(`${this.baseUrl}shipper/update-load-info/${t}`,e)}createRazorpayOrder(t,e,n,r){return this.http.post(`${this.baseUrl}shipper/create-razorpay-order`,{amount:t,loadId:e,shipperId:n,carrierId:r})}verifyPayment(t){return this.http.post(`${this.baseUrl}shipper/verify-payment`,t)}deleteShipperResource(t,e){return console.log(e),this.http.post(`${this.baseUrl}shipper/delete-resource/${t}`,{target:e})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};var xi=class i{ShipperServices=ue(An);dataSubject=new mt;driverDataSubject=new mt;clientDataSubject=new mt;chatSubject=new mt;data$=this.dataSubject.asObservable();driverData$=this.driverDataSubject.asObservable();clientData$=this.clientDataSubject.asObservable();chatData$=this.chatSubject.asObservable();sendChat(t){this.chatSubject.next(t)}sendData(t){this.dataSubject.next(t)}sendDriverData(t){this.driverDataSubject.next(t)}sendClientData(t){if(this.clientDataSubject.next(t),console.log("Received data for processing:",t),!t||!t.identifier)return console.error("Invalid data format. Missing identifier."),new wn(e=>{e.error(new Error("Invalid data format. Missing identifier."))});switch(t.identifier){case"Add a Pick-up Location":return this.ShipperServices.addPickupAddress(t.data).pipe(gt(e=>{if(e.success)return console.log("Pick-Up added successfully:",e),e;throw console.error("Failed to add pick-up:",e.message),new Error(e.message)}));case"Pickup Details":return this.ShipperServices.addPickupAddress(t.data).pipe(gt(e=>{if(e.success)return console.log("Pick-Up added successfully:",e),e;throw console.error("Failed to add pick-up:",e.message),new Error(e.message)}));case"Add a Client":return console.log("Sending client data:",t.data),this.ShipperServices.addClients(t.data).pipe(gt(e=>{if(e.success)return console.log("Client added successfully:",e),e;throw console.error("Failed to add client:",e.message),new Error(e.message)}));case"Client Details":return console.log("Sending client data:",t.data),this.ShipperServices.addClients(t.data).pipe(gt(e=>{if(e.success)return console.log("Client added successfully:",e),e;throw console.error("Failed to add client:",e.message),new Error(e.message)}));default:return console.error(`Unknown identifier: ${t.identifier}`),new wn(e=>{e.error(new Error(`Unsupported identifier: ${t.identifier}`))})}}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};var Hm=class i{constructor(t){this.dataService=t}selectedAction=new ct;id;item;selectAction(t){this.dataService.sendData({action:t,id:this.id,item:this.item})}static \u0275fac=function(e){return new(e||i)(le(xi))};static \u0275cmp=Ye({type:i,selectors:[["app-edit-delete-view"]],inputs:{id:"id",item:"item"},outputs:{selectedAction:"selectedAction"},standalone:!0,features:[Xe],decls:14,vars:0,consts:[[1,"inline-flex","items-center","rounded-md","shadow-sm"],[1,"text-slate-800","hover:text-blue-600","text-sm","bg-white","hover:bg-slate-100","border","border-slate-200","rounded-l-lg","font-medium","px-4","py-2","inline-flex","space-x-1","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"],[1,"text-slate-800","hover:text-blue-600","text-sm","bg-white","hover:bg-slate-100","border-y","border-slate-200","font-medium","px-4","py-2","inline-flex","space-x-1","items-center",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-slate-800","hover:text-blue-600","text-sm","bg-white","hover:bg-slate-100","border","border-slate-200","rounded-r-lg","font-medium","px-4","py-2","inline-flex","space-x-1","items-center",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"button",1),_e("click",function(){return n.selectAction("edit")}),p(2,"span"),Hi(),p(3,"svg",2),q(4,"path",3),h()()(),nn(),p(5,"button",4),_e("click",function(){return n.selectAction("view")}),p(6,"span"),Hi(),p(7,"svg",2),q(8,"path",5)(9,"path",6),h()()(),nn(),p(10,"button",7),_e("click",function(){return n.selectAction("delete")}),p(11,"span"),Hi(),p(12,"svg",2),q(13,"path",8),h()()()())}})};var hr=class i{baseUrl="http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:4000/";http=ue(tr);constructor(){}getAllDrivers(){return this.http.get(`${this.baseUrl}admin/drivers`)}getAllStaffs(){return this.http.get(`${this.baseUrl}admin/staffs`)}getAllVehicles(){return this.http.get(`${this.baseUrl}admin/vehicles`)}getAllCarriers(){return this.http.get(`${this.baseUrl}admin/carriers`)}getAllShippers(){return this.http.get(`${this.baseUrl}admin/shippers`)}getAllBids(t){return this.http.get(`${this.baseUrl}admin/bids/${t}`)}getAllShipperBids(t){return this.http.get(`${this.baseUrl}shipper/bids/${t}`)}getAllShipments(t){return this.http.get(`${this.baseUrl}admin/shipments/${t}`)}getTruckDetails(t){return this.http.get(`${this.baseUrl}admin/truck/${t}`)}getDriver(t){return this.http.get(`${this.baseUrl}admin/staff-driver/${t}`)}driverOnboardingInfo(t,e){return this.http.post(`${this.baseUrl}admin/staff-driver/add-info/${e}`,t)}updateDriverInfo(t,e){return this.http.post(`${this.baseUrl}admin/staff-driver/update-info/${e}`,t)}updateTruckInfo(t,e){return this.http.post(`${this.baseUrl}admin/truck/update-info/${e}`,t)}getLoadInfo(t){return this.http.get(`${this.baseUrl}admin/load-info/${t}`)}getAllPayments(){return this.http.get(`${this.baseUrl}admin/payments`)}getPayment(t){return this.http.get(`${this.baseUrl}admin/payments/${t}`)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};var mL=(i,t)=>({"text-green-500":i,"text-red-500":t});function gL(i,t){if(i&1){let e=Ge();p(0,"button",26),_e("click",function(){Pe(e);let r=M();return Oe(r.save())}),b(1,"Save"),h()}}function vL(i,t){if(i&1){let e=Ge();p(0,"button",26),_e("click",function(){Pe(e);let r=M();return Oe(r.save())}),b(1,"Update"),h()}}function bL(i,t){if(i&1&&(p(0,"div",27),b(1),h()),i&2){let e=M();C("ngClass",bn(2,mL,e.messageType==="success",e.messageType==="error")),v(),we(" ",e.message," ")}}var Es=class i{constructor(t,e,n){this.fb=t;this.dataService=e;this.cdr=n;let r=JSON.parse(localStorage.getItem("shipperAdminData")||"{}");this.companyRefId=r?.companyRefId||null,this.form=this.fb.group({companyName:["",j.required],address:this.fb.group({addressLine1:["",j.required],addressLine2:[""],city:["",j.required],state:["",j.required],postalCode:["",j.required]}),contactNumber:["",[j.required,j.pattern("^[0-9]+$")]],contactPerson:["",j.required],companyRefId:[this.companyRefId,j.required],_id:[""]})}onSave=new ct;onClose=new ct;updateResource;modalHeading;form;action;companyRefId=null;message=null;messageType=null;save(){this.form.patchValue({companyRefId:this.companyRefId}),this.form.valid&&this.dataService.sendClientData({data:this.form.value,identifier:this.modalHeading}).subscribe({next:t=>{t.success?(this.message=t.message,this.messageType="success",this.cdr.detectChanges(),setTimeout(()=>{this.onSave.emit(this.form.value),this.form.reset(),this.message=null,this.messageType=null,this.close(),console.log("its success closing modal")},3e3)):(this.message=t.message,this.messageType="error",setTimeout(()=>{this.message=null,this.messageType=null},3e3))},error:t=>{this.message=t,this.messageType="error",setTimeout(()=>{this.message=null,this.messageType=null},3e3)}}),console.log("form is not valid ")}close(){this.onClose.emit(),console.log("onclose emitted"),console.log(this.modalHeading),this.updateResource(this.modalHeading)}static \u0275fac=function(e){return new(e||i)(le(qt),le(xi),le(Dn))};static \u0275cmp=Ye({type:i,selectors:[["app-adress-modal"]],inputs:{updateResource:"updateResource",modalHeading:"modalHeading",form:"form",action:"action"},outputs:{onSave:"onSave",onClose:"onClose"},standalone:!0,features:[Xe],decls:44,vars:5,consts:[[1,"fixed","inset-0","bg-gray-800","bg-opacity-50","flex","items-center","justify-center","z-50","backdrop-blur","confirm-dialog"],[1,"bg-white","p-6","rounded-lg","shadow-lg","w-full","max-w-lg"],[1,"text-xl","font-semibold","mb-4"],[3,"formGroup"],[1,"mb-4"],["for","companyName",1,"block","text-gray-700"],["id","companyName","formControlName","companyName",1,"w-full","mt-1","p-2","border","rounded-md"],["formGroupName","address"],["for","addressLine1",1,"block","text-gray-700"],["id","addressLine1","formControlName","addressLine1",1,"w-full","mt-1","p-2","border","rounded-md"],["for","addressLine2",1,"block","text-gray-700"],["id","addressLine2","formControlName","addressLine2",1,"w-full","mt-1","p-2","border","rounded-md"],["for","city",1,"block","text-gray-700"],["id","city","formControlName","city",1,"w-full","mt-1","p-2","border","rounded-md"],["for","state",1,"block","text-gray-700"],["id","state","formControlName","state",1,"w-full","mt-1","p-2","border","rounded-md"],["for","postalCode",1,"block","text-gray-700"],["id","postalCode","formControlName","postalCode",1,"w-full","mt-1","p-2","border","rounded-md"],["for","contactNumber",1,"block","text-gray-700"],["id","contactNumber","formControlName","contactNumber",1,"w-full","mt-1","p-2","border","rounded-md"],["for","contactPerson",1,"block","text-gray-700"],["id","contactPerson","formControlName","contactPerson",1,"w-full","mt-1","p-2","border","rounded-md"],[1,"flex","justify-end"],["type","button",1,"mr-4","bg-gray-500","text-white","px-4","py-2","rounded-md",3,"click"],["type","button","class","bg-blue-500 text-white px-4 py-2 rounded-md",3,"click",4,"ngIf"],["class","mt-4 text-center",3,"ngClass",4,"ngIf"],["type","button",1,"bg-blue-500","text-white","px-4","py-2","rounded-md",3,"click"],[1,"mt-4","text-center",3,"ngClass"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"h2",2),b(3),h(),p(4,"form",3)(5,"div",4)(6,"label",5),b(7,"Company Name"),h(),q(8,"input",6),h(),p(9,"div",7)(10,"div",4)(11,"label",8),b(12,"Address Line 1"),h(),q(13,"input",9),h(),p(14,"div",4)(15,"label",10),b(16,"Address Line 2"),h(),q(17,"input",11),h(),p(18,"div",4)(19,"label",12),b(20,"City"),h(),q(21,"input",13),h(),p(22,"div",4)(23,"label",14),b(24,"State"),h(),q(25,"input",15),h(),p(26,"div",4)(27,"label",16),b(28,"Postal Code"),h(),q(29,"input",17),h()(),p(30,"div",4)(31,"label",18),b(32,"Phone"),h(),q(33,"input",19),h(),p(34,"div",4)(35,"label",20),b(36,"Contact Person"),h(),q(37,"input",21),h(),p(38,"div",22)(39,"button",23),_e("click",function(){return n.close()}),b(40,"Cancel"),h(),Y(41,gL,2,0,"button",24)(42,vL,2,0,"button",24),h(),Y(43,bL,2,5,"div",25),h()()()),e&2&&(v(3),Ae(n.modalHeading),v(),C("formGroup",n.form),v(37),C("ngIf",n.action!=="edit"&&n.action!=="view"),v(),C("ngIf",n.action==="edit"),v(),C("ngIf",n.message))},dependencies:[st,Li,Ct,di,Ui,li,_i,yi,ci,Ri,Qc],styles:[".fixed[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.bg-gray-800[_ngcontent-%COMP%]{background-color:#1f293780}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.w-full[_ngcontent-%COMP%]{width:100%}.max-w-lg[_ngcontent-%COMP%]{max-width:32rem}.p-6[_ngcontent-%COMP%]{padding:1.5rem}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.border[_ngcontent-%COMP%]{border:1px solid #e5e7eb}.text-gray-700[_ngcontent-%COMP%]{color:#374151}.flex[_ngcontent-%COMP%]{display:flex}.justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.mr-4[_ngcontent-%COMP%]{margin-right:1rem}.bg-gray-500[_ngcontent-%COMP%]{background-color:#6b7280}.bg-blue-500[_ngcontent-%COMP%]{background-color:#3b82f6}.text-white[_ngcontent-%COMP%]{color:#fff}.px-4[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.py-2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.rounded-md[_ngcontent-%COMP%]{border-radius:.375rem}.hover\\:bg-blue-700[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.hover\\:bg-gray-700[_ngcontent-%COMP%]:hover{background-color:#374151}.focus\\:outline-none[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #3b82f680}.focus\\:ring-blue-300[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #3b82f64d}"]})};var bo=class{static atLeast24HoursFromNow(t){let e=new Date;return new Date(t.value).getTime()-e.getTime()>=24*60*60*1e3?null:{atLeast24HoursFromNow:!0}}static futureDate(t){let e=new Date;return new Date(t.value)>e?null:{futureDate:!0}}static futureTime(t){let e=new Date().getTime();return new Date(t.value).getTime()>e?null:{futureTime:!0}}static dateAfter(t){return e=>{let n=e.parent;if(n){let r=new Date(n.get(t)?.value);return new Date(e.value)>r?null:{dateAfter:!0}}return null}}static appointmentsAfterDelivery(){return t=>{if(!(t instanceof ws))return null;let e=t,n=new Date(e.get("expectedDelivery")?.value),r=new Date(e.get("appointment1")?.value),o=new Date(e.get("appointment2")?.value),a=new Date(e.get("appointment3")?.value);return e.get("appointment1")?.value&&r<=n||e.get("appointment2")?.value&&o<=r||e.get("appointment3")?.value&&a<=o?{appointmentsAfterDelivery:!0}:null}}static mandatoryDropoffOrder(){return t=>{if(!(t instanceof ws))return null;let e=t,n=e.get("dropoffs")?.value;if(!e.get("expectedDelivery")?.value)return null;for(let o=1;o<=n;o++)if(!e.get(`client${o}`)?.value||!e.get(`appointment${o}`)?.value)return{mandatoryDropoffOrder:!1};return null}}static quantityInTons(t){return t.value>0?null:{quantityInTons:!0}}static trailerFeet(t){let e=t.value;return e>=12&&e<=60?null:{trailerFeet:!0}}static tipperLoad(t){let e=t.value;return e>0&&e<=25?null:{tipperLoad:!0}}static mixerCapacity(t){let e=t.value;return e>0&&e<=15?null:{mixerCapacity:!0}}static uniqueClientAddresses(){return t=>{if(!(t instanceof ws))return null;let e=t,n=e.get("client1")?.value?.fullAddress,r=e.get("client2")?.value?.fullAddress,o=e.get("client3")?.value?.fullAddress;return n&&r&&n===r||n&&o&&n===o||r&&o&&r===o?{uniqueClientAddresses:!0}:null}}};function v5(i){return t=>t.value<i?null:{bidPriceInvalid:!0}}var b5=["toast-component",""];function _L(i,t){if(i&1){let e=Ge();p(0,"button",5),_e("click",function(){Pe(e);let r=M();return Oe(r.remove())}),p(1,"span",6),b(2,"\xD7"),h()()}}function yL(i,t){if(i&1&&(Xt(0),b(1),Zt()),i&2){let e=M(2);v(),we("[",e.duplicatesCount+1,"]")}}function xL(i,t){if(i&1&&(p(0,"div"),b(1),Y(2,yL,2,1,"ng-container",4),h()),i&2){let e=M();er(e.options.titleClass),pn("aria-label",e.title),v(),we(" ",e.title," "),v(),C("ngIf",e.duplicatesCount)}}function CL(i,t){if(i&1&&q(0,"div",7),i&2){let e=M();er(e.options.messageClass),C("innerHTML",e.message,Dv)}}function wL(i,t){if(i&1&&(p(0,"div",8),b(1),h()),i&2){let e=M();er(e.options.messageClass),pn("aria-label",e.message),v(),we(" ",e.message," ")}}function SL(i,t){if(i&1&&(p(0,"div"),q(1,"div",9),h()),i&2){let e=M();v(),ls("width",e.width()+"%")}}function DL(i,t){if(i&1){let e=Ge();p(0,"button",5),_e("click",function(){Pe(e);let r=M();return Oe(r.remove())}),p(1,"span",6),b(2,"\xD7"),h()()}}function IL(i,t){if(i&1&&(Xt(0),b(1),Zt()),i&2){let e=M(2);v(),we("[",e.duplicatesCount+1,"]")}}function AL(i,t){if(i&1&&(p(0,"div"),b(1),Y(2,IL,2,1,"ng-container",4),h()),i&2){let e=M();er(e.options.titleClass),pn("aria-label",e.title),v(),we(" ",e.title," "),v(),C("ngIf",e.duplicatesCount)}}function EL(i,t){if(i&1&&q(0,"div",7),i&2){let e=M();er(e.options.messageClass),C("innerHTML",e.message,Dv)}}function kL(i,t){if(i&1&&(p(0,"div",8),b(1),h()),i&2){let e=M();er(e.options.messageClass),pn("aria-label",e.message),v(),we(" ",e.message," ")}}function TL(i,t){if(i&1&&(p(0,"div"),q(1,"div",9),h()),i&2){let e=M();v(),ls("width",e.width()+"%")}}var M_=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},P_=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},O_=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new mt;_activate=new mt;_manualClose=new mt;_resetTimeout=new mt;_countDuplicate=new mt;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},td=class{toastId;config;message;title;toastType;toastRef;_onTap=new mt;_onAction=new mt;constructor(t,e,n,r,o,a){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=o,this.toastRef=a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},_5={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},y5=new He("ToastConfig"),N_=class extends P_{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){let n=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},ML=(()=>{class i{_document=ue(vt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),L_=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},PL=(()=>{class i{_overlayContainer=ue(ML);_componentFactoryResolver=ue(Ac);_appRef=ue(Uo);_document=ue(vt);_paneElements=new Map;create(e,n){return this._createOverlayRef(this.getPaneElement(e,n))}getPaneElement(e="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[e]||(this._paneElements.get(n)[e]=this._createPaneElement(e,n)),this._paneElements.get(n)[e]}_createPaneElement(e,n){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new N_(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new L_(this._createPortalHost(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),En=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,n,r,o,a){this.overlay=n,this._injector=r,this.sanitizer=o,this.ngZone=a,this.toastrConfig=de(de({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=de(de({},e.default.iconClasses),e.config.iconClasses))}show(e,n,r={},o=""){return this._preBuildNotification(o,e,n,this.applyConfig(r))}success(e,n,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}error(e,n,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}info(e,n,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}warning(e,n,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}clear(e){for(let n of this.toasts)if(e!==void 0){if(n.toastId===e){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(e){let n=this._findToast(e);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",n="",r,o){let{includeTitleDuplicates:a}=this.toastrConfig;for(let s of this.toasts){let l=a&&s.title===e;if((!a||l)&&s.message===n)return s.toastRef.onDuplicate(r,o),s}return null}applyConfig(e={}){return de(de({},this.toastrConfig),e)}_findToast(e){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===e)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(e,n,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,n,r,o)):this._buildNotification(e,n,r,o)}_buildNotification(e,n,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let a=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&a!==null)return a;this.previousToastMessage=n;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=n;n&&o.enableHtml&&(c=this.sanitizer.sanitize(Qn.HTML,n));let u=new O_(l),f=new td(this.index,o,c,r,e,u),y=[{provide:td,useValue:f}],g=Gi.create({providers:y,parent:this._injector}),S=new M_(o.toastComponent,g),w=l.attach(S,o.newestOnTop);u.componentInstance=w.instance;let I={toastId:this.index,title:r||"",message:n||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:w};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{I.toastRef.activate()})),this.toasts.push(I),I}static \u0275fac=function(n){return new(n||i)(Ie(y5),Ie(PL),Ie(Gi),Ie(zu),Ie(Ot))};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),OL=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Ar(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,r){this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=Ar({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>Fe(de({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>Fe(de({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>Fe(de({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),n)):this.timeout=setTimeout(()=>e(),n)}outsideInterval(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),n)):this.intervalId=setInterval(()=>e(),n)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(n){return new(n||i)(le(En),le(td),le(Ot))};static \u0275cmp=Ye({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){n&1&&_e("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(q2("@flyInOut",r._state),er(r.toastClasses),ls("display",r.displayStyle))},standalone:!0,features:[Xe],attrs:b5,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&Y(0,_L,3,0,"button",0)(1,xL,3,5,"div",1)(2,CL,1,3,"div",2)(3,wL,2,4,"div",3)(4,SL,2,2,"div",4),n&2&&(C("ngIf",r.options.closeButton),v(),C("ngIf",r.title),v(),C("ngIf",r.message&&r.options.enableHtml),v(),C("ngIf",r.message&&!r.options.enableHtml),v(),C("ngIf",r.options.progressBar))},dependencies:[Ct],encapsulation:2,data:{animation:[tx("flyInOut",[Pf("inactive",Mf({opacity:0})),Pf("active",Mf({opacity:1})),Pf("removed",Mf({opacity:0})),Ov("inactive => active",Pv("{{ easeTime }}ms {{ easing }}")),Ov("active => removed",Pv("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return i})(),NL=Fe(de({},_5),{toastComponent:OL}),x5=(i={})=>Gr([{provide:y5,useValue:{default:NL,config:i}}]);var LL=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Ar(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Ar("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,r){this.toastrService=e,this.toastPackage=n,this.appRef=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||i)(le(En),le(td),le(Uo))};static \u0275cmp=Ye({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){n&1&&_e("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(er(r.toastClasses),ls("display",r.displayStyle))},standalone:!0,features:[Xe],attrs:b5,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&Y(0,DL,3,0,"button",0)(1,AL,3,5,"div",1)(2,EL,1,3,"div",2)(3,kL,2,4,"div",3)(4,TL,2,2,"div",4),n&2&&(C("ngIf",r.options.closeButton),v(),C("ngIf",r.title),v(),C("ngIf",r.message&&r.options.enableHtml),v(),C("ngIf",r.message&&!r.options.enableHtml),v(),C("ngIf",r.options.progressBar))},dependencies:[Ct],encapsulation:2,changeDetection:0})}return i})(),Rte=Fe(de({},_5),{toastComponent:LL});var RL=()=>[1,2,3],FL=(i,t)=>({"text-green-500":i,"text-red-500":t});function jL(i,t){if(i&1&&(p(0,"small"),b(1),h()),i&2){let e=M(2);v(),Ae(e.errorMessages.material.required)}}function BL(i,t){if(i&1&&(p(0,"small"),b(1),h()),i&2){let e=M(2);v(),Ae(e.errorMessages.material.pattern)}}function VL(i,t){if(i&1&&(p(0,"small"),b(1),h()),i&2){let e=M(2);v(),Ae(e.errorMessages.material.minLength)}}function UL(i,t){if(i&1&&(p(0,"div",30),Y(1,jL,2,1,"small",12)(2,BL,2,1,"small",12)(3,VL,2,1,"small",12),h()),i&2){let e,n,r,o=M();v(),C("ngIf",(e=o.form.get("material"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",!(!((n=o.form.get("material"))==null||n.errors==null)&&n.errors.required)&&((n=o.form.get("material"))==null||n.errors==null?null:n.errors.pattern)),v(),C("ngIf",!(!((r=o.form.get("material"))==null||r.errors==null)&&r.errors.required)&&!(!((r=o.form.get("material"))==null||r.errors==null)&&r.errors.pattern)&&((r=o.form.get("material"))==null||r.errors==null?null:r.errors.minLength))}}function zL(i,t){if(i&1&&(p(0,"small"),b(1),h()),i&2){let e=M(2);v(),Ae(e.errorMessages.quantity.required)}}function qL(i,t){if(i&1&&(p(0,"small"),b(1),h()),i&2){let e=M(2);v(),Ae(e.errorMessages.quantity.min)}}function HL(i,t){if(i&1&&(p(0,"small"),b(1),h()),i&2){let e=M(2);v(),Ae(e.errorMessages.quantity.max)}}function GL(i,t){if(i&1&&(p(0,"div",30),Y(1,zL,2,1,"small",12)(2,qL,2,1,"small",12)(3,HL,2,1,"small",12),h()),i&2){let e,n,r,o=M();v(),C("ngIf",(e=o.form.get("quantity"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",!(!((n=o.form.get("quantity"))==null||n.errors==null)&&n.errors.required)&&((n=o.form.get("quantity"))==null||n.errors==null?null:n.errors.min)),v(),C("ngIf",!(!((r=o.form.get("quantity"))==null||r.errors==null)&&r.errors.required)&&!(!((r=o.form.get("quantity"))==null||r.errors==null)&&r.errors.min)&&((r=o.form.get("quantity"))==null||r.errors==null?null:r.errors.max))}}function $L(i,t){if(i&1&&(p(0,"option",31),b(1),h()),i&2){let e=t.$implicit;C("value",e.value),v(),Ae(e.type)}}function WL(i,t){if(i&1&&(p(0,"option",31),b(1),h()),i&2){let e=t.$implicit;C("value",e.value),v(),Ae(e.type)}}function YL(i,t){if(i&1&&(p(0,"div",30)(1,"small"),b(2),h()()),i&2){let e=M(3);v(2),Ae(e.errorMessages.trailerFeet.invalid)}}function XL(i,t){if(i&1&&(p(0,"div")(1,"label"),b(2,"Trailer Feet"),h(),q(3,"input",33),Y(4,YL,3,1,"div",5),h()),i&2){let e,n=M(2);v(4),C("ngIf",((e=n.form.get("trailerFeet"))==null?null:e.invalid)&&((e=n.form.get("trailerFeet"))==null?null:e.touched))}}function ZL(i,t){if(i&1&&(p(0,"div",30)(1,"small"),b(2),h()()),i&2){let e=M(3);v(2),Ae(e.errorMessages.tipperLoad.invalid)}}function KL(i,t){if(i&1&&(p(0,"div")(1,"label"),b(2,"Tipper Load"),h(),q(3,"input",34),Y(4,ZL,3,1,"div",5),h()),i&2){let e,n=M(2);v(4),C("ngIf",((e=n.form.get("tipperLoad"))==null?null:e.invalid)&&((e=n.form.get("tipperLoad"))==null?null:e.touched))}}function JL(i,t){if(i&1&&(p(0,"div",30)(1,"small"),b(2),h()()),i&2){let e=M(3);v(2),Ae(e.errorMessages.mixerCapacity.invalid)}}function QL(i,t){if(i&1&&(p(0,"div")(1,"label"),b(2,"Transit Mixer Capacity"),h(),q(3,"input",35),Y(4,JL,3,1,"div",5),h()),i&2){let e,n=M(2);v(4),C("ngIf",((e=n.form.get("mixerCapacity"))==null?null:e.invalid)&&((e=n.form.get("mixerCapacity"))==null?null:e.touched))}}function eR(i,t){if(i&1&&(p(0,"div")(1,"div")(2,"label"),b(3,"M&HCV Subtype"),h(),p(4,"select",32),Y(5,WL,2,2,"option",11),h()(),p(6,"div"),Y(7,XL,5,1,"div",12)(8,KL,5,1,"div",12)(9,QL,5,1,"div",12),h()()),i&2){let e,n,r,o=M();v(5),C("ngForOf",o.mhcvSubTypes),v(2),C("ngIf",((e=o.form.get("mhcvSubtype"))==null?null:e.value)==="trailer"),v(),C("ngIf",((n=o.form.get("mhcvSubtype"))==null?null:n.value)==="tipper"),v(),C("ngIf",((r=o.form.get("mhcvSubtype"))==null?null:r.value)==="transit-mixer")}}function tR(i,t){i&1&&(p(0,"div",30),b(1," Agent name is required. "),h())}function iR(i,t){i&1&&(p(0,"div",30),b(1," Agent name must contain only alphabets. "),h())}function nR(i,t){i&1&&(p(0,"div",30),b(1," Agent contact is required. "),h())}function rR(i,t){i&1&&(p(0,"div",30),b(1," Agent contact must be a valid Indian phone number. "),h())}function oR(i,t){if(i&1&&(p(0,"small"),b(1),h()),i&2){let e=M(2);v(),Ae(e.errorMessages.dispatchDateTime.required)}}function aR(i,t){if(i&1&&(p(0,"small"),b(1),h()),i&2){let e=M(2);v(),Ae(e.errorMessages.dispatchDateTime.atLeast24HoursFromNow)}}function sR(i,t){if(i&1&&(p(0,"div",30),Y(1,oR,2,1,"small",12)(2,aR,2,1,"small",12),h()),i&2){let e,n,r=M();v(),C("ngIf",(e=r.form.get("dispatchDateTime"))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=r.form.get("dispatchDateTime"))==null||n.errors==null?null:n.errors.atLeast24HoursFromNow)}}function lR(i,t){i&1&&(p(0,"div",30),b(1," Dispatch date and time must be in the future. "),h())}function cR(i,t){i&1&&(p(0,"div",30),b(1," Expected delivery is required. "),h())}function dR(i,t){i&1&&(p(0,"div",30),b(1," Expected delivery must be after the dispatch date and time. "),h())}function uR(i,t){i&1&&(p(0,"div",30),b(1," Base price is required. "),h())}function hR(i,t){i&1&&(p(0,"div",30),b(1," Base price must be at least 3000. "),h())}function pR(i,t){if(i&1&&(p(0,"option",31),b(1),h()),i&2){let e=t.$implicit;C("value",e),v(),Ae(e)}}function fR(i,t){if(i&1&&(p(0,"option",40),b(1),h()),i&2){let e=t.$implicit;C("ngValue",e),v(),Ae(e.display)}}function mR(i,t){i&1&&(p(0,"div",30),b(1," Client is required. "),h())}function gR(i,t){i&1&&(p(0,"div",30),b(1," Client addresses must be unique. "),h())}function vR(i,t){i&1&&(p(0,"div",30),b(1," Appointment time is required. "),h())}function bR(i,t){i&1&&(p(0,"div",30),b(1," Appointment must be after the expected delivery time. "),h())}function _R(i,t){if(i&1&&(p(0,"div")(1,"div")(2,"label",36),b(3),h(),p(4,"select",37)(5,"option",38),b(6),h(),Y(7,fR,2,2,"option",24),h(),Y(8,mR,2,0,"div",5)(9,gR,2,0,"div",5),h(),p(10,"div")(11,"label",36),b(12),h(),q(13,"input",39),Y(14,vR,2,0,"div",5)(15,bR,2,0,"div",5),h()()),i&2){let e,n,r,o,a,s,l=M().$implicit,c=M();v(2),Mu("for","client",l,""),v(),we("Client ",l,""),v(),Mu("id","client",l,""),C("formControlName","client"+l),v(),C("ngValue",((e=c.form.get("client"+l))==null||e.value==null?null:e.value.display)||""),v(),we(" ",((n=c.form.get("client"+l))==null||n.value==null?null:n.value.display)||"Select a Client"," "),v(),C("ngForOf",c.availableClients),v(),C("ngIf",((r=c.form.get("client"+l))==null?null:r.touched)&&((r=c.form.get("client"+l))==null?null:r.hasError("required"))),v(),C("ngIf",c.form.errors==null?null:c.form.errors.uniqueClientAddresses),v(2),Mu("for","appointment",l,""),v(),we("Appointment Time ",l,""),v(),Mu("id","appointment",l,""),C("formControlName","appointment"+l)("disabled",!((o=c.form.get("dispatchDateTime"))!=null&&o.valid)),v(),C("ngIf",((a=c.form.get("appointment"+l))==null?null:a.touched)&&((a=c.form.get("appointment"+l))==null?null:a.hasError("required"))),v(),C("ngIf",((s=c.form.get("appointment"+l))==null?null:s.touched)&&((s=c.form.get("appointment"+l))==null?null:s.hasError("appointmentsAfterDelivery")))}}function yR(i,t){if(i&1&&(p(0,"div"),Y(1,_R,16,20,"div",12),h()),i&2){let e,n=t.index,r=M();v(),C("ngIf",n<((e=r.form.get("dropoffs"))==null?null:e.value))}}function xR(i,t){i&1&&(p(0,"div",30),b(1," Drop-offs must follow the order. "),h())}function CR(i,t){i&1&&(p(0,"div",30),b(1," Appointments must follow the expected delivery. "),h())}function wR(i,t){if(i&1&&(p(0,"option",40),b(1),h()),i&2){let e=t.$implicit;C("ngValue",e),v(),Ae(e.display)}}function SR(i,t){if(i&1&&(p(0,"div",41),b(1),h()),i&2){let e=M();C("ngClass",bn(2,FL,e.messageType==="success",e.messageType==="error")),v(),we(" ",e.message," ")}}function DR(i,t){if(i&1){let e=Ge();p(0,"app-adress-modal",42),_e("closeModal",function(){Pe(e);let r=M();return Oe(r.closeClientModal())})("onSave",function(r){Pe(e);let o=M();return Oe(o.saveClient(r))})("onClose",function(){Pe(e);let r=M();return Oe(r.closeClientModal())}),h()}if(i&2){let e=M();C("modalHeading",e.modalHeading)}}function IR(i,t){if(i&1){let e=Ge();p(0,"app-adress-modal",42),_e("closeModal",function(){Pe(e);let r=M();return Oe(r.closePickupModal())})("onSave",function(r){Pe(e);let o=M();return Oe(o.savePickup(r))})("onClose",function(){Pe(e);let r=M();return Oe(r.closePickupModal())}),h()}if(i&2){let e=M();C("modalHeading",e.modalHeading)}}var id=class i{constructor(t,e,n,r){this.fb=t;this.cdr=e;this.toastr=n;this.dialogRef=r;this.form=this.fb.group({dropoffs:[1,j.required],client1:["",j.required],appointment1:["",j.required],client2:[""],appointment2:[""],client3:[""],appointment3:[""],pickupLocation:[""],material:["",[j.required,j.pattern("^[A-Z]+( [A-Z]+)*$"),j.minLength(3)]],quantity:["",[j.required,j.min(1),j.max(100)]],vehicleBody:["open",j.required],vehicleType:["",j.required],mhcvSubtype:[""],trailerFeet:["",[bo.trailerFeet]],tipperLoad:["",[bo.tipperLoad]],mixerCapacity:["",[bo.mixerCapacity]],lcvBody:[""],containerFeet:["",[j.min(12),j.max(60)]],agentName:["",[j.required,j.pattern("^[a-zA-Z]+$")]],agentContact:["",[j.required,j.pattern(/^[6-9]\d{9}$/)]],dispatchDateTime:["",[j.required,bo.atLeast24HoursFromNow]],expectedDelivery:["",[j.required,bo.dateAfter("dispatchDateTime")]],basePrice:["",[j.required,j.min(3e3)]]},{validators:[bo.appointmentsAfterDelivery(),bo.mandatoryDropoffOrder(),bo.uniqueClientAddresses()]}),this.errorMessages={material:{required:"Material is required.",pattern:"Only uppercase letters and spaces are allowed.",minLength:"Material must be at least 3 characters long."},quantity:{required:"Quantity is required.",min:"Quantity must be at least 1 ton.",max:"Quantity cannot exceed 100 tons."},trailerFeet:{invalid:"Invalid trailer feet value."},tipperLoad:{invalid:"Invalid tipper load value."},mixerCapacity:{invalid:"Invalid mixer capacity value."},dispatchDateTime:{required:"Dispatch date and time is required.",atLeast24HoursFromNow:"Dispatch must be scheduled at least 24 hours from now."}}}ShipperServices=ue(An);dataServices=ue(xi);form;message=null;messageType=null;allClients=[];companyAddresses=[];availableClients=[];dropOffs=[1,2,3];showClientModal=!1;showPickupModal=!1;errorMessages;userId="";modalHeading="Add A Client";vehicleTypes=[{type:"Small Commercial Vehicle",value:"scv"},{type:"Light Commercial Vehicle",value:"lcv"},{type:"Medium & Heavy Commercial Vehicle",value:"mhcv"}];mhcvSubTypes=[{type:"Tipper",value:"tipper"},{type:"Trailer",value:"trailer"},{type:"Transit Mixer",value:"transit-mixer"}];ngOnInit(){let t=localStorage.getItem("shipperAdminData");if(console.log(t),t){let n=JSON.parse(t)._id;console.log(t),this.userId=n,this.handleClientData(n),this.handlePickupData(n)}else console.error("No userData found in localStorage");this.setupClientDropdowns(),this.onDropoffsChange(),this.onVehicleTypeChange()}handleClientData(t){this.ShipperServices.getAllClients(t).subscribe(e=>{this.allClients=e.map(n=>{let r=n.companyName||"Unknown Company",o=`${n.address.addressLine1}, ${n.address.city}`;return{display:`${r}, ${o}`,fullAddress:n}}),this.updateClientOptions(),this.cdr.detectChanges()})}updateClientOptions(){let t=[];for(let e=1;e<=3;e++){let n=this.form.get(`client${e}`)?.value;n&&t.push(n.fullAddress)}console.log("The selected clients are:",t),this.availableClients=this.allClients.filter(e=>!t.includes(e)),console.log("The availableClients clients are:",this.availableClients)}handlePickupData(t){console.log("piclup handler"),this.ShipperServices.getAllPickups(t).subscribe(e=>{console.log("getting dat",e),this.companyAddresses=e.map(n=>{let r=n.companyName||"Unknown Company",o=`${n.address.addressLine1}, ${n.address.city}`;return{display:`${r}, ${o}`,fullAddress:n}}),this.companyAddresses.length>0&&this.form.get("pickupLocation")?.setValue(this.companyAddresses[0]),this.cdr.detectChanges()})}onDropoffsChange(){this.form.get("dropoffs").valueChanges.subscribe(t=>{this.resetDropoffControls();for(let e=1;e<=t;e++)this.form.addControl(`client${e}`,this.fb.control("",j.required)),this.form.addControl(`appointment${e}`,this.fb.control("",j.required))})}resetDropoffControls(){for(let t=1;t<=3;t++)this.form.get(`client${t}`).clearValidators(),this.form.get(`appointment${t}`).clearValidators(),this.form.get(`client${t}`).updateValueAndValidity(),this.form.get(`appointment${t}`).updateValueAndValidity();this.updateClientOptions()}setupClientDropdowns(){for(let t=1;t<=3;t++){let e=this.form.get(`client${t}`);e&&e.valueChanges.subscribe(()=>this.updateClientOptions())}}onVehicleTypeChange(){this.form.get("vehicleType").valueChanges.subscribe(t=>{t==="mhcv"?this.form.get("mhcvSubtype").setValidators([j.required]):this.form.get("mhcvSubtype").clearValidators(),this.form.get("mhcvSubtype").updateValueAndValidity()}),this.form.get("mhcvSubtype").valueChanges.subscribe(t=>{this.resetMHCVSubtypeControls(),t==="trailer"?this.form.get("trailerFeet").setValidators([j.required]):t==="tipper"?this.form.get("tipperLoad").setValidators([j.required]):t==="transit-mixer"&&this.form.get("mixerCapacity").setValidators([j.required]),this.form.get("trailerFeet").updateValueAndValidity(),this.form.get("tipperLoad").updateValueAndValidity(),this.form.get("mixerCapacity").updateValueAndValidity()})}resetMHCVSubtypeControls(){this.form.get("trailerFeet").clearValidators(),this.form.get("tipperLoad").clearValidators(),this.form.get("mixerCapacity").clearValidators(),this.form.get("trailerFeet").setValue(""),this.form.get("tipperLoad").setValue(""),this.form.get("mixerCapacity").setValue(""),this.form.get("trailerFeet").updateValueAndValidity(),this.form.get("tipperLoad").updateValueAndValidity(),this.form.get("mixerCapacity").updateValueAndValidity()}onSubmit(){if(console.log(this.form),this.form.valid){let t=Fe(de({},this.form.value),{dropoff1:this.form.get("client1")?.value?.fullAddress,dropoff2:this.form.get("client2")?.value?.fullAddress,dropoff3:this.form.get("client3")?.value?.fullAddress,shipperRefId:this.userId,status:"Open",pickupLocation:this.form.get("pickupLocation")?.value?.fullAddress}),e=Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==""&&r!==null));console.log("Filtered Data:",e),this.ShipperServices.addLoad(e).subscribe(n=>{n.success?(this.message=n.message,this.messageType="success",this.cdr.detectChanges(),this.toastr.success(n.message,"Success"),this.dataServices.sendData("All Bids"),setTimeout(()=>{this.dialogRef.close()},2e3)):this.toastr.error(n.message,"Error")})}else this.toastr.error("Form Is Invalid","Error")}openClientModal(){this.modalHeading="Add a Client",this.showClientModal=!0}closeClientModal(){this.handleClientData(this.userId),this.showClientModal=!1}saveClient(t){let e=localStorage.getItem("userData");if(console.log(e),e){let r=JSON.parse(e)._id;console.log(e),this.handleClientData(r)}this.updateClientOptions(),this.closeClientModal()}openPickupModal(){this.modalHeading="Add a Pick-up Location",this.showPickupModal=!0}onCancel(){this.dialogRef.close()}closePickupModal(){console.log("event received"),this.cdr.detectChanges(),this.showPickupModal=!1}savePickup(t){let e=localStorage.getItem("shipperAdminData");if(console.log(e),e){let r=JSON.parse(e)._id;console.log(e),this.handlePickupData(r)}this.updateClientOptions(),this.closePickupModal()}static \u0275fac=function(e){return new(e||i)(le(qt),le(Dn),le(En),le(Pr))};static \u0275cmp=Ye({type:i,selectors:[["app-load-form"]],standalone:!0,features:[Xe],decls:92,vars:27,consts:[[1,"max-w-4xl","mx-auto","p-6","bg-gray-100","rounded-lg","shadow-md","form-container"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["type","text","formControlName","material","placeholder","Enter material"],["class","text-red-600",4,"ngIf"],["type","number","formControlName","quantity","placeholder","Enter quantity"],["formControlName","vehicleBody"],["value","open"],["value","closed"],["formControlName","vehicleType"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","text","formControlName","agentName","placeholder","Enter name"],["type","text","formControlName","agentContact","placeholder","Enter contact"],["type","datetime-local","formControlName","dispatchDateTime"],["type","datetime-local","formControlName","expectedDelivery",3,"disabled"],["type","number","formControlName","basePrice","placeholder","Enter base price"],["for","dropoffs"],["id","dropoffs","formControlName","dropoffs"],["type","button",3,"click"],[4,"ngFor","ngForOf"],[3,"formControlName"],["value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","mt-4 text-center",3,"ngClass",4,"ngIf"],[1,"flex","justify-end"],["type","button",1,"bg-red-500","text-white","px-4","py-2","rounded-md","mr-2",3,"click"],["type","submit",1,"bg-blue-500","text-white","px-4","py-2","rounded-md",3,"disabled"],[3,"modalHeading","closeModal","onSave","onClose",4,"ngIf"],[1,"text-red-600"],[3,"value"],["formControlName","mhcvSubtype"],["type","number","formControlName","trailerFeet","placeholder","Enter trailer feet"],["type","text","formControlName","tipperLoad","placeholder","Enter tipper load"],["type","text","formControlName","mixerCapacity","placeholder","Enter capacity"],[1,"block","text-sm","font-medium","text-gray-700",3,"for"],[3,"id","formControlName"],["disabled","",3,"ngValue"],["type","datetime-local",1,"mt-1","block","w-full","rounded-md","border-gray-300","shadow-sm","focus:border-indigo-500","focus:ring-indigo-500","sm:text-sm",3,"id","formControlName","disabled"],[3,"ngValue"],[1,"mt-4","text-center",3,"ngClass"],[3,"closeModal","onSave","onClose","modalHeading"]],template:function(e,n){if(e&1&&(p(0,"div",0)(1,"h2"),b(2,"Create Load"),h(),p(3,"form",1),_e("ngSubmit",function(){return n.onSubmit()}),p(4,"h3",2),b(5,"Basic Information"),h(),p(6,"div",3)(7,"div")(8,"label"),b(9,"Material"),h(),q(10,"input",4),Y(11,UL,4,3,"div",5),h(),p(12,"div")(13,"label"),b(14,"Quantity in Tons"),h(),q(15,"input",6),Y(16,GL,4,3,"div",5),h()(),p(17,"div",3)(18,"div")(19,"label"),b(20,"Vehicle Body"),h(),p(21,"select",7)(22,"option",8),b(23,"Open"),h(),p(24,"option",9),b(25,"Closed"),h()()(),p(26,"div")(27,"label"),b(28,"Vehicle Type"),h(),p(29,"select",10),Y(30,$L,2,2,"option",11),h()(),Y(31,eR,10,4,"div",12),h(),p(32,"div",3)(33,"div")(34,"label"),b(35,"Agent Name"),h(),q(36,"input",13),Y(37,tR,2,0,"div",5)(38,iR,2,0,"div",5),h(),p(39,"div")(40,"label"),b(41,"Agent Contact"),h(),q(42,"input",14),Y(43,nR,2,0,"div",5)(44,rR,2,0,"div",5),h()(),p(45,"div",3)(46,"div")(47,"label"),b(48,"Dispatch Date and Time"),h(),q(49,"input",15),Y(50,sR,3,2,"div",5)(51,lR,2,0,"div",5),h(),p(52,"div")(53,"label"),b(54,"Expected Delivery"),h(),q(55,"input",16),Y(56,cR,2,0,"div",5)(57,dR,2,0,"div",5),h()(),p(58,"div")(59,"label"),b(60,"Base Price"),h(),q(61,"input",17),Y(62,uR,2,0,"div",5)(63,hR,2,0,"div",5),h(),p(64,"div",3)(65,"div")(66,"label",18),b(67,"Number of Dropoffs"),h(),p(68,"select",19),Y(69,pR,2,2,"option",11),h(),p(70,"button",20),_e("click",function(){return n.openClientModal()}),b(71,"Add A Client"),h()()(),Y(72,yR,2,1,"div",21)(73,xR,2,0,"div",5)(74,CR,2,0,"div",5),p(75,"div")(76,"label"),b(77,"Pickup Location"),h(),p(78,"select",22)(79,"option",23),b(80,"Select Pickup Address"),h(),Y(81,wR,2,2,"option",24),h(),p(82,"button",20),_e("click",function(){return n.openPickupModal()}),b(83,"Add New Location"),h()(),Y(84,SR,2,5,"div",25),p(85,"div",26)(86,"button",27),_e("click",function(){return n.onCancel()}),b(87,"Cancel"),h(),p(88,"button",28),b(89,"Submit"),h()()(),Y(90,DR,1,1,"app-adress-modal",29)(91,IR,1,1,"app-adress-modal",29),h()),e&2){let r,o,a,s,l,c,u,f,y,g,S,w,I,A;v(3),C("formGroup",n.form),v(8),C("ngIf",((r=n.form.get("material"))==null?null:r.invalid)&&((r=n.form.get("material"))==null?null:r.touched)),v(5),C("ngIf",((o=n.form.get("quantity"))==null?null:o.invalid)&&((o=n.form.get("quantity"))==null?null:o.touched)),v(14),C("ngForOf",n.vehicleTypes),v(),C("ngIf",((a=n.form.get("vehicleType"))==null?null:a.value)==="mhcv"),v(6),C("ngIf",((s=n.form.get("agentName"))==null?null:s.touched)&&((s=n.form.get("agentName"))==null?null:s.hasError("required"))),v(),C("ngIf",((l=n.form.get("agentName"))==null?null:l.touched)&&((l=n.form.get("agentName"))==null?null:l.hasError("pattern"))),v(5),C("ngIf",((c=n.form.get("agentContact"))==null?null:c.touched)&&((c=n.form.get("agentContact"))==null?null:c.hasError("required"))),v(),C("ngIf",((u=n.form.get("agentContact"))==null?null:u.touched)&&((u=n.form.get("agentContact"))==null?null:u.hasError("pattern"))),v(6),C("ngIf",((f=n.form.get("dispatchDateTime"))==null?null:f.invalid)&&((f=n.form.get("dispatchDateTime"))==null?null:f.touched)),v(),C("ngIf",((y=n.form.get("dispatchDateTime"))==null?null:y.touched)&&((y=n.form.get("dispatchDateTime"))==null?null:y.hasError("futureDate"))),v(4),C("disabled",!((g=n.form.get("dispatchDateTime"))!=null&&g.valid)),v(),C("ngIf",((S=n.form.get("expectedDelivery"))==null?null:S.touched)&&((S=n.form.get("expectedDelivery"))==null?null:S.hasError("required"))),v(),C("ngIf",((w=n.form.get("expectedDelivery"))==null?null:w.touched)&&((w=n.form.get("expectedDelivery"))==null?null:w.hasError("dateAfter"))),v(5),C("ngIf",((I=n.form.get("basePrice"))==null?null:I.touched)&&((I=n.form.get("basePrice"))==null?null:I.dirty)&&((I=n.form.get("basePrice"))==null?null:I.hasError("required"))),v(),C("ngIf",((A=n.form.get("basePrice"))==null?null:A.touched)&&((A=n.form.get("basePrice"))==null?null:A.dirty)&&((A=n.form.get("basePrice"))==null?null:A.hasError("min"))),v(6),C("ngForOf",n.dropOffs),v(3),C("ngForOf",H2(26,RL)),v(),C("ngIf",(n.form.errors==null?null:n.form.errors.mandatoryDropoffOrder)&&n.form.touched),v(),C("ngIf",(n.form.errors==null?null:n.form.errors.appointmentsAfterDelivery)&&n.form.touched),v(4),C("formControlName","pickupLocation"),v(3),C("ngForOf",n.companyAddresses),v(3),C("ngIf",n.message),v(4),C("disabled",n.form.invalid),v(2),C("ngIf",n.showClientModal),v(),C("ngIf",n.showPickupModal)}},dependencies:[st,Li,Ti,Ct,di,Ui,Ss,Ds,li,Mh,qo,_i,yi,ci,Ri,fn,Es],styles:[".form-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f9f9f9;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px;font-size:24px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:700;color:#555}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ccc;border-radius:4px;font-size:14px;color:#333}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .3s ease}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}app-adress-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:600px;background:#fff;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 6px 10px #00000026;z-index:1000}.app-adress-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:999}@media (max-width: 600px){.form-container[_ngcontent-%COMP%]{padding:15px}h2[_ngcontent-%COMP%]{font-size:20px}}"]})};var pr=class i{baseUrl="http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:4000/";http=ue(tr);constructor(){}addClients(t){return this.http.post(`${this.baseUrl}carrier/add-client`,t)}addLoad(t){return this.http.post(`${this.baseUrl}carrier/add-load`,t)}addPickupAddress(t){return this.http.post(`${this.baseUrl}carrier/add-pickup`,t)}getAllStaffs(){return this.http.get(`${this.baseUrl}carrier/staffs`)}getAllCarriers(){return this.http.get(`${this.baseUrl}carrier/carriers`)}getAllPickups(t){return this.http.get(`${this.baseUrl}carrier/pick-ups/${t}`)}getAllClients(t){return this.http.get(`${this.baseUrl}carrier/clients/${t}`)}getAllBids(t){return this.http.get(`${this.baseUrl}carrier/bids/${t}`)}getActiveBids(t){return this.http.get(`${this.baseUrl}carrier/active-bids/${t}`)}getAllShipments(){return this.http.get(`${this.baseUrl}carrier/shipments`)}getShipperInfo(t){return this.http.get(`${this.baseUrl}carrier/get-carrier/${t}`)}getLoadInfo(t){return this.http.get(`${this.baseUrl}carrier/load-info/${t}`)}inviteDriver(t){return this.http.post(`${this.baseUrl}carrier/invite-driver`,t)}getAllDrivers(t){return this.http.get(`${this.baseUrl}carrier/get-drivers/${t}`)}getAllTrucks(t){return this.http.get(`${this.baseUrl}carrier/trucks/${t}`)}addNewTruck(t){return this.http.post(`${this.baseUrl}carrier/add-truck`,t)}fetchShipperInfo(t){return this.http.get(`${this.baseUrl}carrier/get-shipper/${t}`)}postBid(t){return this.http.post(`${this.baseUrl}carrier/post-bid`,t)}getAllCarrierLoads(t){return this.http.get(`${this.baseUrl}carrier/shipments/${t}`)}getTruckInfo(t){return this.http.get(`${this.baseUrl}carrier/truck/${t}`)}getAllPayments(){return this.http.get(`${this.baseUrl}carrier/payments`)}getPayment(t){return this.http.get(`${this.baseUrl}carrier/payments/${t}`)}updateLoadInfo(t,e){return console.log(e),this.http.post(`${this.baseUrl}carrier/update-load-info/${t}`,e)}updateCompanyInfo(t,e){return console.log(e),this.http.post(`${this.baseUrl}carrier/update-carrier-info/${t}`,e)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};function ER(i,t){if(i&1&&(p(0,"option",19),b(1),h()),i&2){let e=t.$implicit;C("value",e),v(),Ae(e)}}function kR(i,t){if(i&1&&(p(0,"select",16)(1,"option",17),b(2),h(),Y(3,ER,2,2,"option",18),h()),i&2){let e=M().$implicit;C("id",e.id)("formControlName",e.id),v(2),Ae(e.placeholder),v(),C("ngForOf",e.options)}}function TR(i,t){if(i&1&&q(0,"input",20),i&2){let e=M().$implicit;C("id",e.id)("type",e.type)("placeholder",e.placeholder)("formControlName",e.id)("disabled",e.disabled)}}function MR(i,t){if(i&1&&q(0,"input",21),i&2){let e=M().$implicit;C("id",e.id)("type",e.type)("formControlName",e.id)}}function PR(i,t){if(i&1&&(p(0,"div",22),b(1),h()),i&2){let e=M().$implicit,n=M();v(),we(" ",n.getErrorMessage(e.id)," ")}}function OR(i,t){if(i&1&&(p(0,"div",9)(1,"label",10),b(2),p(3,"span",11),b(4,"*"),h()(),Y(5,kR,4,4,"select",12)(6,TR,1,5,"input",13)(7,MR,1,3,"input",14)(8,PR,2,1,"div",15),h()),i&2){let e,n=t.$implicit,r=M();v(),C("for",n.id),v(),we(" ",n.label," "),v(3),C("ngIf",n.type==="select"),v(),C("ngIf",n.type!=="select"&&n.type!=="date"),v(),C("ngIf",n.type==="date"),v(),C("ngIf",((e=r.vehicleForm.get(n.id))==null?null:e.invalid)&&((e=r.vehicleForm.get(n.id))==null?null:e.touched))}}function NR(i,t){if(i&1&&q(0,"input",21),i&2){let e=M().$implicit;C("id",e.id)("type",e.type)("formControlName",e.id)}}function LR(i,t){if(i&1&&q(0,"input",24),i&2){let e=M().$implicit;C("id",e.id)("type",e.type)("placeholder",e.placeholder)("formControlName",e.id)}}function RR(i,t){if(i&1&&(p(0,"div",22),b(1),h()),i&2){let e=M().$implicit,n=M();v(),we(" ",n.getErrorMessage(e.id)," ")}}function FR(i,t){if(i&1&&(p(0,"div",9)(1,"label",10),b(2),p(3,"span",11),b(4,"*"),h()(),Y(5,NR,1,3,"input",14)(6,LR,1,4,"input",23)(7,RR,2,1,"div",15),h()),i&2){let e,n=t.$implicit,r=M();v(),C("for",n.id),v(),we(" ",n.label," "),v(3),C("ngIf",n.type==="date"),v(),C("ngIf",n.type!=="date"),v(),C("ngIf",((e=r.vehicleForm.get(n.id))==null?null:e.invalid)&&((e=r.vehicleForm.get(n.id))==null?null:e.touched))}}var R_=class{static futureDate(t){return e=>{let n=new Date(e.value),r=new Date;return r.setMonth(r.getMonth()+t),n<=r?{futureDate:{requiredMonths:t}}:null}}},jR=(i,t)=>e=>{let n=Number(e.value);return isNaN(n)||n<i||n>t?{weightRange:{min:i,max:t}}:null},BR=i=>{let t=Number(i.value);return isNaN(t)||t<1||t>100?{capacity:!0}:null},nd=class i{constructor(t,e,n,r){this.fb=t;this.dialogRef=e;this.toastr=n;this.router=r}vehicleForm;formTitle="Upload Vehicle Information";localStorageServices=ue(on);carrierServices=ue(pr);dataServices=ue(xi);companyRefId;vehicleTypes=["Light Commercial Vehicle (LCV)","Intermediate Commercial Vehicle (ICV)","Medium Commercial Vehicle (MCV)","Heavy Commercial Vehicle (HCV)","Multi-Axle Vehicle (MAV)","Tractor-Trailer"];manufacturers=["Tata Motors","Ashok Leyland","Mahindra & Mahindra","BharatBenz","Eicher Motors","Force Motors"];vehicleInformation=[{id:"companyRefId",label:"Carrier ID",type:"text",placeholder:"Enter Carrier ID",disabled:!1},{id:"VehicleType",label:"Vehicle Type",type:"select",placeholder:"Select Vehicle Type",disabled:!1,options:this.vehicleTypes},{id:"VehicleRegistrationNumber",label:"Vehicle Identification Number",type:"text",placeholder:"Enter Vehicle Identification Number (e.g., 1HGCM82633A123456)",disabled:!1},{id:"VehicleColor",label:"Vehicle Color",type:"text",placeholder:"Enter Vehicle Color",disabled:!1},{id:"VehicleWeight",label:"Vehicle Weight (tonnes)",type:"number",placeholder:"Enter Vehicle Weight",disabled:!1},{id:"YearOfManufacture",label:"Year of Manufacture",type:"number",placeholder:"Enter Year of Manufacture",disabled:!1},{id:"NumberOfAxles",label:"Number of Axles",type:"number",placeholder:"Enter Number of Axles",disabled:!1},{id:"LicensePlateNumber",label:"License Plate Number",type:"text",placeholder:"Enter License Plate Number (e.g., MH12AB1234)",disabled:!1},{id:"VehicleInspectionStatus",label:"Vehicle Inspection Status",type:"select",placeholder:"Select Inspection Status",disabled:!1,options:["Passed","Failed","Pending","Expired"]},{id:"Manufacturer",label:"Manufacturer",type:"select",placeholder:"Select Manufacturer",disabled:!1,options:this.manufacturers},{id:"Model",label:"Model",type:"text",placeholder:"Enter Model",disabled:!1},{id:"FuelType",label:"Fuel Type",type:"select",placeholder:"Select Fuel Type",disabled:!1,options:["Diesel","CNG","LNG","Electric"]},{id:"VehicleCapacity",label:"Vehicle Capacity (tonnes)",type:"number",placeholder:"Enter Vehicle Capacity",disabled:!1},{id:"RCOwnerName",label:"RC Owner Name",type:"text",placeholder:"Enter RC Owner Name",disabled:!1}];insuranceInformation=[{id:"ExpiryDate",label:"Insurance Expiry Date",type:"date",placeholder:"Enter Expiry Date"},{id:"InsuranceProvider",label:"Insurance Provider",type:"text",placeholder:"Enter Insurance Provider"},{id:"PolicyNumber",label:"Insurance Policy Number",type:"text",placeholder:"Enter Policy Number"}];ngOnInit(){let t=this.localStorageServices.getCarrierAdminData(),e=this.router.url;e.includes("/carrier/admin")?t=this.localStorageServices.getCarrierAdminData():e.includes("/carrier/driver/dashboard")&&(t=this.localStorageServices.getDriverData());let n=t.companyRefId;this.companyRefId=n,this.vehicleForm=this.fb.group({companyRefId:[{value:n,disabled:!0},j.required],VehicleType:["",j.required],VehicleRegistrationNumber:["",[j.required,j.pattern(/^[A-HJ-NPR-Z0-9]{17}$/)]],VehicleColor:["",[j.required,j.pattern(/^[A-Za-z\s]+$/)]],VehicleWeight:["",[j.required,jR(.5,49)]],YearOfManufacture:["",[j.required,j.min(2e3),j.max(new Date().getFullYear())]],NumberOfAxles:["",[j.required,j.min(2),j.max(12)]],LicensePlateNumber:["",[j.required,j.pattern(/^[A-Z]{2}[0-9]{1,2}[A-Z]{1,2}[0-9]{4}$/)]],VehicleInspectionStatus:["",j.required],Manufacturer:["",j.required],Model:["",[j.required,j.pattern(/^[A-Za-z0-9\s\-]+$/),j.minLength(2),j.maxLength(50)]],FuelType:["",j.required],VehicleCapacity:["",[j.required,BR]],RCOwnerName:["",[j.required,j.pattern(/^[A-Za-z\s]+$/),j.minLength(3),j.maxLength(100),this.noOnlySpacesValidator]],ExpiryDate:["",[j.required,R_.futureDate(2)]],InsuranceProvider:["",[j.required,j.pattern(/^[A-Za-z\s\&\-\.]+$/),j.minLength(3),j.maxLength(100)]],PolicyNumber:["",[j.required,j.pattern(/^[A-Z0-9\-\/]+$/),j.minLength(5),j.maxLength(50)]]})}noOnlySpacesValidator(t){let e=t.value?.trim();return e&&e.length>0?null:{noOnlySpaces:!0}}getErrorMessage(t){let e=this.vehicleForm.get(t);if(e?.errors){if(e.errors.required)return"This field is required";if(e.errors.pattern)switch(t){case"VehicleRegistrationNumber":return"Invalid VIN. Must be 17 characters, uppercase letters (A-Z) and digits (0-9), excluding I, O, Q.";case"LicensePlateNumber":return"Invalid format. Example: MH12AB1234";case"VehicleColor":return"Only letters and spaces allowed";case"PolicyNumber":return"Only uppercase letters, numbers, and hyphens allowed";case"RCOwnerName":return"Only letters and spaces allowed. Minimum 3 characters.";default:return"Invalid format"}if(e.errors.noOnlySpaces)return"Name cannot contain only spaces";if(e.errors.weightRange)return`Weight must be between ${e.errors.weightRange.min} and ${e.errors.weightRange.max} tonnes`;if(e.errors.min)return`Value must be at least ${e.errors.min.min}`;if(e.errors.max)return`Value cannot exceed ${e.errors.max.max}`;if(e.errors.capacity)return"Capacity must be between 1 and 100 tonnes";if(e.errors.futureDate)return`Expiry date must be at least ${e.errors.futureDate.requiredMonths} months in the future`}return""}onSubmit(){if(this.vehicleForm.valid){let t=this.vehicleForm.value;t.MakeAndModel=`${t.Manufacturer} ${t.Model}`,t.companyRefId=this.companyRefId,this.carrierServices.addNewTruck(t).subscribe(e=>{e.success?(this.toastr.success(e.message,"Success"),this.dataServices.sendData("Trucks"),setTimeout(()=>{this.dialogRef.close()},2e3)):(this.toastr.error(e.message,"Error"),this.vehicleForm.reset())},e=>{this.toastr.error("An error occurred. Please try again.","Error")})}else Object.keys(this.vehicleForm.controls).forEach(t=>{let e=this.vehicleForm.get(t);e?.invalid&&e.markAsTouched()}),alert("Please fill out all required fields with valid data.")}static \u0275fac=function(e){return new(e||i)(le(qt),le(Pr),le(En),le(fi))};static \u0275cmp=Ye({type:i,selectors:[["app-vehicle-form"]],standalone:!0,features:[Xe],decls:17,vars:5,consts:[[1,"form-container","max-w-4xl","mx-auto","p-6","bg-white","rounded-lg","shadow-lg","h-fit"],[1,"text-2xl","font-bold","mb-6","text-center","text-gray-800"],[1,"w-full",3,"ngSubmit","formGroup"],[1,"mb-8"],[1,"text-xl","font-semibold","mb-4","text-gray-700","border-b","pb-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","form-field",4,"ngFor","ngForOf"],[1,"flex","justify-center"],["type","submit",1,"px-6","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"disabled"],[1,"form-field"],[1,"block","text-sm","font-medium","text-gray-700","mb-1",3,"for"],[1,"text-red-500"],["class",`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white
                         [ngClass]={'border-red-500': vehicleForm.get(field.id)?.invalid && vehicleForm.get(field.id)?.touched}`,3,"id","formControlName",4,"ngIf"],["class",`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500
                        [ngClass]={'border-red-500': vehicleForm.get(field.id)?.invalid && vehicleForm.get(field.id)?.touched}`,3,"id","type","placeholder","formControlName","disabled",4,"ngIf"],["class",`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500
                        [ngClass]={'border-red-500': vehicleForm.get(field.id)?.invalid && vehicleForm.get(field.id)?.touched}`,3,"id","type","formControlName",4,"ngIf"],["class","text-red-500 text-sm mt-1 space-y-1",4,"ngIf"],[1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","bg-white","[ngClass]={'border-red-500':","vehicleForm.get(field.id)?.invalid","&&","vehicleForm.get(field.id)?.touched}",3,"id","formControlName"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","[ngClass]={'border-red-500':","vehicleForm.get(field.id)?.invalid","&&","vehicleForm.get(field.id)?.touched}",3,"id","type","placeholder","formControlName","disabled"],[1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","[ngClass]={'border-red-500':","vehicleForm.get(field.id)?.invalid","&&","vehicleForm.get(field.id)?.touched}",3,"id","type","formControlName"],[1,"text-red-500","text-sm","mt-1","space-y-1"],["class",`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500
                        [ngClass]={'border-red-500': vehicleForm.get(field.id)?.invalid && vehicleForm.get(field.id)?.touched}`,3,"id","type","placeholder","formControlName",4,"ngIf"],[1,"w-full","px-3","py-2","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","[ngClass]={'border-red-500':","vehicleForm.get(field.id)?.invalid","&&","vehicleForm.get(field.id)?.touched}",3,"id","type","placeholder","formControlName"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"h1",1),b(2),h(),p(3,"form",2),_e("ngSubmit",function(){return n.onSubmit()}),p(4,"div",3)(5,"h2",4),b(6,"Vehicle Information"),h(),p(7,"div",5),Y(8,OR,9,6,"div",6),h()(),p(9,"div",3)(10,"h2",4),b(11,"Insurance Information"),h(),p(12,"div",5),Y(13,FR,8,5,"div",6),h()(),p(14,"div",7)(15,"button",8),b(16," Submit Vehicle Information "),h()()()()),e&2&&(v(2),Ae(n.formTitle),v(),C("formGroup",n.vehicleForm),v(5),C("ngForOf",n.vehicleInformation),v(5),C("ngForOf",n.insuranceInformation),v(2),C("disabled",n.vehicleForm.invalid))},dependencies:[st,Ti,Ct,di,Ui,Ss,Ds,li,qo,_i,yi,ci,Ri],styles:['.form-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f5f5f5}h1[_ngcontent-%COMP%]{text-align:center}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px}.error-message[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{transition:all .2s ease-in-out}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}input[_ngcontent-%COMP%]:disabled, select[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-2px)}75%{transform:translate(2px)}}.form-field[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .2s ease-in-out}label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:2px;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}h2[_ngcontent-%COMP%]{position:relative}h2[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:2px;background:linear-gradient(to right,#3b82f6,transparent)}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{gap:1rem}.form-field[_ngcontent-%COMP%]{margin-bottom:1rem}}@media print{.form-container[_ngcontent-%COMP%]{background:none;box-shadow:none}button[_ngcontent-%COMP%]{display:none}}']})};var fr=class i{baseUrl="http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:4000/";http=ue(tr);constructor(){}getDriver(t){return this.http.get(`${this.baseUrl}carrier/staff-driver/${t}`)}driverOnboardingInfo(t,e){return this.http.post(`${this.baseUrl}carrier/staff-driver/add-info/${e}`,t)}updateDriverInfo(t,e){return this.http.post(`${this.baseUrl}carrier/staff-driver/update-info/${e}`,t)}updateTruckInfo(t,e){return this.http.post(`${this.baseUrl}carrier/truck/update-info/${e}`,t)}getAllDriverLoads(t){return this.http.get(`${this.baseUrl}carrier/staff-driver/shipments/${t}`)}getLoadInfo(t){return this.http.get(`${this.baseUrl}carrier/staff-driver/load-info/${t}`)}updateLoadInfo(t,e){return console.log(e),this.http.post(`${this.baseUrl}carrier/staff-driver/update-load-info/${t}`,e)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};var zn=Uint8Array,Or=Uint16Array,H_=Int32Array,Gm=new zn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$m=new zn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),V_=new zn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),D5=function(i,t){for(var e=new Or(31),n=0;n<31;++n)e[n]=t+=1<<i[n-1];for(var r=new H_(e[30]),n=1;n<30;++n)for(var o=e[n];o<e[n+1];++o)r[o]=o-e[n]<<5|n;return{b:e,r}},I5=D5(Gm,2),A5=I5.b,U_=I5.r;A5[28]=258,U_[258]=28;var E5=D5($m,0),VR=E5.b,C5=E5.r,z_=new Or(32768);for(ni=0;ni<32768;++ni)Ta=(ni&43690)>>1|(ni&21845)<<1,Ta=(Ta&52428)>>2|(Ta&13107)<<2,Ta=(Ta&61680)>>4|(Ta&3855)<<4,z_[ni]=((Ta&65280)>>8|(Ta&255)<<8)>>1;var Ta,ni,$o=function(i,t,e){for(var n=i.length,r=0,o=new Or(t);r<n;++r)i[r]&&++o[i[r]-1];var a=new Or(t);for(r=1;r<t;++r)a[r]=a[r-1]+o[r-1]<<1;var s;if(e){s=new Or(1<<t);var l=15-t;for(r=0;r<n;++r)if(i[r])for(var c=r<<4|i[r],u=t-i[r],f=a[i[r]-1]++<<u,y=f|(1<<u)-1;f<=y;++f)s[z_[f]>>l]=c}else for(s=new Or(n),r=0;r<n;++r)i[r]&&(s[r]=z_[a[i[r]-1]++]>>15-i[r]);return s},ks=new zn(288);for(ni=0;ni<144;++ni)ks[ni]=8;var ni;for(ni=144;ni<256;++ni)ks[ni]=9;var ni;for(ni=256;ni<280;++ni)ks[ni]=7;var ni;for(ni=280;ni<288;++ni)ks[ni]=8;var ni,Bh=new zn(32);for(ni=0;ni<32;++ni)Bh[ni]=5;var ni,UR=$o(ks,9,0),zR=$o(ks,9,1),qR=$o(Bh,5,0),HR=$o(Bh,5,1),F_=function(i){for(var t=i[0],e=1;e<i.length;++e)i[e]>t&&(t=i[e]);return t},_o=function(i,t,e){var n=t/8|0;return(i[n]|i[n+1]<<8)>>(t&7)&e},j_=function(i,t){var e=t/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(t&7)},G_=function(i){return(i+7)/8|0},k5=function(i,t,e){return(t==null||t<0)&&(t=0),(e==null||e>i.length)&&(e=i.length),new zn(i.subarray(t,e))};var GR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yo=function(i,t,e){var n=new Error(t||GR[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,yo),!e)throw n;return n},$R=function(i,t,e,n){var r=i.length,o=n?n.length:0;if(!r||t.f&&!t.l)return e||new zn(0);var a=!e,s=a||t.i!=2,l=t.i;a&&(e=new zn(r*3));var c=function(ze){var et=e.length;if(ze>et){var Ke=new zn(Math.max(et*2,ze));Ke.set(e),e=Ke}},u=t.f||0,f=t.p||0,y=t.b||0,g=t.l,S=t.d,w=t.m,I=t.n,A=r*8;do{if(!g){u=_o(i,f,1);var T=_o(i,f+1,3);if(f+=3,T)if(T==1)g=zR,S=HR,w=9,I=5;else if(T==2){var ne=_o(i,f,31)+257,J=_o(i,f+10,15)+4,U=ne+_o(i,f+5,31)+1;f+=14;for(var ie=new zn(U),ge=new zn(19),R=0;R<J;++R)ge[V_[R]]=_o(i,f+R*3,7);f+=J*3;for(var B=F_(ge),Q=(1<<B)-1,K=$o(ge,B,1),R=0;R<U;){var me=K[_o(i,f,Q)];f+=me&15;var V=me>>4;if(V<16)ie[R++]=V;else{var pe=0,xe=0;for(V==16?(xe=3+_o(i,f,3),f+=2,pe=ie[R-1]):V==17?(xe=3+_o(i,f,7),f+=3):V==18&&(xe=11+_o(i,f,127),f+=7);xe--;)ie[R++]=pe}}var fe=ie.subarray(0,ne),Se=ie.subarray(ne);w=F_(fe),I=F_(Se),g=$o(fe,w,1),S=$o(Se,I,1)}else yo(1);else{var V=G_(f)+4,Z=i[V-4]|i[V-3]<<8,$=V+Z;if($>r){l&&yo(0);break}s&&c(y+Z),e.set(i.subarray(V,$),y),t.b=y+=Z,t.p=f=$*8,t.f=u;continue}if(f>A){l&&yo(0);break}}s&&c(y+131072);for(var Me=(1<<w)-1,Ze=(1<<I)-1,O=f;;O=f){var pe=g[j_(i,f)&Me],H=pe>>4;if(f+=pe&15,f>A){l&&yo(0);break}if(pe||yo(2),H<256)e[y++]=H;else if(H==256){O=f,g=null;break}else{var W=H-254;if(H>264){var R=H-257,ee=Gm[R];W=_o(i,f,(1<<ee)-1)+A5[R],f+=ee}var se=S[j_(i,f)&Ze],ye=se>>4;se||yo(3),f+=se&15;var Se=VR[ye];if(ye>3){var ee=$m[ye];Se+=j_(i,f)&(1<<ee)-1,f+=ee}if(f>A){l&&yo(0);break}s&&c(y+131072);var Ce=y+W;if(y<Se){var De=o-Se,qe=Math.min(Se,Ce);for(De+y<0&&yo(3);y<qe;++y)e[y]=n[De+y]}for(;y<Ce;++y)e[y]=e[y-Se]}}t.l=g,t.p=O,t.b=y,t.f=u,g&&(u=1,t.m=w,t.d=S,t.n=I)}while(!u);return y!=e.length&&a?k5(e,0,y):e.subarray(0,y)},Ma=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8},Fh=function(i,t,e){e<<=t&7;var n=t/8|0;i[n]|=e,i[n+1]|=e>>8,i[n+2]|=e>>16},B_=function(i,t){for(var e=[],n=0;n<i.length;++n)i[n]&&e.push({s:n,f:i[n]});var r=e.length,o=e.slice();if(!r)return{t:M5,l:0};if(r==1){var a=new zn(e[0].s+1);return a[e[0].s]=1,{t:a,l:1}}e.sort(function($,ne){return $.f-ne.f}),e.push({s:-1,f:25001});var s=e[0],l=e[1],c=0,u=1,f=2;for(e[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=r-1;)s=e[e[c].f<e[f].f?c++:f++],l=e[c!=u&&e[c].f<e[f].f?c++:f++],e[u++]={s:-1,f:s.f+l.f,l:s,r:l};for(var y=o[0].s,n=1;n<r;++n)o[n].s>y&&(y=o[n].s);var g=new Or(y+1),S=q_(e[u-1],g,0);if(S>t){var n=0,w=0,I=S-t,A=1<<I;for(o.sort(function(ne,J){return g[J.s]-g[ne.s]||ne.f-J.f});n<r;++n){var T=o[n].s;if(g[T]>t)w+=A-(1<<S-g[T]),g[T]=t;else break}for(w>>=I;w>0;){var V=o[n].s;g[V]<t?w-=1<<t-g[V]++-1:++n}for(;n>=0&&w;--n){var Z=o[n].s;g[Z]==t&&(--g[Z],++w)}S=t}return{t:new zn(g),l:S}},q_=function(i,t,e){return i.s==-1?Math.max(q_(i.l,t,e+1),q_(i.r,t,e+1)):t[i.s]=e},w5=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new Or(++t),n=0,r=i[0],o=1,a=function(l){e[n++]=l},s=1;s<=t;++s)if(i[s]==r&&s!=t)++o;else{if(!r&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(r),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(r);o=1,r=i[s]}return{c:e.subarray(0,n),n:t}},jh=function(i,t){for(var e=0,n=0;n<t.length;++n)e+=i[n]*t[n];return e},T5=function(i,t,e){var n=e.length,r=G_(t+2);i[r]=n&255,i[r+1]=n>>8,i[r+2]=i[r]^255,i[r+3]=i[r+1]^255;for(var o=0;o<n;++o)i[r+o+4]=e[o];return(r+4+n)*8},S5=function(i,t,e,n,r,o,a,s,l,c,u){Ma(t,u++,e),++r[256];for(var f=B_(r,15),y=f.t,g=f.l,S=B_(o,15),w=S.t,I=S.l,A=w5(y),T=A.c,V=A.n,Z=w5(w),$=Z.c,ne=Z.n,J=new Or(19),U=0;U<T.length;++U)++J[T[U]&31];for(var U=0;U<$.length;++U)++J[$[U]&31];for(var ie=B_(J,7),ge=ie.t,R=ie.l,B=19;B>4&&!ge[V_[B-1]];--B);var Q=c+5<<3,K=jh(r,ks)+jh(o,Bh)+a,me=jh(r,y)+jh(o,w)+a+14+3*B+jh(J,ge)+2*J[16]+3*J[17]+7*J[18];if(l>=0&&Q<=K&&Q<=me)return T5(t,u,i.subarray(l,l+c));var pe,xe,fe,Se;if(Ma(t,u,1+(me<K)),u+=2,me<K){pe=$o(y,g,0),xe=y,fe=$o(w,I,0),Se=w;var Me=$o(ge,R,0);Ma(t,u,V-257),Ma(t,u+5,ne-1),Ma(t,u+10,B-4),u+=14;for(var U=0;U<B;++U)Ma(t,u+3*U,ge[V_[U]]);u+=3*B;for(var Ze=[T,$],O=0;O<2;++O)for(var H=Ze[O],U=0;U<H.length;++U){var W=H[U]&31;Ma(t,u,Me[W]),u+=ge[W],W>15&&(Ma(t,u,H[U]>>5&127),u+=H[U]>>12)}}else pe=UR,xe=ks,fe=qR,Se=Bh;for(var U=0;U<s;++U){var ee=n[U];if(ee>255){var W=ee>>18&31;Fh(t,u,pe[W+257]),u+=xe[W+257],W>7&&(Ma(t,u,ee>>23&31),u+=Gm[W]);var se=ee&31;Fh(t,u,fe[se]),u+=Se[se],se>3&&(Fh(t,u,ee>>5&8191),u+=$m[se])}else Fh(t,u,pe[ee]),u+=xe[ee]}return Fh(t,u,pe[256]),u+xe[256]},WR=new H_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),M5=new zn(0),YR=function(i,t,e,n,r,o){var a=o.z||i.length,s=new zn(n+a+5*(1+Math.ceil(a/7e3))+r),l=s.subarray(n,s.length-r),c=o.l,u=(o.r||0)&7;if(t){u&&(l[0]=o.r>>3);for(var f=WR[t-1],y=f>>13,g=f&8191,S=(1<<e)-1,w=o.p||new Or(32768),I=o.h||new Or(S+1),A=Math.ceil(e/3),T=2*A,V=function(_t){return(i[_t]^i[_t+1]<<A^i[_t+2]<<T)&S},Z=new H_(25e3),$=new Or(288),ne=new Or(32),J=0,U=0,ie=o.i||0,ge=0,R=o.w||0,B=0;ie+2<a;++ie){var Q=V(ie),K=ie&32767,me=I[Q];if(w[K]=me,I[Q]=K,R<=ie){var pe=a-ie;if((J>7e3||ge>24576)&&(pe>423||!c)){u=S5(i,l,0,Z,$,ne,U,ge,B,ie-B,u),ge=J=U=0,B=ie;for(var xe=0;xe<286;++xe)$[xe]=0;for(var xe=0;xe<30;++xe)ne[xe]=0}var fe=2,Se=0,Me=g,Ze=K-me&32767;if(pe>2&&Q==V(ie-Ze))for(var O=Math.min(y,pe)-1,H=Math.min(32767,ie),W=Math.min(258,pe);Ze<=H&&--Me&&K!=me;){if(i[ie+fe]==i[ie+fe-Ze]){for(var ee=0;ee<W&&i[ie+ee]==i[ie+ee-Ze];++ee);if(ee>fe){if(fe=ee,Se=Ze,ee>O)break;for(var se=Math.min(Ze,ee-2),ye=0,xe=0;xe<se;++xe){var Ce=ie-Ze+xe&32767,De=w[Ce],qe=Ce-De&32767;qe>ye&&(ye=qe,me=Ce)}}}K=me,me=w[K],Ze+=K-me&32767}if(Se){Z[ge++]=268435456|U_[fe]<<18|C5[Se];var ze=U_[fe]&31,et=C5[Se]&31;U+=Gm[ze]+$m[et],++$[257+ze],++ne[et],R=ie+fe,++J}else Z[ge++]=i[ie],++$[i[ie]]}}for(ie=Math.max(ie,R);ie<a;++ie)Z[ge++]=i[ie],++$[i[ie]];u=S5(i,l,c,Z,$,ne,U,ge,B,ie-B,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=I,o.p=w,o.i=ie,o.w=R)}else{for(var ie=o.w||0;ie<a+c;ie+=65535){var Ke=ie+65535;Ke>=a&&(l[u/8|0]=c,Ke=a),u=T5(l,u+1,i.subarray(ie,Ke))}o.i=a}return k5(s,0,n+G_(u)+r)};var P5=function(){var i=1,t=0;return{p:function(e){for(var n=i,r=t,o=e.length|0,a=0;a!=o;){for(var s=Math.min(a+2655,o);a<s;++a)r+=n+=e[a];n=(n&65535)+15*(n>>16),r=(r&65535)+15*(r>>16)}i=n,t=r},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},XR=function(i,t,e,n,r){if(!r&&(r={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),a=new zn(o.length+i.length);a.set(o),a.set(i,o.length),i=a,r.w=o.length}return YR(i,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,n,r)};var O5=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8};var ZR=function(i,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=n<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var r=P5();r.p(t.dictionary),O5(i,2,r.d())}},KR=function(i,t){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&yo(6,"invalid zlib data"),(i[1]>>5&1)==+!t&&yo(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function Wm(i,t){t||(t={});var e=P5();e.p(i);var n=XR(i,t,t.dictionary?6:2,4);return ZR(n,t),O5(n,n.length-4,e.d()),n}function N5(i,t){return $R(i.subarray(KR(i,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var JR=typeof TextDecoder<"u"&&new TextDecoder,QR=0;try{JR.decode(M5,{stream:!0}),QR=1}catch{}var yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function $_(){yt.console&&typeof yt.console.log=="function"&&yt.console.log.apply(yt.console,arguments)}var Si={log:$_,warn:function(i){yt.console&&(typeof yt.console.warn=="function"?yt.console.warn.apply(yt.console,arguments):$_.call(null,arguments))},error:function(i){yt.console&&(typeof yt.console.error=="function"?yt.console.error.apply(yt.console,arguments):$_(i))}};function W_(i,t,e){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){Rl(n.response,t,e)},n.onerror=function(){Si.error("could not download file")},n.send()}function L5(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ym(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var Vh,J_,Rl=yt.saveAs||((typeof window>"u"?"undefined":bi(window))!=="object"||window!==yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var n=yt.URL||yt.webkitURL,r=document.createElement("a");t=t||i.name||"download",r.download=t,r.rel="noopener",typeof i=="string"?(r.href=i,r.origin!==location.origin?L5(r.href)?W_(i,t,e):Ym(r,r.target="_blank"):Ym(r)):(r.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){Ym(r)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(L5(i))W_(i,t,e);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){Ym(n)})}else navigator.msSaveOrOpenBlob(function(r,o){return o===void 0?o={autoBom:!1}:bi(o)!=="object"&&(Si.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(i,e),t)}:function(i,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof i=="string")return W_(i,t,e);var r=i.type==="application/octet-stream",o=/constructor/i.test(yt.HTMLElement)||yt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&o)&&(typeof FileReader>"u"?"undefined":bi(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var u=s.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},s.readAsDataURL(i)}else{var l=yt.URL||yt.webkitURL,c=l.createObjectURL(i);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function J5(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<e.length;n++){var r=e[n].re,o=e[n].process,a=r.exec(i);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+s+l+c}}function Y_(i,t){var e=i[0],n=i[1],r=i[2],o=i[3];e=qn(e,n,r,o,t[0],7,-680876936),o=qn(o,e,n,r,t[1],12,-389564586),r=qn(r,o,e,n,t[2],17,606105819),n=qn(n,r,o,e,t[3],22,-1044525330),e=qn(e,n,r,o,t[4],7,-176418897),o=qn(o,e,n,r,t[5],12,1200080426),r=qn(r,o,e,n,t[6],17,-1473231341),n=qn(n,r,o,e,t[7],22,-45705983),e=qn(e,n,r,o,t[8],7,1770035416),o=qn(o,e,n,r,t[9],12,-1958414417),r=qn(r,o,e,n,t[10],17,-42063),n=qn(n,r,o,e,t[11],22,-1990404162),e=qn(e,n,r,o,t[12],7,1804603682),o=qn(o,e,n,r,t[13],12,-40341101),r=qn(r,o,e,n,t[14],17,-1502002290),e=Hn(e,n=qn(n,r,o,e,t[15],22,1236535329),r,o,t[1],5,-165796510),o=Hn(o,e,n,r,t[6],9,-1069501632),r=Hn(r,o,e,n,t[11],14,643717713),n=Hn(n,r,o,e,t[0],20,-373897302),e=Hn(e,n,r,o,t[5],5,-701558691),o=Hn(o,e,n,r,t[10],9,38016083),r=Hn(r,o,e,n,t[15],14,-660478335),n=Hn(n,r,o,e,t[4],20,-405537848),e=Hn(e,n,r,o,t[9],5,568446438),o=Hn(o,e,n,r,t[14],9,-1019803690),r=Hn(r,o,e,n,t[3],14,-187363961),n=Hn(n,r,o,e,t[8],20,1163531501),e=Hn(e,n,r,o,t[13],5,-1444681467),o=Hn(o,e,n,r,t[2],9,-51403784),r=Hn(r,o,e,n,t[7],14,1735328473),e=Gn(e,n=Hn(n,r,o,e,t[12],20,-1926607734),r,o,t[5],4,-378558),o=Gn(o,e,n,r,t[8],11,-2022574463),r=Gn(r,o,e,n,t[11],16,1839030562),n=Gn(n,r,o,e,t[14],23,-35309556),e=Gn(e,n,r,o,t[1],4,-1530992060),o=Gn(o,e,n,r,t[4],11,1272893353),r=Gn(r,o,e,n,t[7],16,-155497632),n=Gn(n,r,o,e,t[10],23,-1094730640),e=Gn(e,n,r,o,t[13],4,681279174),o=Gn(o,e,n,r,t[0],11,-358537222),r=Gn(r,o,e,n,t[3],16,-722521979),n=Gn(n,r,o,e,t[6],23,76029189),e=Gn(e,n,r,o,t[9],4,-640364487),o=Gn(o,e,n,r,t[12],11,-421815835),r=Gn(r,o,e,n,t[15],16,530742520),e=$n(e,n=Gn(n,r,o,e,t[2],23,-995338651),r,o,t[0],6,-198630844),o=$n(o,e,n,r,t[7],10,1126891415),r=$n(r,o,e,n,t[14],15,-1416354905),n=$n(n,r,o,e,t[5],21,-57434055),e=$n(e,n,r,o,t[12],6,1700485571),o=$n(o,e,n,r,t[3],10,-1894986606),r=$n(r,o,e,n,t[10],15,-1051523),n=$n(n,r,o,e,t[1],21,-2054922799),e=$n(e,n,r,o,t[8],6,1873313359),o=$n(o,e,n,r,t[15],10,-30611744),r=$n(r,o,e,n,t[6],15,-1560198380),n=$n(n,r,o,e,t[13],21,1309151649),e=$n(e,n,r,o,t[4],6,-145523070),o=$n(o,e,n,r,t[11],10,-1120210379),r=$n(r,o,e,n,t[2],15,718787259),n=$n(n,r,o,e,t[9],21,-343485551),i[0]=Ms(e,i[0]),i[1]=Ms(n,i[1]),i[2]=Ms(r,i[2]),i[3]=Ms(o,i[3])}function r0(i,t,e,n,r,o){return t=Ms(Ms(t,i),Ms(n,o)),Ms(t<<r|t>>>32-r,e)}function qn(i,t,e,n,r,o,a){return r0(t&e|~t&n,i,t,r,o,a)}function Hn(i,t,e,n,r,o,a){return r0(t&n|e&~n,i,t,r,o,a)}function Gn(i,t,e,n,r,o,a){return r0(t^e^n,i,t,r,o,a)}function $n(i,t,e,n,r,o,a){return r0(e^(t|~n),i,t,r,o,a)}function Q5(i){var t,e=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)Y_(n,eF(i.substring(t-64,t)));i=i.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)r[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(Y_(n,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,Y_(n,r),n}function eF(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}Vh=yt.atob.bind(yt),J_=yt.btoa.bind(yt);var R5="0123456789abcdef".split("");function tF(i){for(var t="",e=0;e<4;e++)t+=R5[i>>8*e+4&15]+R5[i>>8*e&15];return t}function iF(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function Q_(i){return Q5(i).map(iF).join("")}var nF=function(i){for(var t=0;t<i.length;t++)i[t]=tF(i[t]);return i.join("")}(Q5("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ms(i,t){if(nF){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}function e1(i,t){var e,n,r,o;if(i!==e){for(var a=(r=i,o=1+(256/i.length>>0),new Array(o+1).join(r)),s=[],l=0;l<256;l++)s[l]=l;var c=0;for(l=0;l<256;l++){var u=s[l];c=(c+u+a.charCodeAt(l))%256,s[l]=s[c],s[c]=u}e=i,n=s}else s=n;var f=t.length,y=0,g=0,S="";for(l=0;l<f;l++)g=(g+(u=s[y=(y+1)%256]))%256,s[y]=s[g],s[g]=u,a=s[(s[y]+s[g])%256],S+=String.fromCharCode(t.charCodeAt(l)^a);return S}var F5={print:4,modify:8,copy:16,"annot-forms":32};function ad(i,t,e,n){this.v=1,this.r=2;var r=192;i.forEach(function(s){if(F5.perm!==void 0)throw new Error("Invalid permission: "+s);r+=F5[s]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^r)),this.encryptionKey=Q_(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=e1(this.encryptionKey,this.padding)}function sd(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,n=0;n<e;n++){var r=i.charCodeAt(n);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=i[n]}return t}function j5(i){if(bi(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,typeof e!="string"||typeof n!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[n,!!r],o},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),r=[];for(var o in t[e]){var a=t[e][o];try{a[0].apply(i,n)}catch(s){yt.console&&Si.error("jsPDF PubSub Error",s.message,s)}a[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function i0(i){if(!(this instanceof i0))return new i0(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function eS(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function Fl(i,t,e,n,r){if(!(this instanceof Fl))return new Fl(i,t,e,n,r);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,eS.call(this,n,r)}function ld(i,t,e,n,r){if(!(this instanceof ld))return new ld(i,t,e,n,r);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,eS.call(this,n,r)}function bt(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],r=arguments[2],o=arguments[3],a=[],s=1,l=16,c="S",u=null;bi(i=i||{})==="object"&&(e=i.orientation,n=i.unit||n,r=i.format||r,o=i.compress||i.compressPdf||o,(u=i.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),s=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(l=i.floatPrecision),c=i.defaultPathOperation||"S"),a=i.filters||(o===!0?["FlateEncode"]:a),n=n||"mm",e=(""+(e||"P")).toLowerCase();var f=i.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=j5;var S="1.3",w=g.__private__.getPdfVersion=function(){return S};g.__private__.setPdfVersion=function(_){S=_};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return I};var A=g.__private__.getPageFormat=function(_){return I[_]};r=r||"a4";var T={COMPAT:"compat",ADVANCED:"advanced"},V=T.COMPAT;function Z(){this.saveGraphicsState(),X(new ft(it,0,0,-it,0,Ga()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),c="n",V=T.ADVANCED}function $(){this.restoreGraphicsState(),c="S",V=T.COMPAT}var ne=g.__private__.combineFontStyleAndFontWeight=function(_,k){if(_=="bold"&&k=="normal"||_=="bold"&&k==400||_=="normal"&&k=="italic"||_=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(_=k==400||k==="normal"?_==="italic"?"italic":"normal":k!=700&&k!=="bold"||_!=="normal"?(k==700?"bold":k)+""+_:"bold"),_};g.advancedAPI=function(_){var k=V===T.COMPAT;return k&&Z.call(this),typeof _!="function"||(_(this),k&&$.call(this)),this},g.compatAPI=function(_){var k=V===T.ADVANCED;return k&&$.call(this),typeof _!="function"||(_(this),k&&Z.call(this)),this},g.isAdvancedAPI=function(){return V===T.ADVANCED};var J,U=function(_){if(V!==T.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=g.roundToPrecision=g.__private__.roundToPrecision=function(_,k){var G=t||k;if(isNaN(_)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(G).replace(/0+$/,"")};J=g.hpf=g.__private__.hpf=typeof l=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(_,l)}:l==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(_,16)};var ge=g.f2=g.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return ie(_,2)},R=g.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return ie(_,3)},B=g.scale=g.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return V===T.COMPAT?_*it:V===T.ADVANCED?_:void 0},Q=function(_){return V===T.COMPAT?Ga()-_:V===T.ADVANCED?_:void 0},K=function(_){return B(Q(_))};g.__private__.setPrecision=g.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var me,pe="00000000000000000000000000000000",xe=g.__private__.getFileId=function(){return pe},fe=g.__private__.setFileId=function(_){return pe=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():pe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Fn=new ad(u.userPermissions,u.userPassword,u.ownerPassword,pe)),pe};g.setFileId=function(_){return fe(_),this},g.getFileId=function(){return xe()};var Se=g.__private__.convertDateToPDFDate=function(_){var k=_.getTimezoneOffset(),G=k<0?"+":"-",te=Math.floor(Math.abs(k/60)),he=Math.abs(k%60),ke=[G,W(te),"'",W(he),"'"].join("");return["D:",_.getFullYear(),W(_.getMonth()+1),W(_.getDate()),W(_.getHours()),W(_.getMinutes()),W(_.getSeconds()),ke].join("")},Me=g.__private__.convertPDFDateToDate=function(_){var k=parseInt(_.substr(2,4),10),G=parseInt(_.substr(6,2),10)-1,te=parseInt(_.substr(8,2),10),he=parseInt(_.substr(10,2),10),ke=parseInt(_.substr(12,2),10),Ve=parseInt(_.substr(14,2),10);return new Date(k,G,te,he,ke,Ve,0)},Ze=g.__private__.setCreationDate=function(_){var k;if(_===void 0&&(_=new Date),_ instanceof Date)k=Se(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=_}return me=k},O=g.__private__.getCreationDate=function(_){var k=me;return _==="jsDate"&&(k=Me(me)),k};g.setCreationDate=function(_){return Ze(_),this},g.getCreationDate=function(_){return O(_)};var H,W=g.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ee=g.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},se=0,ye=[],Ce=[],De=0,qe=[],ze=[],et=!1,Ke=Ce,_t=function(){se=0,De=0,Ce=[],ye=[],qe=[],aa=cn(),ro=cn()};g.__private__.setCustomOutputDestination=function(_){et=!0,Ke=_};var Te=function(_){et||(Ke=_)};g.__private__.resetCustomOutputDestination=function(){et=!1,Ke=Ce};var X=g.__private__.out=function(_){return _=_.toString(),De+=_.length+1,Ke.push(_),Ke},kt=g.__private__.write=function(_){return X(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},lt=g.__private__.getArrayBuffer=function(_){for(var k=_.length,G=new ArrayBuffer(k),te=new Uint8Array(G);k--;)te[k]=_.charCodeAt(k);return G},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ue};var $e=i.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(_){return $e=V===T.ADVANCED?_/it:_,this};var tt,Qe=g.__private__.getFontSize=g.getFontSize=function(){return V===T.COMPAT?$e:$e*it},ut=i.R2L||!1;g.__private__.setR2L=g.setR2L=function(_){return ut=_,this},g.__private__.getR2L=g.getR2L=function(){return ut};var Dt,Nt=g.__private__.setZoomMode=function(_){var k=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))tt=_;else if(isNaN(_)){if(k.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');tt=_}else tt=parseInt(_,10)};g.__private__.getZoomMode=function(){return tt};var Rt,Wt=g.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Dt=_};g.__private__.getPageMode=function(){return Dt};var mi=g.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Rt=_};g.__private__.getLayoutMode=function(){return Rt},g.__private__.setDisplayMode=g.setDisplayMode=function(_,k,G){return Nt(_),mi(k),Wt(G),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(_){if(Object.keys(xt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[_]},g.__private__.getDocumentProperties=function(){return xt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(_){for(var k in xt)xt.hasOwnProperty(k)&&_[k]&&(xt[k]=_[k]);return this},g.__private__.setDocumentProperty=function(_,k){if(Object.keys(xt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[_]=k};var Vt,it,Rn,Kt,to,Ci={},ji={},Ao=[],ri={},Js={},Wi={},io={},oa=null,Yi=0,It=[],oi=new j5(g),Qs=i.hotfixes||[],Tn={},Eo={},ko=[],ft=function _(k,G,te,he,ke,Ve){if(!(this instanceof _))return new _(k,G,te,he,ke,Ve);isNaN(k)&&(k=1),isNaN(G)&&(G=0),isNaN(te)&&(te=0),isNaN(he)&&(he=1),isNaN(ke)&&(ke=0),isNaN(Ve)&&(Ve=0),this._matrix=[k,G,te,he,ke,Ve]};Object.defineProperty(ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ft.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(J).join(_)},ft.prototype.multiply=function(_){var k=_.sx*this.sx+_.shy*this.shx,G=_.sx*this.shy+_.shy*this.sy,te=_.shx*this.sx+_.sy*this.shx,he=_.shx*this.shy+_.sy*this.sy,ke=_.tx*this.sx+_.ty*this.shx+this.tx,Ve=_.tx*this.shy+_.ty*this.sy+this.ty;return new ft(k,G,te,he,ke,Ve)},ft.prototype.decompose=function(){var _=this.sx,k=this.shy,G=this.shx,te=this.sy,he=this.tx,ke=this.ty,Ve=Math.sqrt(_*_+k*k),nt=(_/=Ve)*G+(k/=Ve)*te;G-=_*nt,te-=k*nt;var ht=Math.sqrt(G*G+te*te);return nt/=ht,_*(te/=ht)<k*(G/=ht)&&(_=-_,k=-k,nt=-nt,Ve=-Ve),{scale:new ft(Ve,0,0,ht,0,0),translate:new ft(1,0,0,1,he,ke),rotate:new ft(_,k,-k,_,0,0),skew:new ft(1,0,nt,1,0,0)}},ft.prototype.toString=function(_){return this.join(" ")},ft.prototype.inversed=function(){var _=this.sx,k=this.shy,G=this.shx,te=this.sy,he=this.tx,ke=this.ty,Ve=1/(_*te-k*G),nt=te*Ve,ht=-k*Ve,Tt=-G*Ve,At=_*Ve;return new ft(nt,ht,Tt,At,-nt*he-Tt*ke,-ht*he-At*ke)},ft.prototype.applyToPoint=function(_){var k=_.x*this.sx+_.y*this.shx+this.tx,G=_.x*this.shy+_.y*this.sy+this.ty;return new cc(k,G)},ft.prototype.applyToRectangle=function(_){var k=this.applyToPoint(_),G=this.applyToPoint(new cc(_.x+_.w,_.y+_.h));return new tu(k.x,k.y,G.x-k.x,G.y-k.y)},ft.prototype.clone=function(){var _=this.sx,k=this.shy,G=this.shx,te=this.sy,he=this.tx,ke=this.ty;return new ft(_,k,G,te,he,ke)},g.Matrix=ft;var no=g.matrixMult=function(_,k){return k.multiply(_)},To=new ft(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=To;var rr=function(_,k){if(!Js[_]){var G=(k instanceof Fl?"Sh":"P")+(Object.keys(ri).length+1).toString(10);k.id=G,Js[_]=G,ri[G]=k,oi.publish("addPattern",k)}};g.ShadingPattern=Fl,g.TilingPattern=ld,g.addShadingPattern=function(_,k){return U("addShadingPattern()"),rr(_,k),this},g.beginTilingPattern=function(_){U("beginTilingPattern()"),Up(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},g.endTilingPattern=function(_,k){U("endTilingPattern()"),k.stream=ze[H].join(`
`),rr(_,k),oi.publish("endTilingPattern",k),ko.pop().restore()};var gn=g.__private__.newObject=function(){var _=cn();return xr(_,!0),_},cn=g.__private__.newObjectDeferred=function(){return se++,ye[se]=function(){return De},se},xr=function(_,k){return k=typeof k=="boolean"&&k,ye[_]=De,k&&X(_+" 0 obj"),_},Zl=g.__private__.newAdditionalObject=function(){var _={objId:cn(),content:""};return qe.push(_),_},aa=cn(),ro=cn(),oo=g.__private__.decodeColorString=function(_){var k=_.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length===5&&(k[4]==="k"||k[4]==="K")&&(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var G=parseFloat(k[0]);k=[G,G,G,"r"]}for(var te="#",he=0;he<3;he++)te+=("0"+Math.floor(255*parseFloat(k[he])).toString(16)).slice(-2);return te},ao=g.__private__.encodeColorString=function(_){var k;typeof _=="string"&&(_={ch1:_});var G=_.ch1,te=_.ch2,he=_.ch3,ke=_.ch4,Ve=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var nt=new J5(G);if(nt.ok)G=nt.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var ht=parseInt(G.substr(1),16);G=ht>>16&255,te=ht>>8&255,he=255&ht}if(te===void 0||ke===void 0&&G===te&&te===he)if(typeof G=="string")k=G+" "+Ve[0];else switch(_.precision){case 2:k=ge(G/255)+" "+Ve[0];break;case 3:default:k=R(G/255)+" "+Ve[0]}else if(ke===void 0||bi(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return k=["1.","1.","1.",Ve[1]].join(" ");if(typeof G=="string")k=[G,te,he,Ve[1]].join(" ");else switch(_.precision){case 2:k=[ge(G/255),ge(te/255),ge(he/255),Ve[1]].join(" ");break;default:case 3:k=[R(G/255),R(te/255),R(he/255),Ve[1]].join(" ")}}else if(typeof G=="string")k=[G,te,he,ke,Ve[2]].join(" ");else switch(_.precision){case 2:k=[ge(G),ge(te),ge(he),ge(ke),Ve[2]].join(" ");break;case 3:default:k=[R(G),R(te),R(he),R(ke),Ve[2]].join(" ")}return k},Mo=g.__private__.getFilters=function(){return a},Lr=g.__private__.putStream=function(_){var k=(_=_||{}).data||"",G=_.filters||Mo(),te=_.alreadyAppliedFilters||[],he=_.addLength1||!1,ke=k.length,Ve=_.objectId,nt=function(jn){return jn};if(u!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(nt=Fn.encryptor(Ve,0));var ht={};G===!0&&(G=["FlateEncode"]);var Tt=_.additionalKeyValues||[],At=(ht=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(k,G):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(ht.data.length!==0&&(Tt.push({key:"Length",value:ht.data.length}),he===!0&&Tt.push({key:"Length1",value:ke})),At.length!=0)if(At.split("/").length-1==1)Tt.push({key:"Filter",value:At});else{Tt.push({key:"Filter",value:"["+At+"]"});for(var Gt=0;Gt<Tt.length;Gt+=1)if(Tt[Gt].key==="DecodeParms"){for(var zi=[],Xi=0;Xi<ht.reverseChain.split("/").length-1;Xi+=1)zi.push("null");zi.push(Tt[Gt].value),Tt[Gt].value="["+zi.join(" ")+"]"}}X("<<");for(var dn=0;dn<Tt.length;dn++)X("/"+Tt[dn].key+" "+Tt[dn].value);X(">>"),ht.data.length!==0&&(X("stream"),X(nt(ht.data)),X("endstream"))},Po=g.__private__.putPage=function(_){var k=_.number,G=_.data,te=_.objId,he=_.contentsObjId;xr(te,!0),X("<</Type /Page"),X("/Parent "+_.rootDictionaryObjId+" 0 R"),X("/Resources "+_.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(J(_.mediaBox.bottomLeftX))+" "+parseFloat(J(_.mediaBox.bottomLeftY))+" "+J(_.mediaBox.topRightX)+" "+J(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&X("/CropBox ["+J(_.cropBox.bottomLeftX)+" "+J(_.cropBox.bottomLeftY)+" "+J(_.cropBox.topRightX)+" "+J(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&X("/BleedBox ["+J(_.bleedBox.bottomLeftX)+" "+J(_.bleedBox.bottomLeftY)+" "+J(_.bleedBox.topRightX)+" "+J(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&X("/TrimBox ["+J(_.trimBox.bottomLeftX)+" "+J(_.trimBox.bottomLeftY)+" "+J(_.trimBox.topRightX)+" "+J(_.trimBox.topRightY)+"]"),_.artBox!==null&&X("/ArtBox ["+J(_.artBox.bottomLeftX)+" "+J(_.artBox.bottomLeftY)+" "+J(_.artBox.topRightX)+" "+J(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&X("/UserUnit "+_.userUnit),oi.publish("putPage",{objId:te,pageContext:It[k],pageNumber:k,page:G}),X("/Contents "+he+" 0 R"),X(">>"),X("endobj");var ke=G.join(`
`);return V===T.ADVANCED&&(ke+=`
Q`),xr(he,!0),Lr({data:ke,filters:Mo(),objectId:he}),X("endobj"),te},el=g.__private__.putPages=function(){var _,k,G=[];for(_=1;_<=Yi;_++)It[_].objId=cn(),It[_].contentsObjId=cn();for(_=1;_<=Yi;_++)G.push(Po({number:_,data:ze[_],objId:It[_].objId,contentsObjId:It[_].contentsObjId,mediaBox:It[_].mediaBox,cropBox:It[_].cropBox,bleedBox:It[_].bleedBox,trimBox:It[_].trimBox,artBox:It[_].artBox,userUnit:It[_].userUnit,rootDictionaryObjId:aa,resourceDictionaryObjId:ro}));xr(aa,!0),X("<</Type /Pages");var te="/Kids [";for(k=0;k<Yi;k++)te+=G[k]+" 0 R ";X(te+"]"),X("/Count "+Yi),X(">>"),X("endobj"),oi.publish("postPutPages")},Kl=function(_){oi.publish("putFont",{font:_,out:X,newObject:gn,putStream:Lr}),_.isAlreadyPutted!==!0&&(_.objectNumber=gn(),X("<<"),X("/Type /Font"),X("/BaseFont /"+sd(_.postScriptName)),X("/Subtype /Type1"),typeof _.encoding=="string"&&X("/Encoding /"+_.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Jl=function(){for(var _ in Ci)Ci.hasOwnProperty(_)&&(f===!1||f===!0&&y.hasOwnProperty(_))&&Kl(Ci[_])},Ql=function(_){_.objectNumber=gn();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[J(_.x),J(_.y),J(_.x+_.width),J(_.y+_.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var G=_.pages[1].join(`
`);Lr({data:G,additionalKeyValues:k,objectId:_.objectNumber}),X("endobj")},ec=function(){for(var _ in Tn)Tn.hasOwnProperty(_)&&Ql(Tn[_])},wp=function(_,k){var G,te=[],he=1/(k-1);for(G=0;G<1;G+=he)te.push(G);if(te.push(1),_[0].offset!=0){var ke={offset:0,color:_[0].color};_.unshift(ke)}if(_[_.length-1].offset!=1){var Ve={offset:1,color:_[_.length-1].color};_.push(Ve)}for(var nt="",ht=0,Tt=0;Tt<te.length;Tt++){for(G=te[Tt];G>_[ht+1].offset;)ht++;var At=_[ht].offset,Gt=(G-At)/(_[ht+1].offset-At),zi=_[ht].color,Xi=_[ht+1].color;nt+=ee(Math.round((1-Gt)*zi[0]+Gt*Xi[0]).toString(16))+ee(Math.round((1-Gt)*zi[1]+Gt*Xi[1]).toString(16))+ee(Math.round((1-Gt)*zi[2]+Gt*Xi[2]).toString(16))}return nt.trim()},Ag=function(_,k){k||(k=21);var G=gn(),te=wp(_.colors,k),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+k+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Lr({data:te,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),X("endobj"),_.objectNumber=gn(),X("<< /ShadingType "+_.type),X("/ColorSpace /DeviceRGB");var ke="/Coords ["+J(parseFloat(_.coords[0]))+" "+J(parseFloat(_.coords[1]))+" ";_.type===2?ke+=J(parseFloat(_.coords[2]))+" "+J(parseFloat(_.coords[3])):ke+=J(parseFloat(_.coords[2]))+" "+J(parseFloat(_.coords[3]))+" "+J(parseFloat(_.coords[4]))+" "+J(parseFloat(_.coords[5])),X(ke+="]"),_.matrix&&X("/Matrix ["+_.matrix.toString()+"]"),X("/Function "+G+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Eg=function(_,k){var G=cn(),te=gn();k.push({resourcesOid:G,objectOid:te}),_.objectNumber=te;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+_.boundingBox.map(J).join(" ")+"]"}),he.push({key:"XStep",value:J(_.xStep)}),he.push({key:"YStep",value:J(_.yStep)}),he.push({key:"Resources",value:G+" 0 R"}),_.matrix&&he.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Lr({data:_.stream,additionalKeyValues:he,objectId:_.objectNumber}),X("endobj")},tc=function(_){var k;for(k in ri)ri.hasOwnProperty(k)&&(ri[k]instanceof Fl?Ag(ri[k]):ri[k]instanceof ld&&Eg(ri[k],_))},Sp=function(_){for(var k in _.objectNumber=gn(),X("<<"),_)switch(k){case"opacity":X("/ca "+ge(_[k]));break;case"stroke-opacity":X("/CA "+ge(_[k]))}X(">>"),X("endobj")},kg=function(){var _;for(_ in Wi)Wi.hasOwnProperty(_)&&Sp(Wi[_])},Gd=function(){for(var _ in X("/XObject <<"),Tn)Tn.hasOwnProperty(_)&&Tn[_].objectNumber>=0&&X("/"+_+" "+Tn[_].objectNumber+" 0 R");oi.publish("putXobjectDict"),X(">>")},Tg=function(){Fn.oid=gn(),X("<<"),X("/Filter /Standard"),X("/V "+Fn.v),X("/R "+Fn.r),X("/U <"+Fn.toHexString(Fn.U)+">"),X("/O <"+Fn.toHexString(Fn.O)+">"),X("/P "+Fn.P),X(">>"),X("endobj")},Dp=function(){for(var _ in X("/Font <<"),Ci)Ci.hasOwnProperty(_)&&(f===!1||f===!0&&y.hasOwnProperty(_))&&X("/"+_+" "+Ci[_].objectNumber+" 0 R");X(">>")},Mg=function(){if(Object.keys(ri).length>0){for(var _ in X("/Shading <<"),ri)ri.hasOwnProperty(_)&&ri[_]instanceof Fl&&ri[_].objectNumber>=0&&X("/"+_+" "+ri[_].objectNumber+" 0 R");oi.publish("putShadingPatternDict"),X(">>")}},ic=function(_){if(Object.keys(ri).length>0){for(var k in X("/Pattern <<"),ri)ri.hasOwnProperty(k)&&ri[k]instanceof g.TilingPattern&&ri[k].objectNumber>=0&&ri[k].objectNumber<_&&X("/"+k+" "+ri[k].objectNumber+" 0 R");oi.publish("putTilingPatternDict"),X(">>")}},Pg=function(){if(Object.keys(Wi).length>0){var _;for(_ in X("/ExtGState <<"),Wi)Wi.hasOwnProperty(_)&&Wi[_].objectNumber>=0&&X("/"+_+" "+Wi[_].objectNumber+" 0 R");oi.publish("putGStateDict"),X(">>")}},Qi=function(_){xr(_.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Dp(),Mg(),ic(_.objectOid),Pg(),Gd(),X(">>"),X("endobj")},Ip=function(){var _=[];Jl(),kg(),ec(),tc(_),oi.publish("putResources"),_.forEach(Qi),Qi({resourcesOid:ro,objectOid:Number.MAX_SAFE_INTEGER}),oi.publish("postPutResources")},Ap=function(){oi.publish("putAdditionalObjects");for(var _=0;_<qe.length;_++){var k=qe[_];xr(k.objId,!0),X(k.content),X("endobj")}oi.publish("postPutAdditionalObjects")},Ep=function(_){ji[_.fontName]=ji[_.fontName]||{},ji[_.fontName][_.fontStyle]=_.id},$d=function(_,k,G,te,he){var ke={id:"F"+(Object.keys(Ci).length+1).toString(10),postScriptName:_,fontName:k,fontStyle:G,encoding:te,isStandardFont:he||!1,metadata:{}};return oi.publish("addFont",{font:ke,instance:this}),Ci[ke.id]=ke,Ep(ke),ke.id},Og=function(_){for(var k=0,G=Ue.length;k<G;k++){var te=$d.call(this,_[k][0],_[k][1],_[k][2],Ue[k][3],!0);f===!1&&(y[te]=!0);var he=_[k][0].split("-");Ep({id:te,fontName:he[0],fontStyle:he[1]||""})}oi.publish("addFonts",{fonts:Ci,dictionary:ji})},so=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(te){var k=te.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var G="Error in function "+k.split(`
`)[0].split("<")[0]+": "+te.message;if(!yt.console)throw new Error(G);yt.console.error(G,te),yt.alert&&alert(G)}},_.foo.bar=_,_.foo},nc=function(_,k){var G,te,he,ke,Ve,nt,ht,Tt,At;if(he=(k=k||{}).sourceEncoding||"Unicode",Ve=k.outputEncoding,(k.autoencode||Ve)&&Ci[Vt].metadata&&Ci[Vt].metadata[he]&&Ci[Vt].metadata[he].encoding&&(ke=Ci[Vt].metadata[he].encoding,!Ve&&Ci[Vt].encoding&&(Ve=Ci[Vt].encoding),!Ve&&ke.codePages&&(Ve=ke.codePages[0]),typeof Ve=="string"&&(Ve=ke[Ve]),Ve)){for(ht=!1,nt=[],G=0,te=_.length;G<te;G++)(Tt=Ve[_.charCodeAt(G)])?nt.push(String.fromCharCode(Tt)):nt.push(_[G]),nt[G].charCodeAt(0)>>8&&(ht=!0);_=nt.join("")}for(G=_.length;ht===void 0&&G!==0;)_.charCodeAt(G-1)>>8&&(ht=!0),G--;if(!ht)return _;for(nt=k.noBOM?[]:[254,255],G=0,te=_.length;G<te;G++){if((At=(Tt=_.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nt.push(At),nt.push(Tt-(At<<8))}return String.fromCharCode.apply(void 0,nt)},or=g.__private__.pdfEscape=g.pdfEscape=function(_,k){return nc(_,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wd=g.__private__.beginPage=function(_){ze[++Yi]=[],It[Yi]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Tp(Yi),Te(ze[H])},kp=function(_,k){var G,te,he;switch(e=k||e,typeof _=="string"&&(G=A(_.toLowerCase()),Array.isArray(G)&&(te=G[0],he=G[1])),Array.isArray(_)&&(te=_[0]*it,he=_[1]*it),isNaN(te)&&(te=r[0],he=r[1]),(te>14400||he>14400)&&(Si.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),he=Math.min(14400,he)),r=[te,he],e.substr(0,1)){case"l":he>te&&(r=[he,te]);break;case"p":te>he&&(r=[he,te])}Wd(r),Rp(Kd),X(lo),Qd!==0&&X(Qd+" J"),eu!==0&&X(eu+" j"),oi.publish("addPage",{pageNumber:Yi})},Ng=function(_){_>0&&_<=Yi&&(ze.splice(_,1),It.splice(_,1),Yi--,H>Yi&&(H=Yi),this.setPage(H))},Tp=function(_){_>0&&_<=Yi&&(H=_)},Lg=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ze.length-1},Mp=function(_,k,G){var te,he=void 0;return G=G||{},_=_!==void 0?_:Ci[Vt].fontName,k=k!==void 0?k:Ci[Vt].fontStyle,te=_.toLowerCase(),ji[te]!==void 0&&ji[te][k]!==void 0?he=ji[te][k]:ji[_]!==void 0&&ji[_][k]!==void 0?he=ji[_][k]:G.disableWarning===!1&&Si.warn("Unable to look up font label for font '"+_+"', '"+k+"'. Refer to getFontList() for available fonts."),he||G.noFallback||(he=ji.times[k])==null&&(he=ji.times.normal),he},Rg=g.__private__.putInfo=function(){var _=gn(),k=function(te){return te};for(var G in u!==null&&(k=Fn.encryptor(_,0)),X("<<"),X("/Producer ("+or(k("jsPDF "+bt.version))+")"),xt)xt.hasOwnProperty(G)&&xt[G]&&X("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+or(k(xt[G]))+")");X("/CreationDate ("+or(k(me))+")"),X(">>"),X("endobj")},Yd=g.__private__.putCatalog=function(_){var k=(_=_||{}).rootDictionaryObjId||aa;switch(gn(),X("<<"),X("/Type /Catalog"),X("/Pages "+k+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+tt;G.substr(G.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&X("/OpenAction [3 0 R /XYZ null null "+ge(tt)+"]")}switch(Rt||(Rt="continuous"),Rt){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Dt&&X("/PageMode /"+Dt),oi.publish("putCatalog"),X(">>"),X("endobj")},Fg=g.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(se+1)),X("/Root "+se+" 0 R"),X("/Info "+(se-1)+" 0 R"),u!==null&&X("/Encrypt "+Fn.oid+" 0 R"),X("/ID [ <"+pe+"> <"+pe+"> ]"),X(">>")},jg=g.__private__.putHeader=function(){X("%PDF-"+S),X("%\xBA\xDF\xAC\xE0")},Bg=g.__private__.putXRef=function(){var _="0000000000";X("xref"),X("0 "+(se+1)),X("0000000000 65535 f ");for(var k=1;k<=se;k++)typeof ye[k]=="function"?X((_+ye[k]()).slice(-10)+" 00000 n "):ye[k]!==void 0?X((_+ye[k]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},sa=g.__private__.buildDocument=function(){_t(),Te(Ce),oi.publish("buildDocument"),jg(),el(),Ap(),Ip(),u!==null&&Tg(),Rg(),Yd();var _=De;return Bg(),Fg(),X("startxref"),X(""+_),X("%%EOF"),Te(ze[H]),Ce.join(`
`)},rc=g.__private__.getBlob=function(_){return new Blob([lt(_)],{type:"application/pdf"})},oc=g.output=g.__private__.output=so(function(_,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",_){case void 0:return sa();case"save":g.save(k.filename);break;case"arraybuffer":return lt(sa());case"blob":return rc(sa());case"bloburi":case"bloburl":if(yt.URL!==void 0&&typeof yt.URL.createObjectURL=="function")return yt.URL&&yt.URL.createObjectURL(rc(sa()))||void 0;Si.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",te=sa();try{G=J_(te)}catch{G=J_(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+k.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(he=k.pdfObjectUrl,ke="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",nt=yt.open();return nt!==null&&nt.document.write(Ve),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yt)==="[object Window]"){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',Tt=yt.open();if(Tt!==null){Tt.document.write(ht);var At=this;Tt.document.documentElement.querySelector("#pdfViewer").onload=function(){Tt.document.title=k.filename,Tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(At.output("bloburl"))}}return Tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',zi=yt.open();if(zi!==null&&(zi.document.write(Gt),zi.document.title=k.filename),zi||typeof safari>"u")return zi;break;case"datauri":case"dataurl":return yt.document.location.href=this.output("datauristring",k);default:return null}}),Pp=function(_){return Array.isArray(Qs)===!0&&Qs.indexOf(_)>-1};switch(n){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=Pp("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);it=n}var Fn=null;Ze(),fe();var Vg=function(_){return u!==null?Fn.encryptor(_,0):function(k){return k}},Op=g.__private__.getPageInfo=g.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[_].objId,pageNumber:_,pageContext:It[_]}},St=g.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in It)if(It[k].objId===_)break;return Op(k)},Ug=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:It[H].objId,pageNumber:H,pageContext:It[H]}};g.addPage=function(){return kp.apply(this,arguments),this},g.setPage=function(){return Tp.apply(this,arguments),Te.call(this,ze[H]),this},g.insertPage=function(_){return this.addPage(),this.movePage(H,_),this},g.movePage=function(_,k){var G,te;if(_>k){G=ze[_],te=It[_];for(var he=_;he>k;he--)ze[he]=ze[he-1],It[he]=It[he-1];ze[k]=G,It[k]=te,this.setPage(k)}else if(_<k){G=ze[_],te=It[_];for(var ke=_;ke<k;ke++)ze[ke]=ze[ke+1],It[ke]=It[ke+1];ze[k]=G,It[k]=te,this.setPage(k)}return this},g.deletePage=function(){return Ng.apply(this,arguments),this},g.__private__.text=g.text=function(_,k,G,te,he){var ke,Ve,nt,ht,Tt,At,Gt,zi,Xi,dn=(te=te||{}).scope||this;if(typeof _=="number"&&typeof k=="number"&&(typeof G=="string"||Array.isArray(G))){var jn=G;G=k,k=_,_=jn}if(arguments[3]instanceof ft?(U("The transform parameter of text() with a Matrix value"),Xi=he):(nt=arguments[4],ht=arguments[5],bi(Gt=arguments[3])==="object"&&Gt!==null||(typeof nt=="string"&&(ht=nt,nt=null),typeof Gt=="string"&&(ht=Gt,Gt=null),typeof Gt=="number"&&(nt=Gt,Gt=null),te={flags:Gt,angle:nt,align:ht})),isNaN(k)||isNaN(G)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return dn;var yn="",co=!1,Cr=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:il,Lo=dn.internal.scaleFactor;function zp(Ai){return Ai=Ai.split("	").join(Array(te.TabLen||9).join(" ")),or(Ai,Gt)}function ou(Ai){for(var Ei,tn=Ai.concat(),vn=[],ha=tn.length;ha--;)typeof(Ei=tn.shift())=="string"?vn.push(Ei):Array.isArray(Ai)&&(Ei.length===1||Ei[1]===void 0&&Ei[2]===void 0)?vn.push(Ei[0]):vn.push([Ei[0],Ei[1],Ei[2]]);return vn}function au(Ai,Ei){var tn;if(typeof Ai=="string")tn=Ei(Ai)[0];else if(Array.isArray(Ai)){for(var vn,ha,fu=Ai.concat(),yc=[],Wp=fu.length;Wp--;)typeof(vn=fu.shift())=="string"?yc.push(Ei(vn)[0]):Array.isArray(vn)&&typeof vn[0]=="string"&&(ha=Ei(vn[0],vn[1],vn[2]),yc.push([ha[0],ha[1],ha[2]]));tn=yc}return tn}var uc=!1,su=!0;if(typeof _=="string")uc=!0;else if(Array.isArray(_)){var lu=_.concat();Ve=[];for(var hc,Mn=lu.length;Mn--;)(typeof(hc=lu.shift())!="string"||Array.isArray(hc)&&typeof hc[0]!="string")&&(su=!1);uc=su}if(uc===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var pc=$e/dn.internal.scaleFactor,fc=pc*(Cr-1);switch(te.baseline){case"bottom":G-=fc;break;case"top":G+=pc-fc;break;case"hanging":G+=pc-2*fc;break;case"middle":G+=pc/2-fc}if((At=te.maxWidth||0)>0&&(typeof _=="string"?_=dn.splitTextToSize(_,At):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Ai,Ei){return Ai.concat(dn.splitTextToSize(Ei,At))},[]))),ke={text:_,x:k,y:G,options:te,mutex:{pdfEscape:or,activeFontKey:Vt,fonts:Ci,activeFontSize:$e}},oi.publish("preProcessText",ke),_=ke.text,nt=(te=ke.options).angle,!(Xi instanceof ft)&&nt&&typeof nt=="number"){nt*=Math.PI/180,te.rotationDirection===0&&(nt=-nt),V===T.ADVANCED&&(nt=-nt);var mc=Math.cos(nt),cu=Math.sin(nt);Xi=new ft(mc,cu,-cu,mc,0,0)}else nt&&nt instanceof ft&&(Xi=nt);V!==T.ADVANCED||Xi||(Xi=To),(Tt=te.charSpace||lc)!==void 0&&(yn+=J(B(Tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zi=te.horizontalScale)!==void 0&&(yn+=J(100*zi)+` Tz
`),te.lang;var ar=-1,Kg=te.renderingMode!==void 0?te.renderingMode:te.stroke,du=dn.internal.getCurrentPageInfo().pageContext;switch(Kg){case 0:case!1:case"fill":ar=0;break;case 1:case!0:case"stroke":ar=1;break;case 2:case"fillThenStroke":ar=2;break;case 3:case"invisible":ar=3;break;case 4:case"fillAndAddForClipping":ar=4;break;case 5:case"strokeAndAddPathForClipping":ar=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ar=6;break;case 7:case"addToPathForClipping":ar=7}var qp=du.usedRenderingMode!==void 0?du.usedRenderingMode:-1;ar!==-1?yn+=ar+` Tr
`:qp!==-1&&(yn+=`0 Tr
`),ar!==-1&&(du.usedRenderingMode=ar),ht=te.align||"left";var Rr,gc=$e*Cr,Hp=dn.internal.pageSize.getWidth(),Gp=Ci[Vt];Tt=te.charSpace||lc,At=te.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},te.flags);var $a=[],ol=function(Ai){return dn.getStringUnitWidth(Ai,{font:Gp,charSpace:Tt,fontSize:$e,doKerning:!1})*$e/Lo};if(Object.prototype.toString.call(_)==="[object Array]"){var sr;Ve=ou(_),ht!=="left"&&(Rr=Ve.map(ol));var Yn,Wa=0;if(ht==="right"){k-=Rr[0],_=[],Mn=Ve.length;for(var ca=0;ca<Mn;ca++)ca===0?(Yn=No(k),sr=la(G)):(Yn=B(Wa-Rr[ca]),sr=-gc),_.push([Ve[ca],Yn,sr]),Wa=Rr[ca]}else if(ht==="center"){k-=Rr[0]/2,_=[],Mn=Ve.length;for(var da=0;da<Mn;da++)da===0?(Yn=No(k),sr=la(G)):(Yn=B((Wa-Rr[da])/2),sr=-gc),_.push([Ve[da],Yn,sr]),Wa=Rr[da]}else if(ht==="left"){_=[],Mn=Ve.length;for(var vc=0;vc<Mn;vc++)_.push(Ve[vc])}else if(ht==="justify"&&Gp.encoding==="Identity-H"){_=[],Mn=Ve.length,At=At!==0?At:Hp;for(var ua=0,en=0;en<Mn;en++)if(sr=en===0?la(G):-gc,Yn=en===0?No(k):ua,en<Mn-1){var uu=B((At-Rr[en])/(Ve[en].split(" ").length-1)),Xn=Ve[en].split(" ");_.push([Xn[0]+" ",Yn,sr]),ua=0;for(var Fr=1;Fr<Xn.length;Fr++){var bc=(ol(Xn[Fr-1]+" "+Xn[Fr])-ol(Xn[Fr]))*Lo+uu;Fr==Xn.length-1?_.push([Xn[Fr],bc,0]):_.push([Xn[Fr]+" ",bc,0]),ua-=bc}}else _.push([Ve[en],Yn,sr]);_.push(["",ua,0])}else{if(ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Mn=Ve.length,At=At!==0?At:Hp,en=0;en<Mn;en++)sr=en===0?la(G):-gc,Yn=en===0?No(k):0,en<Mn-1?$a.push(J(B((At-Rr[en])/(Ve[en].split(" ").length-1)))):$a.push(0),_.push([Ve[en],Yn,sr])}}var $p=typeof te.R2L=="boolean"?te.R2L:ut;$p===!0&&(_=au(_,function(Ai,Ei,tn){return[Ai.split("").reverse().join(""),Ei,tn]})),ke={text:_,x:k,y:G,options:te,mutex:{pdfEscape:or,activeFontKey:Vt,fonts:Ci,activeFontSize:$e}},oi.publish("postProcessText",ke),_=ke.text,co=ke.mutex.isHex||!1;var hu=Ci[Vt].encoding;hu!=="WinAnsiEncoding"&&hu!=="StandardEncoding"||(_=au(_,function(Ai,Ei,tn){return[zp(Ai),Ei,tn]})),Ve=ou(_),_=[];for(var al,sl,Ya,ll=0,_c=1,cl=Array.isArray(Ve[0])?_c:ll,Xa="",pu=function(Ai,Ei,tn){var vn="";return tn instanceof ft?(tn=typeof te.angle=="number"?no(tn,new ft(1,0,0,1,Ai,Ei)):no(new ft(1,0,0,1,Ai,Ei),tn),V===T.ADVANCED&&(tn=no(new ft(1,0,0,-1,0,0),tn)),vn=tn.join(" ")+` Tm
`):vn=J(Ai)+" "+J(Ei)+` Td
`,vn},jr=0;jr<Ve.length;jr++){switch(Xa="",cl){case _c:Ya=(co?"<":"(")+Ve[jr][0]+(co?">":")"),al=parseFloat(Ve[jr][1]),sl=parseFloat(Ve[jr][2]);break;case ll:Ya=(co?"<":"(")+Ve[jr]+(co?">":")"),al=No(k),sl=la(G)}$a!==void 0&&$a[jr]!==void 0&&(Xa=$a[jr]+` Tw
`),jr===0?_.push(Xa+pu(al,sl,Xi)+Ya):cl===ll?_.push(Xa+Ya):cl===_c&&_.push(Xa+pu(al,sl,Xi)+Ya)}_=cl===ll?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Br=`BT
/`;return Br+=Vt+" "+$e+` Tf
`,Br+=J($e*Cr)+` TL
`,Br+=nl+`
`,Br+=yn,Br+=_,X(Br+="ET"),y[Vt]=!0,dn};var zg=g.__private__.clip=g.clip=function(_){return X(_==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return zg("evenodd")},g.__private__.discardPath=g.discardPath=function(){return X("n"),this};var Oo=g.__private__.isValidStyle=function(_){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(k=!0),k};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(_){return Oo(_)&&(c=_),this};var Np=g.__private__.getStyle=g.getStyle=function(_){var k=c;switch(_){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=_}return k},Lp=g.close=function(){return X("h"),this};g.stroke=function(){return X("S"),this},g.fill=function(_){return ac("f",_),this},g.fillEvenOdd=function(_){return ac("f*",_),this},g.fillStroke=function(_){return ac("B",_),this},g.fillStrokeEvenOdd=function(_){return ac("B*",_),this};var ac=function(_,k){bi(k)==="object"?Hg(k,_):X(_)},Xd=function(_){_===null||V===T.ADVANCED&&_===void 0||(_=Np(_),X(_))};function qg(_,k,G,te,he){var ke=new ld(k||this.boundingBox,G||this.xStep,te||this.yStep,this.gState,he||this.matrix);ke.stream=this.stream;var Ve=_+"$$"+this.cloneIndex+++"$$";return rr(Ve,ke),ke}var Hg=function(_,k){var G=Js[_.key],te=ri[G];if(te instanceof Fl)X("q"),X(Gg(k)),te.gState&&g.setGState(te.gState),X(_.matrix.toString()+" cm"),X("/"+G+" sh"),X("Q");else if(te instanceof ld){var he=new ft(1,0,0,-1,0,Ga());_.matrix&&(he=he.multiply(_.matrix||To),G=qg.call(te,_.key,_.boundingBox,_.xStep,_.yStep,he).id),X("q"),X("/Pattern cs"),X("/"+G+" scn"),te.gState&&g.setGState(te.gState),X(k),X("Q")}},Gg=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Zd=g.moveTo=function(_,k){return X(J(B(_))+" "+J(K(k))+" m"),this},tl=g.lineTo=function(_,k){return X(J(B(_))+" "+J(K(k))+" l"),this},qa=g.curveTo=function(_,k,G,te,he,ke){return X([J(B(_)),J(K(k)),J(B(G)),J(K(te)),J(B(he)),J(K(ke)),"c"].join(" ")),this};g.__private__.line=g.line=function(_,k,G,te,he){if(isNaN(_)||isNaN(k)||isNaN(G)||isNaN(te)||!Oo(he))throw new Error("Invalid arguments passed to jsPDF.line");return V===T.COMPAT?this.lines([[G-_,te-k]],_,k,[1,1],he||"S"):this.lines([[G-_,te-k]],_,k,[1,1]).stroke()},g.__private__.lines=g.lines=function(_,k,G,te,he,ke){var Ve,nt,ht,Tt,At,Gt,zi,Xi,dn,jn,yn,co;if(typeof _=="number"&&(co=G,G=k,k=_,_=co),te=te||[1,1],ke=ke||!1,isNaN(k)||isNaN(G)||!Array.isArray(_)||!Array.isArray(te)||!Oo(he)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zd(k,G),Ve=te[0],nt=te[1],Tt=_.length,jn=k,yn=G,ht=0;ht<Tt;ht++)(At=_[ht]).length===2?(jn=At[0]*Ve+jn,yn=At[1]*nt+yn,tl(jn,yn)):(Gt=At[0]*Ve+jn,zi=At[1]*nt+yn,Xi=At[2]*Ve+jn,dn=At[3]*nt+yn,jn=At[4]*Ve+jn,yn=At[5]*nt+yn,qa(Gt,zi,Xi,dn,jn,yn));return ke&&Lp(),Xd(he),this},g.path=function(_){for(var k=0;k<_.length;k++){var G=_[k],te=G.c;switch(G.op){case"m":Zd(te[0],te[1]);break;case"l":tl(te[0],te[1]);break;case"c":qa.apply(this,te);break;case"h":Lp()}}return this},g.__private__.rect=g.rect=function(_,k,G,te,he){if(isNaN(_)||isNaN(k)||isNaN(G)||isNaN(te)||!Oo(he))throw new Error("Invalid arguments passed to jsPDF.rect");return V===T.COMPAT&&(te=-te),X([J(B(_)),J(K(k)),J(B(G)),J(B(te)),"re"].join(" ")),Xd(he),this},g.__private__.triangle=g.triangle=function(_,k,G,te,he,ke,Ve){if(isNaN(_)||isNaN(k)||isNaN(G)||isNaN(te)||isNaN(he)||isNaN(ke)||!Oo(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-_,te-k],[he-G,ke-te],[_-he,k-ke]],_,k,[1,1],Ve,!0),this},g.__private__.roundedRect=g.roundedRect=function(_,k,G,te,he,ke,Ve){if(isNaN(_)||isNaN(k)||isNaN(G)||isNaN(te)||isNaN(he)||isNaN(ke)||!Oo(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*G),ke=Math.min(ke,.5*te),this.lines([[G-2*he,0],[he*nt,0,he,ke-ke*nt,he,ke],[0,te-2*ke],[0,ke*nt,-he*nt,ke,-he,ke],[2*he-G,0],[-he*nt,0,-he,-ke*nt,-he,-ke],[0,2*ke-te],[0,-ke*nt,he*nt,-ke,he,-ke]],_+he,k,[1,1],Ve,!0),this},g.__private__.ellipse=g.ellipse=function(_,k,G,te,he){if(isNaN(_)||isNaN(k)||isNaN(G)||isNaN(te)||!Oo(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*G,Ve=4/3*(Math.SQRT2-1)*te;return Zd(_+G,k),qa(_+G,k-Ve,_+ke,k-te,_,k-te),qa(_-ke,k-te,_-G,k-Ve,_-G,k),qa(_-G,k+Ve,_-ke,k+te,_,k+te),qa(_+ke,k+te,_+G,k+Ve,_+G,k),Xd(he),this},g.__private__.circle=g.circle=function(_,k,G,te){if(isNaN(_)||isNaN(k)||isNaN(G)||!Oo(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,k,G,G,te)},g.setFont=function(_,k,G){return G&&(k=ne(k,G)),Vt=Mp(_,k,{disableWarning:!1}),this};var $g=g.__private__.getFont=g.getFont=function(){return Ci[Mp.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var _,k,G={};for(_ in ji)if(ji.hasOwnProperty(_))for(k in G[_]=[],ji[_])ji[_].hasOwnProperty(k)&&G[_].push(k);return G},g.addFont=function(_,k,G,te,he){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(G=ne(G,te)),he=he||"Identity-H",$d.call(this,_,k,G,he)};var il,Kd=i.lineWidth||.200025,sc=g.__private__.getLineWidth=g.getLineWidth=function(){return Kd},Rp=g.__private__.setLineWidth=g.setLineWidth=function(_){return Kd=_,X(J(B(_))+" w"),this};g.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(_,k){if(_=_||[],k=k||0,isNaN(k)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(G){return J(B(G))}).join(" "),k=J(B(k)),X("["+_+"] "+k+" d"),this};var Fp=g.__private__.getLineHeight=g.getLineHeight=function(){return $e*il};g.__private__.getLineHeight=g.getLineHeight=function(){return $e*il};var jp=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(il=_),this},Bp=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return il};jp(i.lineHeight);var No=g.__private__.getHorizontalCoordinate=function(_){return B(_)},la=g.__private__.getVerticalCoordinate=function(_){return V===T.ADVANCED?_:It[H].mediaBox.topRightY-It[H].mediaBox.bottomLeftY-B(_)},Wg=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(_){return J(No(_))},Ha=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(_){return J(la(_))},lo=i.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return oo(lo)},g.__private__.setStrokeColor=g.setDrawColor=function(_,k,G,te){return lo=ao({ch1:_,ch2:k,ch3:G,ch4:te,pdfColorType:"draw",precision:2}),X(lo),this};var Jd=i.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return oo(Jd)},g.__private__.setFillColor=g.setFillColor=function(_,k,G,te){return Jd=ao({ch1:_,ch2:k,ch3:G,ch4:te,pdfColorType:"fill",precision:2}),X(Jd),this};var nl=i.textColor||"0 g",Yg=g.__private__.getTextColor=g.getTextColor=function(){return oo(nl)};g.__private__.setTextColor=g.setTextColor=function(_,k,G,te){return nl=ao({ch1:_,ch2:k,ch3:G,ch4:te,pdfColorType:"text",precision:3}),this};var lc=i.charSpace,Xg=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(lc||0)};g.__private__.setCharSpace=g.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lc=_,this};var Qd=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(_){var k=g.CapJoinStyles[_];if(k===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qd=k,X(k+" J"),this};var eu=0;g.__private__.setLineJoin=g.setLineJoin=function(_){var k=g.CapJoinStyles[_];if(k===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eu=k,X(k+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(J(B(_))+" M"),this},g.GState=i0,g.setGState=function(_){(_=typeof _=="string"?Wi[io[_]]:Vp(null,_)).equals(oa)||(X("/"+_.id+" gs"),oa=_)};var Vp=function(_,k){if(!_||!io[_]){var G=!1;for(var te in Wi)if(Wi.hasOwnProperty(te)&&Wi[te].equals(k)){G=!0;break}if(G)k=Wi[te];else{var he="GS"+(Object.keys(Wi).length+1).toString(10);Wi[he]=k,k.id=he}return _&&(io[_]=k.id),oi.publish("addGState",k),k}};g.addGState=function(_,k){return Vp(_,k),this},g.saveGraphicsState=function(){return X("q"),Ao.push({key:Vt,size:$e,color:nl}),this},g.restoreGraphicsState=function(){X("Q");var _=Ao.pop();return Vt=_.key,$e=_.size,nl=_.color,oa=null,this},g.setCurrentTransformationMatrix=function(_){return X(_.toString()+" cm"),this},g.comment=function(_){return X("#"+_),this};var cc=function(_,k){var G=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(ke){isNaN(ke)||(G=parseFloat(ke))}});var te=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(ke){isNaN(ke)||(te=parseFloat(ke))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(ke){he=ke.toString()}}),this},tu=function(_,k,G,te){cc.call(this,_,k),this.type="rect";var he=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Ve){isNaN(Ve)||(he=parseFloat(Ve))}});var ke=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Ve){isNaN(Ve)||(ke=parseFloat(Ve))}}),this},iu=function(){this.page=Yi,this.currentPage=H,this.pages=ze.slice(0),this.pagesContext=It.slice(0),this.x=Rn,this.y=Kt,this.matrix=to,this.width=rl(H),this.height=Ga(H),this.outputDestination=Ke,this.id="",this.objectNumber=-1};iu.prototype.restore=function(){Yi=this.page,H=this.currentPage,It=this.pagesContext,ze=this.pages,Rn=this.x,Kt=this.y,to=this.matrix,nu(H,this.width),ru(H,this.height),Ke=this.outputDestination};var Up=function(_,k,G,te,he){ko.push(new iu),Yi=H=0,ze=[],Rn=_,Kt=k,to=he,Wd([G,te])},Zg=function(_){if(Eo[_])ko.pop().restore();else{var k=new iu,G="Xo"+(Object.keys(Tn).length+1).toString(10);k.id=G,Eo[_]=G,Tn[G]=k,oi.publish("addFormObject",k),ko.pop().restore()}};for(var dc in g.beginFormObject=function(_,k,G,te,he){return Up(_,k,G,te,he),this},g.endFormObject=function(_){return Zg(_),this},g.doFormObject=function(_,k){var G=Tn[Eo[_]];return X("q"),X(k.toString()+" cm"),X("/"+G.id+" Do"),X("Q"),this},g.getFormObject=function(_){var k=Tn[Eo[_]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},g.save=function(_,k){return _=_||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(Rl(rc(sa()),_),typeof Rl.unload=="function"&&yt.setTimeout&&setTimeout(Rl.unload,911),this):new Promise(function(G,te){try{var he=Rl(rc(sa()),_);typeof Rl.unload=="function"&&yt.setTimeout&&setTimeout(Rl.unload,911),G(he)}catch(ke){te(ke.message)}})},bt.API)bt.API.hasOwnProperty(dc)&&(dc==="events"&&bt.API.events.length?function(_,k){var G,te,he;for(he=k.length-1;he!==-1;he--)G=k[he][0],te=k[he][1],_.subscribe.apply(_,[G].concat(typeof te=="function"?[te]:te))}(oi,bt.API.events):g[dc]=bt.API[dc]);var rl=g.getPageWidth=function(_){return(It[_=_||H].mediaBox.topRightX-It[_].mediaBox.bottomLeftX)/it},nu=g.setPageWidth=function(_,k){It[_].mediaBox.topRightX=k*it+It[_].mediaBox.bottomLeftX},Ga=g.getPageHeight=function(_){return(It[_=_||H].mediaBox.topRightY-It[_].mediaBox.bottomLeftY)/it},ru=g.setPageHeight=function(_,k){It[_].mediaBox.topRightY=k*it+It[_].mediaBox.bottomLeftY};return g.internal={pdfEscape:or,getStyle:Np,getFont:$g,getFontSize:Qe,getCharSpace:Xg,getTextColor:Yg,getLineHeight:Fp,getLineHeightFactor:Bp,getLineWidth:sc,write:kt,getHorizontalCoordinate:No,getVerticalCoordinate:la,getCoordinateString:Wg,getVerticalCoordinateString:Ha,collections:{},newObject:gn,newAdditionalObject:Zl,newObjectDeferred:cn,newObjectDeferredBegin:xr,getFilters:Mo,putStream:Lr,events:oi,scaleFactor:it,pageSize:{getWidth:function(){return rl(H)},setWidth:function(_){nu(H,_)},getHeight:function(){return Ga(H)},setHeight:function(_){ru(H,_)}},encryptionOptions:u,encryption:Fn,getEncryptor:Vg,output:oc,getNumberOfPages:Lg,pages:ze,out:X,f2:ge,f3:R,getPageInfo:Op,getPageInfoByObjId:St,getCurrentPageInfo:Ug,getPDFVersion:w,Point:cc,Rectangle:tu,Matrix:ft,hasHotfix:Pp},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return rl(H)},set:function(_){nu(H,_)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ga(H)},set:function(_){ru(H,_)},enumerable:!0,configurable:!0}),Og.call(g,Ue),Vt="F1",kp(r,e),oi.publish("initialized"),g}ad.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},ad.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ad.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},ad.prototype.processOwnerPassword=function(i,t){return e1(Q_(t).substr(0,5),i)},ad.prototype.encryptor=function(i,t){var e=Q_(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return e1(e,n)}},i0.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||bi(i)!==bi(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;n++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},bt.API={events:[]},bt.version="2.5.2";var Ki=bt.API,r1=1,Bl=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rd=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(i){return i.toFixed(2)},Ts=function(i){return i.toFixed(5)};Ki.__acroform__={};var mr=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},B5=function(i){return i*r1},Wo=function(i){var t=new iS,e=at.internal.getHeight(i)||0,n=at.internal.getWidth(i)||0;return t.BBox=[0,0,Number(Et(n)),Number(Et(e))],t},rF=Ki.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<t},oF=Ki.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<t)},aF=Ki.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<t?1:0},an=Ki.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aF(i,t-1)},sn=Ki.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rF(i,t-1)},ln=Ki.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oF(i,t-1)},sF=Ki.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,r=i[0],o=i[1],a=i[2],s=i[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=n(o+s)||0,l.upperRight_X=e(r+a)||0,l.upperRight_Y=n(o)||0,[Number(Et(l.lowerLeft_X)),Number(Et(l.lowerLeft_Y)),Number(Et(l.upperRight_X)),Number(Et(l.upperRight_Y))]},lF=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,n=t1(i,e),r=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+r+" "+Et(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Wo(i);return o.scope=i.scope,o.stream=t.join(`
`),o}},t1=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=i.multiline?r.map(function(R){return R.split(`
`)}):r.map(function(R){return[R]});var o=e,a=at.internal.getHeight(i)||0;a=a<0?-a:a;var s=at.internal.getWidth(i)||0;s=s<0?-s:s;var l=function(R,B,Q){if(R+1<r.length){var K=B+" "+r[R+1][0];return Xm(K,i,Q).width<=s-4}return!1};o++;e:for(;o>0;){t="",o--;var c,u,f=Xm("3",i,o).height,y=i.multiline?a-o:(a-f)/2,g=y+=2,S=0,w=0,I=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Xm(t,i,o=12).width+", FieldWidth:"+s+`
`;break}for(var A="",T=0,V=0;V<r.length;V++)if(r.hasOwnProperty(V)){var Z=!1;if(r[V].length!==1&&I!==r[V].length-1){if((f+2)*(T+2)+2>a)continue e;A+=r[V][I],Z=!0,w=V,V--}else{A=(A+=r[V][I]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var $=parseInt(V),ne=l($,A,o),J=V>=r.length-1;if(ne&&!J){A+=" ",I=0;continue}if(ne||J){if(J)w=$;else if(i.multiline&&(f+2)*(T+2)+2>a)continue e}else{if(!i.multiline||(f+2)*(T+2)+2>a)continue e;w=$}}for(var U="",ie=S;ie<=w;ie++){var ge=r[ie];if(i.multiline){if(ie===w){U+=ge[I]+" ",I=(I+1)%ge.length;continue}if(ie===S){U+=ge[ge.length-1]+" ";continue}}U+=ge[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,u=Xm(U,i,o).width,i.textAlign){case"right":c=s-u-2;break;case"center":c=(s-u)/2;break;case"left":default:c=2}t+=Et(c)+" "+Et(g)+` Td
`,t+="("+Bl(U)+`) Tj
`,t+=-Et(c)+` 0 Td
`,g=-(o+2),u=0,S=Z?w:w+1,T++,A=""}break}return n.text=t,n.fontSize=o,n},Xm=function(i,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},cF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dF=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},uF=function(i,t){for(var e in i)if(i.hasOwnProperty(e)){var n=e,r=i[e];t.internal.newObjectDeferredBegin(r.objId,!0),bi(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete i[n]}},hF=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Co.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(cF)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r1=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new nS,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];o.objId=void 0,o.hasAnnotation&&dF(o,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(n,r){var o=!n;for(var a in n||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var s=n[a],l=[],c=s.Rect;if(s.Rect&&(s.Rect=sF(s.Rect,r)),r.internal.newObjectDeferredBegin(s.objId,!0),s.DA=at.createDefaultAppearanceStream(s),bi(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=c,s.hasAppearanceStream&&!s.appearanceStreamContent){var u=lF(s);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(s.appearanceStreamContent){var f="";for(var y in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(y)){var g=s.appearanceStreamContent[y];if(f+="/"+y+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var a in g)if(g.hasOwnProperty(a)){var S=g[a];typeof S=="function"&&(S=S.call(r,s)),f+="/"+a+" "+S+" ",r.internal.acroformPlugin.xForms.indexOf(S)>=0||r.internal.acroformPlugin.xForms.push(S)}}else typeof(S=g)=="function"&&(S=S.call(r,s)),f+="/"+a+" "+S,r.internal.acroformPlugin.xForms.indexOf(S)>=0||r.internal.acroformPlugin.xForms.push(S);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:s.objId}),r.internal.out("endobj")}o&&uF(r.internal.acroformPlugin.xForms,r)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},tS=Ki.__acroform__.arrayToPdfArray=function(i,t,e){var n=function(a){return a};if(Array.isArray(i)){for(var r="[",o=0;o<i.length;o++)switch(o!==0&&(r+=" "),bi(i[o])){case"boolean":case"number":case"object":r+=i[o].toString();break;case"string":i[o].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),r+="("+Bl(n(i[o].toString()))+")"):r+=i[o].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},X_=function(i,t,e){var n=function(r){return r};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(i=i||"").toString(),i="("+Bl(n(i))+")"},Yo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yo.prototype.toString=function(){return this.objId+" 0 R"},Yo.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Yo.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],r=this[n];r&&(Array.isArray(r)?i.push({key:n,value:tS(r,this.objId,this.scope)}):r instanceof Yo?(r.scope=this.scope,i.push({key:n,value:r.objId+" 0 R"})):typeof r!="function"&&i.push({key:n,value:r}))}return i};var iS=function(){Yo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};mr(iS,Yo);var nS=function(){Yo.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Bl(e(i))+")"}},set:function(e){i=e}})};mr(nS,Yo);var Co=function i(){Yo.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');t=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!an(t,3)},set:function(A){A?this.F=sn(t,3):this.F=ln(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');e=A}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(A){n=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(A){n[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(A){n[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(A){n[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(A){n[3]=A}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof n0)return;o="FieldObject"+i.FieldNum++}var A=function(T){return T};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Bl(A(o))+")"},set:function(A){o=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(A){o=A}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(A){a=A}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(A){s=A}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/r1:c},set:function(A){c=A}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof n0||this instanceof jl))return X_(f,this.objId,this.scope)},set:function(A){A=A.toString(),f=A}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof kn?y:X_(y,this.objId,this.scope)},set:function(A){A=A.toString(),y=this instanceof kn?A:A.substr(0,1)==="("?rd(A.substr(1,A.length-2)):rd(A)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn?rd(y.substr(1,y.length-1)):y},set:function(A){A=A.toString(),y=this instanceof kn?"/"+A:A}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof kn?g:X_(g,this.objId,this.scope)},set:function(A){A=A.toString(),g=this instanceof kn?A:A.substr(0,1)==="("?rd(A.substr(1,A.length-2)):rd(A)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn?rd(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof kn?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(A){A=!!A,w=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(A){S=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,1)},set:function(A){A?this.Ff=sn(this.Ff,1):this.Ff=ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,2)},set:function(A){A?this.Ff=sn(this.Ff,2):this.Ff=ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,3)},set:function(A){A?this.Ff=sn(this.Ff,3):this.Ff=ln(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');I=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(I){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};mr(Co,Yo);var cd=function(){Co.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tS(t,this.objId,this.scope)},set:function(e){var n,r;r=[],typeof(n=e)=="string"&&(r=function(o,a,s){s||(s=1);for(var l,c=[];l=a.exec(o);)c.push(l[s]);return c}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,18)},set:function(e){e?this.Ff=sn(this.Ff,18):this.Ff=ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=sn(this.Ff,19):this.Ff=ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,20)},set:function(e){e?(this.Ff=sn(this.Ff,20),t.sort()):this.Ff=ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,22)},set:function(e){e?this.Ff=sn(this.Ff,22):this.Ff=ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,23)},set:function(e){e?this.Ff=sn(this.Ff,23):this.Ff=ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,27)},set:function(e){e?this.Ff=sn(this.Ff,27):this.Ff=ln(this.Ff,27)}}),this.hasAppearanceStream=!1};mr(cd,Co);var dd=function(){cd.call(this),this.fontName="helvetica",this.combo=!1};mr(dd,cd);var ud=function(){dd.call(this),this.combo=!0};mr(ud,dd);var Jm=function(){ud.call(this),this.edit=!0};mr(Jm,ud);var kn=function(){Co.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,15)},set:function(e){e?this.Ff=sn(this.Ff,15):this.Ff=ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,16)},set:function(e){e?this.Ff=sn(this.Ff,16):this.Ff=ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,17)},set:function(e){e?this.Ff=sn(this.Ff,17):this.Ff=ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,26)},set:function(e){e?this.Ff=sn(this.Ff,26):this.Ff=ln(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+Bl(e(t[n]))+")");return r.push(">>"),r.join(`
`)}},set:function(e){bi(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};mr(kn,Co);var Qm=function(){kn.call(this),this.pushButton=!0};mr(Qm,kn);var hd=function(){kn.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};mr(hd,kn);var n0=function(){var i,t;Co.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),n)a.push("/"+o+" ("+Bl(r(n[o]))+")");return a.push(">>"),a.join(`
`)},set:function(r){bi(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mr(n0,Co),hd.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},hd.prototype.createOption=function(i){var t=new n0;return t.Parent=this,t.optionName=i,this.Kids.push(t),pF.call(this.scope,t),t};var e0=function(){kn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};mr(e0,kn);var jl=function(){Co.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,13)},set:function(t){t?this.Ff=sn(this.Ff,13):this.Ff=ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,21)},set:function(t){t?this.Ff=sn(this.Ff,21):this.Ff=ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,23)},set:function(t){t?this.Ff=sn(this.Ff,23):this.Ff=ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,24)},set:function(t){t?this.Ff=sn(this.Ff,24):this.Ff=ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,25)},set:function(t){t?this.Ff=sn(this.Ff,25):this.Ff=ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,26)},set:function(t){t?this.Ff=sn(this.Ff,26):this.Ff=ln(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mr(jl,Co);var t0=function(){jl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!an(this.Ff,14)},set:function(i){i?this.Ff=sn(this.Ff,14):this.Ff=ln(this.Ff,14)}}),this.password=!0};mr(t0,jl);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=Wo(i);t.scope=i.scope;var e=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),o=t1(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+Et(at.internal.getWidth(i))+" "+Et(at.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+Et(o.fontSize)+" Tf "+r),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=Wo(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),r=[],o=at.internal.getHeight(i),a=at.internal.getWidth(i),s=t1(i,i.caption);return r.push("1 g"),r.push("0 0 "+Et(a)+" "+Et(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Et(a-1)+" "+Et(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+Et(s.fontSize)+" Tf "+n),r.push(s.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=Wo(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Et(at.internal.getWidth(i))+" "+Et(at.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=at.RadioButton.Circle.YesNormal,t.D[i]=at.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=Wo(i);t.scope=i.scope;var e=[],n=at.internal.getWidth(i)<=at.internal.getHeight(i)?at.internal.getWidth(i)/4:at.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=at.internal.Bezier_C,o=Number((n*r).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ts(at.internal.getWidth(i)/2)+" "+Ts(at.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Wo(i);t.scope=i.scope;var e=[],n=at.internal.getWidth(i)<=at.internal.getHeight(i)?at.internal.getWidth(i)/4:at.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),o=Number((r*at.internal.Bezier_C).toFixed(5)),a=Number((n*at.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ts(at.internal.getWidth(i)/2)+" "+Ts(at.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ts(at.internal.getWidth(i)/2)+" "+Ts(at.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=Wo(i);t.scope=i.scope;var e=[],n=at.internal.getWidth(i)<=at.internal.getHeight(i)?at.internal.getWidth(i)/4:at.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((2*n).toFixed(5)),o=Number((r*at.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ts(at.internal.getWidth(i)/2)+" "+Ts(at.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=at.RadioButton.Cross.YesNormal,t.D[i]=at.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=Wo(i);t.scope=i.scope;var e=[],n=at.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+Et(at.internal.getWidth(i)-2)+" "+Et(at.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(Et(n.x1.x)+" "+Et(n.x1.y)+" m"),e.push(Et(n.x2.x)+" "+Et(n.x2.y)+" l"),e.push(Et(n.x4.x)+" "+Et(n.x4.y)+" m"),e.push(Et(n.x3.x)+" "+Et(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Wo(i);t.scope=i.scope;var e=at.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(at.internal.getWidth(i))+" "+Et(at.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Et(at.internal.getWidth(i)-2)+" "+Et(at.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(Et(e.x1.x)+" "+Et(e.x1.y)+" m"),n.push(Et(e.x2.x)+" "+Et(e.x2.y)+" l"),n.push(Et(e.x4.x)+" "+Et(e.x4.y)+" m"),n.push(Et(e.x3.x)+" "+Et(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=Wo(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Et(at.internal.getWidth(i))+" "+Et(at.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};at.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=at.internal.getWidth(i),e=at.internal.getHeight(i),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},at.internal.getWidth=function(i){var t=0;return bi(i)==="object"&&(t=B5(i.Rect[2])),t},at.internal.getHeight=function(i){var t=0;return bi(i)==="object"&&(t=B5(i.Rect[3])),t};var pF=Ki.addField=function(i){if(hF(this,i),!(i instanceof Co))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Ki.AcroFormChoiceField=cd,Ki.AcroFormListBox=dd,Ki.AcroFormComboBox=ud,Ki.AcroFormEditBox=Jm,Ki.AcroFormButton=kn,Ki.AcroFormPushButton=Qm,Ki.AcroFormRadioButton=hd,Ki.AcroFormCheckBox=e0,Ki.AcroFormTextField=jl,Ki.AcroFormPasswordField=t0,Ki.AcroFormAppearance=at,Ki.AcroForm={ChoiceField:cd,ListBox:dd,ComboBox:ud,EditBox:Jm,Button:kn,PushButton:Qm,RadioButton:hd,CheckBox:e0,TextField:jl,PasswordField:t0,Appearance:at},bt.AcroForm={ChoiceField:cd,ListBox:dd,ComboBox:ud,EditBox:Jm,Button:kn,PushButton:Qm,RadioButton:hd,CheckBox:e0,TextField:jl,PasswordField:t0,Appearance:at};var xie=bt.AcroForm;function rS(i){return i.reduce(function(t,e,n){return t[e]=n,t},{})}(function(i){i.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=i.__addimage__.getImageFileTypeByImageData=function(R,B){var Q,K,me,pe,xe,fe=t;if((B=B||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(ne(R))for(xe in e)for(me=e[xe],Q=0;Q<me.length;Q+=1){for(pe=!0,K=0;K<me[Q].length;K+=1)if(me[Q][K]!==void 0&&me[Q][K]!==R[K]){pe=!1;break}if(pe===!0){fe=xe;break}}else for(xe in e)for(me=e[xe],Q=0;Q<me.length;Q+=1){for(pe=!0,K=0;K<me[Q].length;K+=1)if(me[Q][K]!==void 0&&me[Q][K]!==R.charCodeAt(K)){pe=!1;break}if(pe===!0){fe=xe;break}}return fe===t&&B!==t&&(fe=B),fe},r=function R(B){for(var Q=this.internal.write,K=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var pe=[];if(pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Image"}),pe.push({key:"Width",value:B.width}),pe.push({key:"Height",value:B.height}),B.colorSpace===I.INDEXED?pe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(pe.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===I.DEVICE_CMYK&&pe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),pe.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&pe.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var xe="",fe=0,Se=B.transparency.length;fe<Se;fe++)xe+=B.transparency[fe]+" "+B.transparency[fe]+" ";pe.push({key:"Mask",value:"["+xe+"]"})}B.sMask!==void 0&&pe.push({key:"SMask",value:B.objectId+1+" 0 R"});var Me=B.filter!==void 0?["/"+B.filter]:void 0;if(K({data:B.data,additionalKeyValues:pe,alreadyAppliedFilters:Me,objectId:B.objectId}),Q("endobj"),"sMask"in B&&B.sMask!==void 0){var Ze="/Predictor "+B.predictor+" /Colors 1 /BitsPerComponent "+B.bitsPerComponent+" /Columns "+B.width,O={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:Ze,data:B.sMask};"filter"in B&&(O.filter=B.filter),R.call(this,O)}if(B.colorSpace===I.INDEXED){var H=this.internal.newObject();K({data:U(new Uint8Array(B.palette)),objectId:H}),Q("endobj")}},o=function(){var R=this.internal.collections.addImage_images;for(var B in R)r.call(this,R[B])},a=function(){var R,B=this.internal.collections.addImage_images,Q=this.internal.write;for(var K in B)Q("/I"+(R=B[K]).index,R.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var R=this.internal.collections.addImage_images;return s.call(this),R},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(R){return typeof i["process"+R.toUpperCase()]=="function"},f=function(R){return bi(R)==="object"&&R.nodeType===1},y=function(R,B){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var Q=""+R.getAttribute("src");if(Q.indexOf("data:image/")===0)return Vh(unescape(Q).split("base64,").pop());var K=i.loadFile(Q,!0);if(K!==void 0)return K}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var me;switch(B){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;case"JPEG":case"JPG":default:me="image/jpeg"}return Vh(R.toDataURL(me,1).split("base64,").pop())}},g=function(R){var B=this.internal.collections.addImage_images;if(B){for(var Q in B)if(R===B[Q].alias)return B[Q]}},S=function(R,B,Q){return R||B||(R=-96,B=-96),R<0&&(R=-1*Q.width*72/R/this.internal.scaleFactor),B<0&&(B=-1*Q.height*72/B/this.internal.scaleFactor),R===0&&(R=B*Q.width/Q.height),B===0&&(B=R*Q.height/Q.width),[R,B]},w=function(R,B,Q,K,me,pe){var xe=S.call(this,Q,K,me),fe=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,Me=l.call(this);if(Q=xe[0],K=xe[1],Me[me.index]=me,pe){pe*=Math.PI/180;var Ze=Math.cos(pe),O=Math.sin(pe),H=function(ee){return ee.toFixed(4)},W=[H(Ze),H(O),H(-1*O),H(Ze),0,0,"cm"]}this.internal.write("q"),pe?(this.internal.write([1,"0","0",1,fe(R),Se(B+K),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([fe(Q),"0","0",fe(K),"0","0","cm"].join(" "))):this.internal.write([fe(Q),"0","0",fe(K),fe(R),Se(B+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},I=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=i.__addimage__.sHashCode=function(R){var B,Q,K=0;if(typeof R=="string")for(Q=R.length,B=0;B<Q;B++)K=(K<<5)-K+R.charCodeAt(B),K|=0;else if(ne(R))for(Q=R.byteLength/2,B=0;B<Q;B++)K=(K<<5)-K+R[B],K|=0;return K},V=i.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var B=!0;return R.length===0&&(B=!1),R.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(B=!1),B},Z=i.__addimage__.extractImageFromDataUrl=function(R){var B=(R=R||"").split("base64,"),Q=null;if(B.length===2){var K=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(B[0]);Array.isArray(K)&&(Q={mimeType:K[1],charset:K[2],data:B[1]})}return Q},$=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(R){return $()&&R instanceof ArrayBuffer};var ne=i.__addimage__.isArrayBufferView=function(R){return $()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},J=i.__addimage__.binaryStringToUint8Array=function(R){for(var B=R.length,Q=new Uint8Array(B),K=0;K<B;K++)Q[K]=R.charCodeAt(K);return Q},U=i.__addimage__.arrayBufferToBinaryString=function(R){for(var B="",Q=ne(R)?R:new Uint8Array(R),K=0;K<Q.length;K+=8192)B+=String.fromCharCode.apply(null,Q.subarray(K,K+8192));return B};i.addImage=function(){var R,B,Q,K,me,pe,xe,fe,Se;if(typeof arguments[1]=="number"?(B=t,Q=arguments[1],K=arguments[2],me=arguments[3],pe=arguments[4],xe=arguments[5],fe=arguments[6],Se=arguments[7]):(B=arguments[1],Q=arguments[2],K=arguments[3],me=arguments[4],pe=arguments[5],xe=arguments[6],fe=arguments[7],Se=arguments[8]),bi(R=arguments[0])==="object"&&!f(R)&&"imageData"in R){var Me=R;R=Me.imageData,B=Me.format||B||t,Q=Me.x||Q||0,K=Me.y||K||0,me=Me.w||Me.width||me,pe=Me.h||Me.height||pe,xe=Me.alias||xe,fe=Me.compression||fe,Se=Me.rotation||Me.angle||Se}var Ze=this.internal.getFilters();if(fe===void 0&&Ze.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(Q)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var O=ie.call(this,R,B,xe,fe);return w.call(this,Q,K,me,pe,O,Se),this};var ie=function(R,B,Q,K){var me,pe,xe;if(typeof R=="string"&&n(R)===t){R=unescape(R);var fe=ge(R,!1);(fe!==""||(fe=i.loadFile(R,!0))!==void 0)&&(R=fe)}if(f(R)&&(R=y(R,B)),B=n(R,B),!u(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((xe=Q)==null||xe.length===0)&&(Q=function(Se){return typeof Se=="string"||ne(Se)?T(Se):ne(Se.data)?T(Se.data):null}(R)),(me=g.call(this,Q))||($()&&(R instanceof Uint8Array||B==="RGBA"||(pe=R,R=J(R))),me=this["process"+B.toUpperCase()](R,c.call(this),Q,function(Se){return Se&&typeof Se=="string"&&(Se=Se.toUpperCase()),Se in i.image_compression?Se:A.NONE}(K),pe)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},ge=i.__addimage__.convertBase64ToBinaryString=function(R,B){var Q;B=typeof B!="boolean"||B;var K,me="";if(typeof R=="string"){K=(Q=Z(R))!==null?Q.data:R;try{me=Vh(K)}catch(pe){if(B)throw V(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+pe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return me};i.getImageProperties=function(R){var B,Q,K="";if(f(R)&&(R=y(R)),typeof R=="string"&&n(R)===t&&((K=ge(R,!1))===""&&(K=i.loadFile(R)||""),R=K),Q=n(R),!u(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!$()||R instanceof Uint8Array||(R=J(R)),!(B=this["process"+Q.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=Q,B}})(bt.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};bt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var n,r,o,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var y=0;y<c.length;y++){n=c[y];var g=this.internal.pdfEscape,S=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(w.objId),T=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+g(A(n.contents))+")",o+=" /Popup "+I.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+g(A(T))+") >>",w.content=o;var V=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+V,n.open&&(o+=" /Open true"),o+=" >>",I.content=o,this.internal.write(w.objId,"0 R",I.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+s(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var Z=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+g(S(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Z+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var $=this.annotations._nameMap[n.options.name];n.options.pageNumber=$.page,n.options.top=$.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+g(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var ne=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+ne+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},i.link=function(e,n,r,o,a){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(e),y:c(n),w:l(e+r),h:c(n+o)},options:a,type:"link"})},i.textWithLink=function(e,n,r,o){var a,s,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){s=o.maxWidth;var u=this.splitTextToSize(e,s).length;a=Math.ceil(c*u)}else s=l,a=c;return this.text(e,n,r,o),r+=.2*c,o.align==="center"&&(n-=l/2),o.align==="right"&&(n-=l),this.link(n,r-c,s,a,o),l},i.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(bt.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];i.__arabicParser__={};var o=i.__arabicParser__.isInArabicSubstitutionA=function(w){return t[w.charCodeAt(0)]!==void 0},a=i.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},s=i.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&o(w)&&t[w.charCodeAt(0)].length<=2},l=i.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&r.indexOf(w.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&o(w)&&t[w.charCodeAt(0)].length>=1};var c=i.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&o(w)&&t[w.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&o(w)&&t[w.charCodeAt(0)].length>=3};var u=i.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&o(w)&&t[w.charCodeAt(0)].length==4},f=i.__arabicParser__.resolveLigatures=function(w){var I=0,A=e,T="",V=0;for(I=0;I<w.length;I+=1)A[w.charCodeAt(I)]!==void 0?(V++,typeof(A=A[w.charCodeAt(I)])=="number"&&(T+=String.fromCharCode(A),A=e,V=0),I===w.length-1&&(A=e,T+=w.charAt(I-(V-1)),I-=V-1,V=0)):(A=e,T+=w.charAt(I-V),I-=V,V=0);return T};i.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var y=i.__arabicParser__.getCorrectForm=function(w,I,A){return a(w)?o(w)===!1?-1:!c(w)||!a(I)&&!a(A)||!a(A)&&s(I)||s(w)&&!a(I)||s(w)&&l(I)||s(w)&&s(I)?0:u(w)&&a(I)&&!s(I)&&a(A)&&c(A)?3:s(w)||!a(A)?1:2:-1},g=function(w){var I=0,A=0,T=0,V="",Z="",$="",ne=(w=w||"").split("\\s+"),J=[];for(I=0;I<ne.length;I+=1){for(J.push(""),A=0;A<ne[I].length;A+=1)V=ne[I][A],Z=ne[I][A-1],$=ne[I][A+1],a(V)?(T=y(V,Z,$),J[I]+=T!==-1?String.fromCharCode(t[V.charCodeAt(0)][T]):V):J[I]+=V;J[I]=f(J[I])}return J.join(" ")},S=i.__arabicParser__.processArabic=i.processArabic=function(){var w,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(I)){var T=0;for(A=[],T=0;T<I.length;T+=1)Array.isArray(I[T])?A.push([g(I[T][0]),I[T][1],I[T][2]]):A.push([g(I[T])]);w=A}else w=g(I);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};i.events.push(["preProcessText",S])}(bt.API),bt.API.autoPrint=function(i){var t;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(s){e=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(s){o=s}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(s){a=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var r;if((e=e||"2d")!=="2d")return null;for(r in n)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=n[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(bt.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(w){y=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(w){S=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},i.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),y=c.scaleFactor||this.internal.scaleFactor,g=0,S=0,w=0,I=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var A=c.maxWidth;A>0?typeof l=="string"?l=this.splitTextToSize(l,A):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(V,Z){return V.concat(I.splitTextToSize(Z,A))},[])):l=Array.isArray(l)?l:[l];for(var T=0;T<l.length;T++)g<(w=this.getStringUnitWidth(l[T],{font:f})*u)&&(g=w);return g!==0&&(S=l.length),{w:g/=y,h:Math.max((S*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/y,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=i.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,g&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};i.table=function(l,c,u,f,y){if(n.call(this),!u)throw new Error("No data for PDF table.");var g,S,w,I,A=[],T=[],V=[],Z={},$={},ne=[],J=[],U=(y=y||{}).autoSize||!1,ie=y.printHeaders!==!1,ge=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,R=y.margins||Object.assign({width:this.getPageWidth()},t),B=typeof y.padding=="number"?y.padding:3,Q=y.headerBackgroundColor||"#c8c8c8",K=y.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=ie,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=ge,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=K,this.setFontSize(ge),f==null)T=A=Object.keys(u[0]),V=A.map(function(){return"left"});else if(Array.isArray(f)&&bi(f[0])==="object")for(A=f.map(function(Me){return Me.name}),T=f.map(function(Me){return Me.prompt||Me.name||""}),V=f.map(function(Me){return Me.align||"left"}),g=0;g<f.length;g+=1)$[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(T=A=f,V=A.map(function(){return"left"}));if(U||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<A.length;g+=1){for(Z[I=A[g]]=u.map(function(Me){return Me[I]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(T[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=Z[I],this.setFont(void 0,"normal"),w=0;w<S.length;w+=1)ne.push(this.getTextDimensions(S[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[I]=Math.max.apply(null,ne)+B+B,ne=[]}if(ie){var me={};for(g=0;g<A.length;g+=1)me[A[g]]={},me[A[g]].text=T[g],me[A[g]].align=V[g];var pe=s.call(this,me,$);J=A.map(function(Me){return new o(l,c,$[Me],pe,me[Me].text,void 0,me[Me].align)}),this.setTableHeaderRow(J),this.printHeaderRow(1,!1)}var xe=f.reduce(function(Me,Ze){return Me[Ze.name]=Ze.align,Me},{});for(g=0;g<u.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:u[g]},this);var fe=s.call(this,u[g],$);for(w=0;w<A.length;w+=1){var Se=u[g][A[w]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:w,data:Se},this),a.call(this,new o(l,c,$[A[w]],fe,Se,g+2,xe[A[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var s=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(g){var S=l[g];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,c[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/y+u+u},this).reduce(function(g,S){return Math.max(g,S)},0)};i.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},i.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,y.push(u)),u.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(S)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),e=!1}}(bt.API);var oS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},aS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],i1=rS(aS),sS=[100,200,300,400,500,600,700,800,900],fF=rS(sS);function n1(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(o){return oS[o=o||"normal"]?o:"normal"}(i.style),n=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(i.weight),r=function(o){return typeof i1[o=o||"normal"]=="number"?o:"normal"}(i.stretch);return{family:t,style:e,weight:n,stretch:r,src:i.src||[],ref:i.ref||{name:t,style:[r,e,n].join(" ")}}}function V5(i,t,e,n){var r;for(r=e;r>=0&&r<t.length;r+=n)if(i[t[r]])return i[t[r]];for(r=e;r>=0&&r<t.length;r-=n)if(i[t[r]])return i[t[r]]}var mF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},U5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function z5(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function gF(i,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},mF,e.genericFontFamilies||{}),o=null,a=null,s=0;s<t.length;++s)if(r[(o=n1(t[s])).family]&&(o.family=r[o.family]),i.hasOwnProperty(o.family)){a=i[o.family];break}if(!(a=a||i[n]))throw new Error("Could not find a font-family for the rule '"+z5(o)+"' and default family '"+n+"'.");if(a=function(l,c){if(c[l])return c[l];var u=i1[l],f=u<=i1.normal?-1:1,y=V5(c,aS,u,f);if(!y)throw new Error("Could not find a matching font-stretch value for "+l);return y}(o.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=oS[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(o.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=fF[l],f=V5(c,sS,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+z5(o)+"'.");return a}function q5(i){return i.trimLeft()}function vF(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function bF(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var Zm,H5,G5,Z_=["times"];(function(i){var t,e,n,r,o,a,s,l,c,u=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new l,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new a,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new a,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=O;Object.defineProperty(this,"pdf",{get:function(){return H}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(Te){W=!!Te}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Te){ee=!!Te}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Te){isNaN(Te)||(se=Te)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(Te){isNaN(Te)||(ye=Te)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Te){var X;typeof Te=="number"?X=[Te,Te,Te,Te]:((X=new Array(4))[0]=Te[0],X[1]=Te.length>=2?Te[1]:X[0],X[2]=Te.length>=3?Te[2]:X[0],X[3]=Te.length>=4?Te[3]:X[1]),c.margin=X}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Te){Ce=Te}});var De=0;Object.defineProperty(this,"lastBreak",{get:function(){return De},set:function(Te){De=Te}});var qe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return qe},set:function(Te){qe=Te}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Te){Te instanceof u&&(c=Te)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Te){c.path=Te}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(Te){ze=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var X;X=y(Te),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var X=y(Te);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var et=null;function Ke(Te,X){if(et===null){var kt=function(lt){var Ue=[];return Object.keys(lt).forEach(function($e){lt[$e].forEach(function(tt){var Qe=null;switch(tt){case"bold":Qe={family:$e,weight:"bold"};break;case"italic":Qe={family:$e,style:"italic"};break;case"bolditalic":Qe={family:$e,weight:"bold",style:"italic"};break;case"":case"normal":Qe={family:$e}}Qe!==null&&(Qe.ref={name:$e,style:tt},Ue.push(Qe))})}),Ue}(Te.getFontList());et=function(lt){for(var Ue={},$e=0;$e<lt.length;++$e){var tt=n1(lt[$e]),Qe=tt.family,ut=tt.stretch,Dt=tt.style,Nt=tt.weight;Ue[Qe]=Ue[Qe]||{},Ue[Qe][ut]=Ue[Qe][ut]||{},Ue[Qe][ut][Dt]=Ue[Qe][ut][Dt]||{},Ue[Qe][ut][Dt][Nt]=tt}return Ue}(kt.concat(X))}return et}var _t=null;Object.defineProperty(this,"fontFaces",{get:function(){return _t},set:function(Te){et=null,_t=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var X;if(this.ctx.font=Te,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var kt=X[1],lt=(X[2],X[3]),Ue=X[4],$e=(X[5],X[6]),tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(tt==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var Qe=function(xt){var Vt,it,Rn=[],Kt=xt.trim();if(Kt==="")return Z_;if(Kt in U5)return[U5[Kt]];for(;Kt!=="";){switch(it=null,Vt=(Kt=q5(Kt)).charAt(0)){case'"':case"'":it=vF(Kt.substring(1),Vt);break;default:it=bF(Kt)}if(it===null||(Rn.push(it[0]),(Kt=q5(it[1]))!==""&&Kt.charAt(0)!==","))return Z_;Kt=Kt.replace(/^,/,"")}return Rn}($e);if(this.fontFaces){var ut=gF(Ke(this.pdf,this.fontFaces),Qe.map(function(xt){return{family:xt,stretch:"normal",weight:lt,style:kt}}));this.pdf.setFont(ut.ref.name,ut.ref.style)}else{var Dt="";(lt==="bold"||parseInt(lt,10)>=700||kt==="bold")&&(Dt="bold"),kt==="italic"&&(Dt+="italic"),Dt.length===0&&(Dt="normal");for(var Nt="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Wt=0;Wt<Qe.length;Wt++){if(this.pdf.internal.getFont(Qe[Wt],Dt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=Qe[Wt];break}if(Dt==="bolditalic"&&this.pdf.internal.getFont(Qe[Wt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=Qe[Wt],Dt="bold";else if(this.pdf.internal.getFont(Qe[Wt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=Qe[Wt],Dt="normal";break}}if(Nt===""){for(var mi=0;mi<Qe.length;mi++)if(Rt[Qe[mi]]){Nt=Rt[Qe[mi]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,Dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,Ze.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,Ze.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};f.prototype.setLineDash=function(O){this.lineDash=O},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){Z.call(this,"fill",!1)},f.prototype.stroke=function(){Z.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(O,H){if(isNaN(O)||isNaN(H))throw Si.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(O,H));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(O,H)},f.prototype.closePath=function(){var O=new a(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&bi(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){O=new a(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(O.x,O.y)},f.prototype.lineTo=function(O,H){if(isNaN(O)||isNaN(H))throw Si.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(O,H));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Z.call(this,null,!0)},f.prototype.quadraticCurveTo=function(O,H,W,ee){if(isNaN(W)||isNaN(ee)||isNaN(O)||isNaN(H))throw Si.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new a(W,ee)),ye=this.ctx.transform.applyToPoint(new a(O,H));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},f.prototype.bezierCurveTo=function(O,H,W,ee,se,ye){if(isNaN(se)||isNaN(ye)||isNaN(O)||isNaN(H)||isNaN(W)||isNaN(ee))throw Si.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new a(se,ye)),De=this.ctx.transform.applyToPoint(new a(O,H)),qe=this.ctx.transform.applyToPoint(new a(W,ee));this.path.push({type:"bct",x1:De.x,y1:De.y,x2:qe.x,y2:qe.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new a(Ce.x,Ce.y)},f.prototype.arc=function(O,H,W,ee,se,ye){if(isNaN(O)||isNaN(H)||isNaN(W)||isNaN(ee)||isNaN(se))throw Si.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new a(O,H));O=Ce.x,H=Ce.y;var De=this.ctx.transform.applyToPoint(new a(0,W)),qe=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(De.x-qe.x,2)+Math.pow(De.y-qe.y,2))}Math.abs(se-ee)>=2*Math.PI&&(ee=0,se=2*Math.PI),this.path.push({type:"arc",x:O,y:H,radius:W,startAngle:ee,endAngle:se,counterclockwise:ye})},f.prototype.arcTo=function(O,H,W,ee,se){throw new Error("arcTo not implemented.")},f.prototype.rect=function(O,H,W,ee){if(isNaN(O)||isNaN(H)||isNaN(W)||isNaN(ee))throw Si.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,H),this.lineTo(O+W,H),this.lineTo(O+W,H+ee),this.lineTo(O,H+ee),this.lineTo(O,H),this.lineTo(O+W,H),this.lineTo(O,H)},f.prototype.fillRect=function(O,H,W,ee){if(isNaN(O)||isNaN(H)||isNaN(W)||isNaN(ee))throw Si.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,H,W,ee),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},f.prototype.strokeRect=function(O,H,W,ee){if(isNaN(O)||isNaN(H)||isNaN(W)||isNaN(ee))throw Si.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(O,H,W,ee),this.stroke())},f.prototype.clearRect=function(O,H,W,ee){if(isNaN(O)||isNaN(H)||isNaN(W)||isNaN(ee))throw Si.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,H,W,ee))},f.prototype.save=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},f.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(H),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(O){var H,W,ee,se;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))H=0,W=0,ee=0,se=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ye!==null)H=parseInt(ye[1]),W=parseInt(ye[2]),ee=parseInt(ye[3]),se=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)H=parseInt(ye[1]),W=parseInt(ye[2]),ee=parseInt(ye[3]),se=parseFloat(ye[4]);else{if(se=1,typeof O=="string"&&O.charAt(0)!=="#"){var Ce=new J5(O);O=Ce.ok?Ce.toHex():"#000000"}O.length===4?(H=O.substring(1,2),H+=H,W=O.substring(2,3),W+=W,ee=O.substring(3,4),ee+=ee):(H=O.substring(1,3),W=O.substring(3,5),ee=O.substring(5,7)),H=parseInt(H,16),W=parseInt(W,16),ee=parseInt(ee,16)}}return{r:H,g:W,b:ee,a:se,style:O}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(O,H,W,ee){if(isNaN(H)||isNaN(W)||typeof O!="string")throw Si.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var se=fe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;B.call(this,{text:O,x:H,y:W,scale:ye,angle:se,align:this.textAlign,maxWidth:ee})}},f.prototype.strokeText=function(O,H,W,ee){if(isNaN(H)||isNaN(W)||typeof O!="string")throw Si.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ee=isNaN(ee)?void 0:ee;var se=fe(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;B.call(this,{text:O,x:H,y:W,scale:ye,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ee})}},f.prototype.measureText=function(O){if(typeof O!="string")throw Si.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,W=this.pdf.internal.scaleFactor,ee=H.internal.getFontSize(),se=H.getStringUnitWidth(O)*ee/H.internal.scaleFactor,ye=function(Ce){var De=(Ce=Ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return De}}),this};return new ye({width:se*=Math.round(96*W/72*1e4)/1e4})},f.prototype.scale=function(O,H){if(isNaN(O)||isNaN(H))throw Si.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new l(O,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.rotate=function(O){if(isNaN(O))throw Si.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function(O,H){if(isNaN(O)||isNaN(H))throw Si.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new l(1,0,0,1,O,H);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.transform=function(O,H,W,ee,se,ye){if(isNaN(O)||isNaN(H)||isNaN(W)||isNaN(ee)||isNaN(se)||isNaN(ye))throw Si.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new l(O,H,W,ee,se,ye);this.ctx.transform=this.ctx.transform.multiply(Ce)},f.prototype.setTransform=function(O,H,W,ee,se,ye){O=isNaN(O)?1:O,H=isNaN(H)?0:H,W=isNaN(W)?0:W,ee=isNaN(ee)?1:ee,se=isNaN(se)?0:se,ye=isNaN(ye)?0:ye,this.ctx.transform=new l(O,H,W,ee,se,ye)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(O,H,W,ee,se,ye,Ce,De,qe){var ze=this.pdf.getImageProperties(O),et=1,Ke=1,_t=1,Te=1;ee!==void 0&&De!==void 0&&(_t=De/ee,Te=qe/se,et=ze.width/ee*De/ee,Ke=ze.height/se*qe/se),ye===void 0&&(ye=H,Ce=W,H=0,W=0),ee!==void 0&&De===void 0&&(De=ee,qe=se),ee===void 0&&De===void 0&&(De=ze.width,qe=ze.height);for(var X,kt=this.ctx.transform.decompose(),lt=fe(kt.rotate.shx),Ue=new l,$e=(Ue=(Ue=(Ue=Ue.multiply(kt.translate)).multiply(kt.skew)).multiply(kt.scale)).applyToRectangle(new s(ye-H*_t,Ce-W*Te,ee*et,se*Ke)),tt=I.call(this,$e),Qe=[],ut=0;ut<tt.length;ut+=1)Qe.indexOf(tt[ut])===-1&&Qe.push(tt[ut]);if(V(Qe),this.autoPaging)for(var Dt=Qe[0],Nt=Qe[Qe.length-1],Rt=Dt;Rt<Nt+1;Rt++){this.pdf.setPage(Rt);var Wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mi=Rt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Rt===1?0:xt+(Rt-2)*Vt;if(this.ctx.clip_path.length!==0){var Rn=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(X,this.posX+this.margin[3],-it+mi+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=Rn}var Kt=JSON.parse(JSON.stringify($e));Kt=T([Kt],this.posX+this.margin[3],-it+mi+this.ctx.prevPageLastElemOffset)[0];var to=(Rt>Dt||Rt<Nt)&&w.call(this);to&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Vt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,lt),to&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,lt)};var I=function(O,H,W){var ee=[];H=H||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ee.push(Math.floor((O.y+se)/W)+1);break;case"arc":ee.push(Math.floor((O.y+se-O.radius)/W)+1),ee.push(Math.floor((O.y+se+O.radius)/W)+1);break;case"qct":var ye=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ee.push(Math.floor((ye.y+se)/W)+1),ee.push(Math.floor((ye.y+ye.h+se)/W)+1);break;case"bct":var Ce=Me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ee.push(Math.floor((Ce.y+se)/W)+1),ee.push(Math.floor((Ce.y+Ce.h+se)/W)+1);break;case"rect":ee.push(Math.floor((O.y+se)/W)+1),ee.push(Math.floor((O.y+O.h+se)/W)+1)}for(var De=0;De<ee.length;De+=1)for(;this.pdf.internal.getNumberOfPages()<ee[De];)A.call(this);return ee},A=function(){var O=this.fillStyle,H=this.strokeStyle,W=this.font,ee=this.lineCap,se=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=H,this.font=W,this.lineCap=ee,this.lineWidth=se,this.lineJoin=ye},T=function(O,H,W){for(var ee=0;ee<O.length;ee++)switch(O[ee].type){case"bct":O[ee].x2+=H,O[ee].y2+=W;case"qct":O[ee].x1+=H,O[ee].y1+=W;case"mt":case"lt":case"arc":default:O[ee].x+=H,O[ee].y+=W}return O},V=function(O){return O.sort(function(H,W){return H-W})},Z=function(O,H){for(var W,ee,se=this.fillStyle,ye=this.strokeStyle,Ce=this.lineCap,De=this.lineWidth,qe=Math.abs(De*this.ctx.transform.scaleX),ze=this.lineJoin,et=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),_t=[],Te=0;Te<Ke.length;Te++)if(Ke[Te].x!==void 0)for(var X=I.call(this,Ke[Te]),kt=0;kt<X.length;kt+=1)_t.indexOf(X[kt])===-1&&_t.push(X[kt]);for(var lt=0;lt<_t.length;lt++)for(;this.pdf.internal.getNumberOfPages()<_t[lt];)A.call(this);if(V(_t),this.autoPaging)for(var Ue=_t[0],$e=_t[_t.length-1],tt=Ue;tt<$e+1;tt++){this.pdf.setPage(tt),this.fillStyle=se,this.strokeStyle=ye,this.lineCap=Ce,this.lineWidth=qe,this.lineJoin=ze;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=tt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rt=tt===1?0:Dt+(tt-2)*Nt;if(this.ctx.clip_path.length!==0){var Wt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(W,this.posX+this.margin[3],-Rt+ut+this.ctx.prevPageLastElemOffset),$.call(this,O,!0),this.path=Wt}if(ee=JSON.parse(JSON.stringify(et)),this.path=T(ee,this.posX+this.margin[3],-Rt+ut+this.ctx.prevPageLastElemOffset),H===!1||tt===0){var mi=(tt>Ue||tt<$e)&&w.call(this);mi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Nt,null).clip().discardPath()),$.call(this,O,H),mi&&this.pdf.restoreGraphicsState()}this.lineWidth=De}else this.lineWidth=qe,$.call(this,O,H),this.lineWidth=De;this.path=et},$=function(O,H){if((O!=="stroke"||H||!S.call(this))&&(O==="stroke"||H||!g.call(this))){for(var W,ee,se=[],ye=this.path,Ce=0;Ce<ye.length;Ce++){var De=ye[Ce];switch(De.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:De,deltas:[],abs:[]});break;case"lt":var qe=se.length;if(ye[Ce-1]&&!isNaN(ye[Ce-1].x)&&(W=[De.x-ye[Ce-1].x,De.y-ye[Ce-1].y],qe>0)){for(;qe>=0;qe--)if(se[qe-1].close!==!0&&se[qe-1].begin!==!0){se[qe-1].deltas.push(W),se[qe-1].abs.push(De);break}}break;case"bct":W=[De.x1-ye[Ce-1].x,De.y1-ye[Ce-1].y,De.x2-ye[Ce-1].x,De.y2-ye[Ce-1].y,De.x-ye[Ce-1].x,De.y-ye[Ce-1].y],se[se.length-1].deltas.push(W);break;case"qct":var ze=ye[Ce-1].x+2/3*(De.x1-ye[Ce-1].x),et=ye[Ce-1].y+2/3*(De.y1-ye[Ce-1].y),Ke=De.x+2/3*(De.x1-De.x),_t=De.y+2/3*(De.y1-De.y),Te=De.x,X=De.y;W=[ze-ye[Ce-1].x,et-ye[Ce-1].y,Ke-ye[Ce-1].x,_t-ye[Ce-1].y,Te-ye[Ce-1].x,X-ye[Ce-1].y],se[se.length-1].deltas.push(W);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(De)}}ee=H?null:O==="stroke"?"stroke":"fill";for(var kt=!1,lt=0;lt<se.length;lt++)if(se[lt].arc)for(var Ue=se[lt].abs,$e=0;$e<Ue.length;$e++){var tt=Ue[$e];tt.type==="arc"?U.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,H,!kt):Q.call(this,tt.x,tt.y),kt=!0}else if(se[lt].close===!0)this.pdf.internal.out("h"),kt=!1;else if(se[lt].begin!==!0){var Qe=se[lt].start.x,ut=se[lt].start.y;K.call(this,se[lt].deltas,Qe,ut),kt=!0}ee&&ie.call(this,ee),H&&ge.call(this)}},ne=function(O){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-W;case"top":return O+H-W;case"hanging":return O+H-2*W;case"middle":return O+H/2-W;case"ideographic":return O;case"alphabetic":default:return O}},J=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(H,W){this.colorStops.push([H,W])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(O,H,W,ee,se,ye,Ce,De,qe){for(var ze=pe.call(this,W,ee,se,ye),et=0;et<ze.length;et++){var Ke=ze[et];et===0&&(qe?R.call(this,Ke.x1+O,Ke.y1+H):Q.call(this,Ke.x1+O,Ke.y1+H)),me.call(this,O,H,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}De?ge.call(this):ie.call(this,Ce)},ie=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ge=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(O,H){this.pdf.internal.out(e(O)+" "+n(H)+" m")},B=function(O){var H;switch(O.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var W=this.pdf.getTextDimensions(O.text),ee=ne.call(this,O.y),se=J.call(this,ee)-W.h,ye=this.ctx.transform.applyToPoint(new a(O.x,ee)),Ce=this.ctx.transform.decompose(),De=new l;De=(De=(De=De.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var qe,ze,et,Ke=this.ctx.transform.applyToRectangle(new s(O.x,ee,W.w,W.h)),_t=De.applyToRectangle(new s(O.x,se,W.w,W.h)),Te=I.call(this,_t),X=[],kt=0;kt<Te.length;kt+=1)X.indexOf(Te[kt])===-1&&X.push(Te[kt]);if(V(X),this.autoPaging)for(var lt=X[0],Ue=X[X.length-1],$e=lt;$e<Ue+1;$e++){this.pdf.setPage($e);var tt=$e===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[2],Dt=ut-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],Rt=Nt-this.margin[3],Wt=$e===1?0:Qe+($e-2)*Dt;if(this.ctx.clip_path.length!==0){var mi=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(qe,this.posX+this.margin[3],-1*Wt+tt),$.call(this,"fill",!0),this.path=mi}var xt=T([JSON.parse(JSON.stringify(_t))],this.posX+this.margin[3],-Wt+tt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*O.scale),et=this.lineWidth,this.lineWidth=et*O.scale);var Vt=this.autoPaging!=="text";if(Vt||xt.y+xt.h<=ut){if(Vt||xt.y>=tt&&xt.x<=Nt){var it=Vt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Nt-xt.x)[0],Rn=T([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Wt+tt+this.ctx.prevPageLastElemOffset)[0],Kt=Vt&&($e>lt||$e<Ue)&&w.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,Dt,null).clip().discardPath()),this.pdf.text(it,Rn.x,Rn.y,{angle:O.angle,align:H,renderingMode:O.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else xt.y<ut&&(this.ctx.prevPageLastElemOffset+=ut-xt.y);O.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=et)}else O.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*O.scale),et=this.lineWidth,this.lineWidth=et*O.scale),this.pdf.text(O.text,ye.x+this.posX,ye.y+this.posY,{angle:O.angle,align:H,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=et)},Q=function(O,H,W,ee){W=W||0,ee=ee||0,this.pdf.internal.out(e(O+W)+" "+n(H+ee)+" l")},K=function(O,H,W){return this.pdf.lines(O,H,W,null,null)},me=function(O,H,W,ee,se,ye,Ce,De){this.pdf.internal.out([t(r(W+O)),t(o(ee+H)),t(r(se+O)),t(o(ye+H)),t(r(Ce+O)),t(o(De+H)),"c"].join(" "))},pe=function(O,H,W,ee){for(var se=2*Math.PI,ye=Math.PI/2;H>W;)H-=se;var Ce=Math.abs(W-H);Ce<se&&ee&&(Ce=se-Ce);for(var De=[],qe=ee?-1:1,ze=H;Ce>1e-5;){var et=ze+qe*Math.min(Ce,ye);De.push(xe.call(this,O,ze,et)),Ce-=Math.abs(et-ze),ze=et}return De},xe=function(O,H,W){var ee=(W-H)/2,se=O*Math.cos(ee),ye=O*Math.sin(ee),Ce=se,De=-ye,qe=Ce*Ce+De*De,ze=qe+Ce*se+De*ye,et=4/3*(Math.sqrt(2*qe*ze)-ze)/(Ce*ye-De*se),Ke=Ce-et*De,_t=De+et*Ce,Te=Ke,X=-_t,kt=ee+H,lt=Math.cos(kt),Ue=Math.sin(kt);return{x1:O*Math.cos(H),y1:O*Math.sin(H),x2:Ke*lt-_t*Ue,y2:Ke*Ue+_t*lt,x3:Te*lt-X*Ue,y3:Te*Ue+X*lt,x4:O*Math.cos(W),y4:O*Math.sin(W)}},fe=function(O){return 180*O/Math.PI},Se=function(O,H,W,ee,se,ye){var Ce=O+.5*(W-O),De=H+.5*(ee-H),qe=se+.5*(W-se),ze=ye+.5*(ee-ye),et=Math.min(O,se,Ce,qe),Ke=Math.max(O,se,Ce,qe),_t=Math.min(H,ye,De,ze),Te=Math.max(H,ye,De,ze);return new s(et,_t,Ke-et,Te-_t)},Me=function(O,H,W,ee,se,ye,Ce,De){var qe,ze,et,Ke,_t,Te,X,kt,lt,Ue,$e,tt,Qe,ut,Dt=W-O,Nt=ee-H,Rt=se-W,Wt=ye-ee,mi=Ce-se,xt=De-ye;for(ze=0;ze<41;ze++)lt=(X=(et=O+(qe=ze/40)*Dt)+qe*((_t=W+qe*Rt)-et))+qe*(_t+qe*(se+qe*mi-_t)-X),Ue=(kt=(Ke=H+qe*Nt)+qe*((Te=ee+qe*Wt)-Ke))+qe*(Te+qe*(ye+qe*xt-Te)-kt),ze==0?($e=lt,tt=Ue,Qe=lt,ut=Ue):($e=Math.min($e,lt),tt=Math.min(tt,Ue),Qe=Math.max(Qe,lt),ut=Math.max(ut,Ue));return new s(Math.round($e),Math.round(tt),Math.round(Qe-$e),Math.round(ut-tt))},Ze=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,H,W=(O=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:H}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(bt.API),function(i){var t=function(o){var a,s,l,c,u,f,y,g,S,w;for(/[^\x00-\xFF]/.test(o),s=[],l=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(u=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(w=u%85))/85)-(S=u%85))/85)-(g=u%85))/85)-(y=u%85))/85)%85,s.push(f+33,y+33,g+33,S+33,w+33)):s.push(122);return function(I,A){for(var T=A;T>0;T--)I.pop()}(s,a.length),String.fromCharCode.apply(String,s)+"~>"},e=function(o){var a,s,l,c,u,f=String,y="length",g=255,S="charCodeAt",w="slice",I="replace";for(o[w](-2),o=o[w](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),l=[],c=0,u=(o+=a="uuuuu"[w](o[y]%5||5))[y];u>c;c+=5)s=52200625*(o[S](c)-33)+614125*(o[S](c+1)-33)+7225*(o[S](c+2)-33)+85*(o[S](c+3)-33)+(o[S](c+4)-33),l.push(g&s>>24,g&s>>16,g&s>>8,g&s);return function(A,T){for(var V=T;V>0;V--)A.pop()}(l,a[y]),f.fromCharCode.apply(f,l)},n=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var s="",l=0;l<o.length;l+=2)s+=String.fromCharCode("0x"+(o[l]+o[l+1]));return s},r=function(o){for(var a=new Uint8Array(o.length),s=o.length;s--;)a[s]=o.charCodeAt(s);return o=(a=Wm(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};i.processDataByFilters=function(o,a){var s=0,l=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),s=0;s<a.length;s+=1)switch(a[s]){case"ASCII85Decode":case"/ASCII85Decode":l=e(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[s]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(bt.API),function(i){i.loadFile=function(t,e,n){return function(r,o,a){o=o!==!1,a=typeof a=="function"?a:function(){};var s=void 0;try{s=function(l,c,u){var f=new XMLHttpRequest,y=0,g=function(S){var w=S.length,I=[],A=String.fromCharCode;for(y=0;y<w;y+=1)I.push(A(255&S.charCodeAt(y)));return I.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(g(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return g(f.responseText)}(r,o,a)}catch{}return s}(t,e,n)},i.loadImageFile=i.loadFile}(bt.API),function(i){function t(){return(yt.html2canvas?Promise.resolve(yt.html2canvas):import("./chunk-WIELM4ZQ.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(yt.DOMPurify?Promise.resolve(yt.DOMPurify):import("./chunk-VU7IBUSQ.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var s=bi(a);return s==="undefined"?"undefined":s==="string"||a instanceof String?"string":s==="number"||a instanceof Number?"number":s==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":s==="object"?"object":"unknown"},r=function(a,s){var l=document.createElement(a);for(var c in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[c]=s.style[c];return l},o=function a(s){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(s)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,s){return a.__proto__=s||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,s){return this.then(function(){switch(s=s||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(l){return this.set({src:r("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),y=c.firstChild;y;y=y.nextSibling)u!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||f.appendChild(l(y,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(s){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var y=0;y<c.length;++y){var g=c[y],S=g.src.find(function(w){return w.format==="truetype"});S&&l.addFont(S.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,s):this.outputPdf(a,s)},o.prototype.outputPdf=function(a,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,s)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var s=Object.keys(a||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(s)})},o.prototype.get=function(a,s){return this.then(function(){var l=a in o.template.prop?this.prop[a]:this.opt[a];return s?s(l):l})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function s(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:s(a.inner.width,a.k),height:s(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,s,l,c){return a!=null&&(this.progress.val=a),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,s,l,c){return this.setProgress(a?this.progress.val+a:null,s||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,s){var l=this;return this.thenCore(a,s,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},o.prototype.thenCore=function(a,s,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),s&&(s=s.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,s);return o.convert(u,this.__proto__)},o.prototype.thenExternal=function(a,s){return Promise.prototype.then.call(this,a,s)},o.prototype.thenList=function(a){var s=this;return a.forEach(function(l){s=s.thenCore(l)}),s},o.prototype.catch=function(a){a&&(a=a.bind(this));var s=Promise.prototype.catch.call(this,a);return o.convert(s,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,bt.getPageSize=function(a,s,l){if(bi(a)==="object"){var c=a;a=c.orientation,s=c.unit||s,l=c.format||l}s=s||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+s}var g,S=0,w=0;if(y.hasOwnProperty(f))S=y[f][1]/u,w=y[f][0]/u;else try{S=l[1],w=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",w>S&&(g=w,w=S,S=g);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",S>w&&(g=w,w=S,S=g)}return{width:w,height:S,unit:s,k:u,orientation:a}},i.html=function(a,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(n1):null;var l=new o(s);return s.worker?l:l.from(a).doCallback()}}(bt.API),bt.API.addJS=function(i){return G5=i,this.internal.events.subscribe("postPutResources",function(){Zm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),H5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+G5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zm!==void 0&&H5!==void 0&&this.internal.out("/Names <</JavaScript "+Zm+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),o=0;o<r.length;o++){var a=r[o],s=n.exec(a);if(s!=null){var l=s[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var f=e.internal.newObject();u.push(f);var y=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<u.length;o++)e.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+g+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,r,o){var a={title:r,options:o,children:[]};return n==null&&(n=this.root),n.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var r=0;r<n.children.length;r++)this.genIds_r(n.children[r])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var a=n.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var l=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,r){for(var o=0;o<r.children.length;o++)n.count++,this.count_r(n,r.children[o]);return n.count}}])}(bt.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,n,r,o,a,s){var l,c=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(l=function(f){for(var y,g=256*f.charCodeAt(4)+f.charCodeAt(5),S=f.length,w={width:0,height:0,numcomponents:1},I=4;I<S;I+=2){if(I+=g,t.indexOf(f.charCodeAt(I+1))!==-1){y=256*f.charCodeAt(I+5)+f.charCodeAt(I+6),w={width:256*f.charCodeAt(I+7)+f.charCodeAt(I+8),height:y,numcomponents:f.charCodeAt(I+9)};break}g=256*f.charCodeAt(I+2)+f.charCodeAt(I+3)}return w}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}u={data:e,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:c,index:n,alias:r}}return u}}(bt.API);var od,Km,$5,W5,Y5,_F=function(){var i,t,e;function n(o){var a,s,l,c,u,f,y,g,S,w,I,A,T,V;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),S=function(){var Z,$;for($=[],Z=0;Z<4;++Z)$.push(String.fromCharCode(this.data[this.pos++]));return $}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,a-=4),o=f?.data||this.imgData,A=0;0<=a?A<a:A>a;0<=a?++A:--A)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((w=l-this.transparency.indexed.length)>0)for(T=0;0<=w?T<w:T>w;0<=w?++T:--T)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(I=this.read(a)).indexOf(0),g=String.fromCharCode.apply(String,I.slice(0,y)),this.text[g]=String.fromCharCode.apply(String,I.slice(y+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(V=this.colorType)===4||V===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(o){var a,s;for(s=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)s.push(this.data[this.pos++]);return s},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(o){var a=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*a),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function u(f,y,g,S){var w,I,A,T,V,Z,$,ne,J,U,ie,ge,R,B,Q,K,me,pe,xe,fe,Se,Me=Math.ceil((c.width-f)/g),Ze=Math.ceil((c.height-y)/S),O=c.width==Me&&c.height==Ze;for(B=a*Me,ge=O?s:new Uint8Array(B*Ze),Z=o.length,R=0,I=0;R<Ze&&l<Z;){switch(o[l++]){case 0:for(T=me=0;me<B;T=me+=1)ge[I++]=o[l++];break;case 1:for(T=pe=0;pe<B;T=pe+=1)w=o[l++],V=T<a?0:ge[I-a],ge[I++]=(w+V)%256;break;case 2:for(T=xe=0;xe<B;T=xe+=1)w=o[l++],A=(T-T%a)/a,Q=R&&ge[(R-1)*B+A*a+T%a],ge[I++]=(Q+w)%256;break;case 3:for(T=fe=0;fe<B;T=fe+=1)w=o[l++],A=(T-T%a)/a,V=T<a?0:ge[I-a],Q=R&&ge[(R-1)*B+A*a+T%a],ge[I++]=(w+Math.floor((V+Q)/2))%256;break;case 4:for(T=Se=0;Se<B;T=Se+=1)w=o[l++],A=(T-T%a)/a,V=T<a?0:ge[I-a],R===0?Q=K=0:(Q=ge[(R-1)*B+A*a+T%a],K=A&&ge[(R-1)*B+(A-1)*a+T%a]),$=V+Q-K,ne=Math.abs($-V),U=Math.abs($-Q),ie=Math.abs($-K),J=ne<=U&&ne<=ie?V:U<=ie?Q:K,ge[I++]=(w+J)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!O){var H=((y+R*S)*c.width+f)*a,W=R*B;for(T=0;T<Me;T+=1){for(var ee=0;ee<a;ee+=1)s[H++]=ge[W++];H+=(g-1)*a}}R++}}return o=N5(o),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),s},n.prototype.decodePalette=function(){var o,a,s,l,c,u,f,y,g;for(s=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+s.length),l=0,o=0,a=f=0,y=s.length;f<y;a=f+=3)c[l++]=s[a],c[l++]=s[a+1],c[l++]=s[a+2],c[l++]=(g=u[o++])!=null?g:255;return c},n.prototype.copyToImageData=function(o,a){var s,l,c,u,f,y,g,S,w,I,A;if(l=this.colors,w=null,s=this.hasAlphaChannel,this.palette.length&&(w=(A=this._decodedPalette)!=null?A:this._decodedPalette=this.decodePalette(),l=4,s=!0),S=(c=o.data||o).length,f=w||a,u=y=0,l===1)for(;u<S;)g=w?4*a[u/4]:y,I=f[g++],c[u++]=I,c[u++]=I,c[u++]=I,c[u++]=s?f[g++]:255,y=g;else for(;u<S;)g=w?4*a[u/4]:y,c[u++]=f[g++],c[u++]=f[g++],c[u++]=f[g++],c[u++]=s?f[g++]:255,y=g},n.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var r=function(){if(Object.prototype.toString.call(yt)==="[object Window]"){try{t=yt.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),i=function(o){var a;if(r()===!0)return e.width=o.width,e.height=o.height,e.clearRect(0,0,o.width,o.height),e.putImageData(o,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(o){var a,s,l,c,u,f,y,g;if(this.animation){for(g=[],s=u=0,f=(y=this.animation.frames).length;u<f;s=++u)a=y[s],l=o.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,g.push(a.image=i(l));return g}},n.prototype.renderFrame=function(o,a){var s,l,c;return s=(l=this.animation.frames)[a],c=l[a-1],a===0&&o.clearRect(0,0,this.width,this.height),c?.disposeOp===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),s.blendOp===0&&o.clearRect(s.xOffset,s.yOffset,s.width,s.height),o.drawImage(s.image,s.xOffset,s.yOffset)},n.prototype.animate=function(o){var a,s,l,c,u,f,y=this;return s=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(a=function(){var g,S;if(g=s++%c,S=l[g],y.renderFrame(o,g),c>1&&s/c<u)return y.animation._timeout=setTimeout(a,S.delay)})()},n.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},n.prototype.render=function(o){var a,s;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,a=o.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(s=a.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),a.putImageData(s,0,0))},n}();function yF(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,n=i[t++]|i[t++]<<8,r=i[t++],o=r>>7,a=1<<(7&r)+1;i[t++],i[t++];var s=null,l=null;o&&(s=t,l=a,t+=3*a);var c=!0,u=[],f=0,y=null,g=0,S=null;for(this.width=e,this.height=n;c&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,S=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((R=i[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var w=i[t++];f=i[t++]|i[t++]<<8,y=i[t++],!(1&w)&&(y=null),g=w>>2&7,t++;break;case 254:for(;;){if(!((R=i[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var I=i[t++]|i[t++]<<8,A=i[t++]|i[t++]<<8,T=i[t++]|i[t++]<<8,V=i[t++]|i[t++]<<8,Z=i[t++],$=Z>>6&1,ne=1<<(7&Z)+1,J=s,U=l,ie=!1;Z>>7&&(ie=!0,J=t,U=ne,t+=3*ne);var ge=t;for(t++;;){var R;if(!((R=i[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}u.push({x:I,y:A,width:T,height:V,has_local_palette:ie,palette_offset:J,palette_size:U,data_offset:ge,data_length:t-ge,transparent_index:y,interlaced:!!$,delay:f,disposal:g});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return S},this.frameInfo=function(B){if(B<0||B>=u.length)throw new Error("Frame index out of range.");return u[B]},this.decodeAndBlitFrameBGRA=function(B,Q){var K=this.frameInfo(B),me=K.width*K.height,pe=new Uint8Array(me);X5(i,K.data_offset,pe,me);var xe=K.palette_offset,fe=K.transparent_index;fe===null&&(fe=256);var Se=K.width,Me=e-Se,Ze=Se,O=4*(K.y*e+K.x),H=4*((K.y+K.height)*e+K.x),W=O,ee=4*Me;K.interlaced===!0&&(ee+=4*e*7);for(var se=8,ye=0,Ce=pe.length;ye<Ce;++ye){var De=pe[ye];if(Ze===0&&(Ze=Se,(W+=ee)>=H&&(ee=4*Me+4*e*(se-1),W=O+(Se+Me)*(se<<1),se>>=1)),De===fe)W+=4;else{var qe=i[xe+3*De],ze=i[xe+3*De+1],et=i[xe+3*De+2];Q[W++]=et,Q[W++]=ze,Q[W++]=qe,Q[W++]=255}--Ze}},this.decodeAndBlitFrameRGBA=function(B,Q){var K=this.frameInfo(B),me=K.width*K.height,pe=new Uint8Array(me);X5(i,K.data_offset,pe,me);var xe=K.palette_offset,fe=K.transparent_index;fe===null&&(fe=256);var Se=K.width,Me=e-Se,Ze=Se,O=4*(K.y*e+K.x),H=4*((K.y+K.height)*e+K.x),W=O,ee=4*Me;K.interlaced===!0&&(ee+=4*e*7);for(var se=8,ye=0,Ce=pe.length;ye<Ce;++ye){var De=pe[ye];if(Ze===0&&(Ze=Se,(W+=ee)>=H&&(ee=4*Me+4*e*(se-1),W=O+(Se+Me)*(se<<1),se>>=1)),De===fe)W+=4;else{var qe=i[xe+3*De],ze=i[xe+3*De+1],et=i[xe+3*De+2];Q[W++]=qe,Q[W++]=ze,Q[W++]=et,Q[W++]=255}--Ze}}}function X5(i,t,e,n){for(var r=i[t++],o=1<<r,a=o+1,s=a+1,l=r+1,c=(1<<l)-1,u=0,f=0,y=0,g=i[t++],S=new Int32Array(4096),w=null;;){for(;u<16&&g!==0;)f|=i[t++]<<u,u+=8,g===1?g=i[t++]:--g;if(u<l)break;var I=f&c;if(f>>=l,u-=l,I!==o){if(I===a)break;for(var A=I<s?I:w,T=0,V=A;V>o;)V=S[V]>>8,++T;var Z=V;if(y+T+(A!==I?1:0)>n)return void Si.log("Warning, gif stream longer than expected.");e[y++]=Z;var $=y+=T;for(A!==I&&(e[y++]=Z),V=A;T--;)V=S[V],e[--$]=255&V,V>>=8;w!==null&&s<4096&&(S[s++]=w<<8|Z,s>=c+1&&l<12&&(++l,c=c<<1|1)),w=I}else s=a+1,c=(1<<(l=r+1))-1,w=null}return y!==n&&Si.log("Warning, gif stream shorter than expected."),e}function K_(i){var t,e,n,r,o,a=Math.floor,s=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),y=new Array(65535),g=new Array(64),S=new Array(64),w=[],I=0,A=7,T=new Array(64),V=new Array(64),Z=new Array(64),$=new Array(256),ne=new Array(2048),J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function pe(O,H){for(var W=0,ee=0,se=new Array,ye=1;ye<=16;ye++){for(var Ce=1;Ce<=O[ye];Ce++)se[H[ee]]=[],se[H[ee]][0]=W,se[H[ee]][1]=ye,ee++,W++;W*=2}return se}function xe(O){for(var H=O[0],W=O[1]-1;W>=0;)H&1<<W&&(I|=1<<A),W--,--A<0&&(I==255?(fe(255),fe(0)):fe(I),A=7,I=0)}function fe(O){w.push(O)}function Se(O){fe(O>>8&255),fe(255&O)}function Me(O,H,W,ee,se){for(var ye,Ce=se[0],De=se[240],qe=function(Ue,$e){var tt,Qe,ut,Dt,Nt,Rt,Wt,mi,xt,Vt,it=0;for(xt=0;xt<8;++xt){tt=Ue[it],Qe=Ue[it+1],ut=Ue[it+2],Dt=Ue[it+3],Nt=Ue[it+4],Rt=Ue[it+5],Wt=Ue[it+6];var Rn=tt+(mi=Ue[it+7]),Kt=tt-mi,to=Qe+Wt,Ci=Qe-Wt,ji=ut+Rt,Ao=ut-Rt,ri=Dt+Nt,Js=Dt-Nt,Wi=Rn+ri,io=Rn-ri,oa=to+ji,Yi=to-ji;Ue[it]=Wi+oa,Ue[it+4]=Wi-oa;var It=.707106781*(Yi+io);Ue[it+2]=io+It,Ue[it+6]=io-It;var oi=.382683433*((Wi=Js+Ao)-(Yi=Ci+Kt)),Qs=.5411961*Wi+oi,Tn=1.306562965*Yi+oi,Eo=.707106781*(oa=Ao+Ci),ko=Kt+Eo,ft=Kt-Eo;Ue[it+5]=ft+Qs,Ue[it+3]=ft-Qs,Ue[it+1]=ko+Tn,Ue[it+7]=ko-Tn,it+=8}for(it=0,xt=0;xt<8;++xt){tt=Ue[it],Qe=Ue[it+8],ut=Ue[it+16],Dt=Ue[it+24],Nt=Ue[it+32],Rt=Ue[it+40],Wt=Ue[it+48];var no=tt+(mi=Ue[it+56]),To=tt-mi,rr=Qe+Wt,gn=Qe-Wt,cn=ut+Rt,xr=ut-Rt,Zl=Dt+Nt,aa=Dt-Nt,ro=no+Zl,oo=no-Zl,ao=rr+cn,Mo=rr-cn;Ue[it]=ro+ao,Ue[it+32]=ro-ao;var Lr=.707106781*(Mo+oo);Ue[it+16]=oo+Lr,Ue[it+48]=oo-Lr;var Po=.382683433*((ro=aa+xr)-(Mo=gn+To)),el=.5411961*ro+Po,Kl=1.306562965*Mo+Po,Jl=.707106781*(ao=xr+gn),Ql=To+Jl,ec=To-Jl;Ue[it+40]=ec+el,Ue[it+24]=ec-el,Ue[it+8]=Ql+Kl,Ue[it+56]=Ql-Kl,it++}for(xt=0;xt<64;++xt)Vt=Ue[xt]*$e[xt],g[xt]=Vt>0?Vt+.5|0:Vt-.5|0;return g}(O,H),ze=0;ze<64;++ze)S[J[ze]]=qe[ze];var et=S[0]-W;W=S[0],et==0?xe(ee[0]):(xe(ee[y[ye=32767+et]]),xe(f[ye]));for(var Ke=63;Ke>0&&S[Ke]==0;)Ke--;if(Ke==0)return xe(Ce),W;for(var _t,Te=1;Te<=Ke;){for(var X=Te;S[Te]==0&&Te<=Ke;)++Te;var kt=Te-X;if(kt>=16){_t=kt>>4;for(var lt=1;lt<=_t;++lt)xe(De);kt&=15}ye=32767+S[Te],xe(se[(kt<<4)+y[ye]]),xe(f[ye]),Te++}return Ke!=63&&xe(Ce),W}function Ze(O){O=Math.min(Math.max(O,1),100),o!=O&&(function(H){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var se=a((W[ee]*H+50)/100);se=Math.min(Math.max(se,1),255),s[J[ee]]=se}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var De=a((ye[Ce]*H+50)/100);De=Math.min(Math.max(De,1),255),l[J[Ce]]=De}for(var qe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,et=0;et<8;et++)for(var Ke=0;Ke<8;Ke++)c[ze]=1/(s[J[ze]]*qe[et]*qe[Ke]*8),u[ze]=1/(l[J[ze]]*qe[et]*qe[Ke]*8),ze++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),o=O)}this.encode=function(O,H){H&&Ze(H),w=new Array,I=0,A=7,Se(65496),Se(65504),Se(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Se(1),Se(1),fe(0),fe(0),function(){Se(65499),Se(132),fe(0);for(var Qe=0;Qe<64;Qe++)fe(s[Qe]);fe(1);for(var ut=0;ut<64;ut++)fe(l[ut])}(),function(Qe,ut){Se(65472),Se(17),fe(8),Se(ut),Se(Qe),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}(O.width,O.height),function(){Se(65476),Se(418),fe(0);for(var Qe=0;Qe<16;Qe++)fe(U[Qe+1]);for(var ut=0;ut<=11;ut++)fe(ie[ut]);fe(16);for(var Dt=0;Dt<16;Dt++)fe(ge[Dt+1]);for(var Nt=0;Nt<=161;Nt++)fe(R[Nt]);fe(1);for(var Rt=0;Rt<16;Rt++)fe(B[Rt+1]);for(var Wt=0;Wt<=11;Wt++)fe(Q[Wt]);fe(17);for(var mi=0;mi<16;mi++)fe(K[mi+1]);for(var xt=0;xt<=161;xt++)fe(me[xt])}(),Se(65498),Se(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var W=0,ee=0,se=0;I=0,A=7,this.encode.displayName="_encode_";for(var ye,Ce,De,qe,ze,et,Ke,_t,Te,X=O.data,kt=O.width,lt=O.height,Ue=4*kt,$e=0;$e<lt;){for(ye=0;ye<Ue;){for(ze=Ue*$e+ye,Ke=-1,_t=0,Te=0;Te<64;Te++)et=ze+(_t=Te>>3)*Ue+(Ke=4*(7&Te)),$e+_t>=lt&&(et-=Ue*($e+1+_t-lt)),ye+Ke>=Ue&&(et-=ye+Ke-Ue+4),Ce=X[et++],De=X[et++],qe=X[et++],T[Te]=(ne[Ce]+ne[De+256>>0]+ne[qe+512>>0]>>16)-128,V[Te]=(ne[Ce+768>>0]+ne[De+1024>>0]+ne[qe+1280>>0]>>16)-128,Z[Te]=(ne[Ce+1280>>0]+ne[De+1536>>0]+ne[qe+1792>>0]>>16)-128;W=Me(T,c,W,t,n),ee=Me(V,u,ee,e,r),se=Me(Z,u,se,e,r),ye+=32}$e+=8}if(A>=0){var tt=[];tt[1]=A+1,tt[0]=(1<<A+1)-1,xe(tt)}return Se(65497),new Uint8Array(w)},i=i||50,function(){for(var O=String.fromCharCode,H=0;H<256;H++)$[H]=O(H)}(),t=pe(U,ie),e=pe(B,Q),n=pe(ge,R),r=pe(K,me),function(){for(var O=1,H=2,W=1;W<=15;W++){for(var ee=O;ee<H;ee++)y[32767+ee]=W,f[32767+ee]=[],f[32767+ee][1]=W,f[32767+ee][0]=ee;for(var se=-(H-1);se<=-O;se++)y[32767+se]=W,f[32767+se]=[],f[32767+se][1]=W,f[32767+se][0]=H-1+se;O<<=1,H<<=1}}(),function(){for(var O=0;O<256;O++)ne[O]=19595*O,ne[O+256>>0]=38470*O,ne[O+512>>0]=7471*O+32768,ne[O+768>>0]=-11059*O,ne[O+1024>>0]=-21709*O,ne[O+1280>>0]=32768*O+8421375,ne[O+1536>>0]=-27439*O,ne[O+1792>>0]=-5329*O}(),Ze(i)}function xo(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Z5(i){function t(U){if(!U)throw Error("assert :P")}function e(U,ie,ge){for(var R=0;4>R;R++)if(U[ie+R]!=ge.charCodeAt(R))return!0;return!1}function n(U,ie,ge,R,B){for(var Q=0;Q<B;Q++)U[ie+Q]=ge[R+Q]}function r(U,ie,ge,R){for(var B=0;B<R;B++)U[ie+B]=ge}function o(U){return new Int32Array(U)}function a(U,ie){for(var ge=[],R=0;R<U;R++)ge.push(new ie);return ge}function s(U,ie){var ge=[];return function R(B,Q,K){for(var me=K[Q],pe=0;pe<me&&(B.push(K.length>Q+1?[]:new ie),!(K.length<Q+1));pe++)R(B[pe],Q+1,K)}(ge,0,U),ge}var l=function(){var U=this;function ie(d,m){for(var x=1<<m-1>>>0;d&x;)x>>>=1;return x?(d&x-1)+x:d}function ge(d,m,x,D,E){t(!(D%x));do d[m+(D-=x)]=E;while(0<D)}function R(d,m,x,D,E){if(t(2328>=E),512>=E)var P=o(512);else if((P=o(E))==null)return 0;return function(N,L,F,z,re,ve){var be,ce,Re=L,Ee=1<<F,oe=o(16),ae=o(16);for(t(re!=0),t(z!=null),t(N!=null),t(0<F),ce=0;ce<re;++ce){if(15<z[ce])return 0;++oe[z[ce]]}if(oe[0]==re)return 0;for(ae[1]=0,be=1;15>be;++be){if(oe[be]>1<<be)return 0;ae[be+1]=ae[be]+oe[be]}for(ce=0;ce<re;++ce)be=z[ce],0<z[ce]&&(ve[ae[be]++]=ce);if(ae[15]==1)return(z=new B).g=0,z.value=ve[0],ge(N,Re,1,Ee,z),Ee;var Ne,je=-1,Le=Ee-1,rt=0,We=1,pt=1,Je=1<<F;for(ce=0,be=1,re=2;be<=F;++be,re<<=1){if(We+=pt<<=1,0>(pt-=oe[be]))return 0;for(;0<oe[be];--oe[be])(z=new B).g=be,z.value=ve[ce++],ge(N,Re+rt,re,Je,z),rt=ie(rt,be)}for(be=F+1,re=2;15>=be;++be,re<<=1){if(We+=pt<<=1,0>(pt-=oe[be]))return 0;for(;0<oe[be];--oe[be]){if(z=new B,(rt&Le)!=je){for(Re+=Je,Ne=1<<(je=be)-F;15>je&&!(0>=(Ne-=oe[je]));)++je,Ne<<=1;Ee+=Je=1<<(Ne=je-F),N[L+(je=rt&Le)].g=Ne+F,N[L+je].value=Re-L-je}z.g=be-F,z.value=ve[ce++],ge(N,Re+(rt>>F),re,Je,z),rt=ie(rt,be)}}return We!=2*ae[15]-1?0:Ee}(d,m,x,D,E,P)}function B(){this.value=this.g=0}function Q(){this.value=this.g=0}function K(){this.G=a(5,B),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Mn,Q)}function me(d,m,x,D){t(d!=null),t(m!=null),t(2147483648>D),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=m,d.pa=x,d.Jd=m,d.Yc=x+D,d.Zc=4<=D?x+D-4+1:x,ye(d)}function pe(d,m){for(var x=0;0<m--;)x|=De(d,128)<<m;return x}function xe(d,m){var x=pe(d,m);return Ce(d)?-x:x}function fe(d,m,x,D){var E,P=0;for(t(d!=null),t(m!=null),t(4294967288>D),d.Sb=D,d.Ra=0,d.u=0,d.h=0,4<D&&(D=4),E=0;E<D;++E)P+=m[x+E]<<8*E;d.Ra=P,d.bb=D,d.oa=m,d.pa=x}function Se(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<mc-8>>>0,++d.bb,d.u-=8;W(d)&&(d.h=1,d.u=0)}function Me(d,m){if(t(0<=m),!d.h&&m<=fc){var x=H(d)&pc[m];return d.u+=m,Se(d),x}return d.h=1,d.u=0}function Ze(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(d){return d.Ra>>>(d.u&mc-1)>>>0}function W(d){return t(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>mc}function ee(d,m){d.u=m,d.h=W(d)}function se(d){d.u>=cu&&(t(d.u>=cu),Se(d))}function ye(d){t(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(t(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function Ce(d){return pe(d,1)}function De(d,m){var x=d.Ca;0>d.b&&ye(d);var D=d.b,E=x*m>>>8,P=(d.I>>>D>E)+0;for(P?(x-=E,d.I-=E+1<<D>>>0):x=E+1,D=x,E=0;256<=D;)E+=8,D>>=8;return D=7^E+ar[D],d.b-=D,d.Ca=(x<<D)-1,P}function qe(d,m,x){d[m+0]=x>>24&255,d[m+1]=x>>16&255,d[m+2]=x>>8&255,d[m+3]=x>>0&255}function ze(d,m){return d[m+0]<<0|d[m+1]<<8}function et(d,m){return ze(d,m)|d[m+2]<<16}function Ke(d,m){return ze(d,m)|ze(d,m+2)<<16}function _t(d,m){var x=1<<m;return t(d!=null),t(0<m),d.X=o(x),d.X==null?0:(d.Mb=32-m,d.Xa=m,1)}function Te(d,m){t(d!=null),t(m!=null),t(d.Xa==m.Xa),n(m.X,0,d.X,0,1<<m.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function kt(d,m,x,D){t(x!=null),t(D!=null);var E=x[0],P=D[0];return E==0&&(E=(d*P+m/2)/m),P==0&&(P=(m*E+d/2)/d),0>=E||0>=P?0:(x[0]=E,D[0]=P,1)}function lt(d,m){return d+(1<<m)-1>>>m}function Ue(d,m){return((4278255360&d)+(4278255360&m)>>>0&4278255360)+((16711935&d)+(16711935&m)>>>0&16711935)>>>0}function $e(d,m){U[m]=function(x,D,E,P,N,L,F){var z;for(z=0;z<N;++z){var re=U[d](L[F+z-1],E,P+z);L[F+z]=Ue(x[D+z],re)}}}function tt(){this.ud=this.hd=this.jd=0}function Qe(d,m){return((4278124286&(d^m))>>>1)+(d&m)>>>0}function ut(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function Dt(d,m){return ut(d+(d-m+.5>>1))}function Nt(d,m,x){return Math.abs(m-x)-Math.abs(d-x)}function Rt(d,m,x,D,E,P,N){for(D=P[N-1],x=0;x<E;++x)P[N+x]=D=Ue(d[m+x],D)}function Wt(d,m,x,D,E){var P;for(P=0;P<x;++P){var N=d[m+P],L=N>>8&255,F=16711935&(F=(F=16711935&N)+((L<<16)+L));D[E+P]=(4278255360&N)+F>>>0}}function mi(d,m){m.jd=d>>0&255,m.hd=d>>8&255,m.ud=d>>16&255}function xt(d,m,x,D,E,P){var N;for(N=0;N<D;++N){var L=m[x+N],F=L>>>8,z=L,re=255&(re=(re=L>>>16)+((d.jd<<24>>24)*(F<<24>>24)>>>5));z=255&(z=(z=z+((d.hd<<24>>24)*(F<<24>>24)>>>5))+((d.ud<<24>>24)*(re<<24>>24)>>>5)),E[P+N]=(4278255360&L)+(re<<16)+z}}function Vt(d,m,x,D,E){U[m]=function(P,N,L,F,z,re,ve,be,ce){for(F=ve;F<be;++F)for(ve=0;ve<ce;++ve)z[re++]=E(L[D(P[N++])])},U[d]=function(P,N,L,F,z,re,ve){var be=8>>P.b,ce=P.Ea,Re=P.K[0],Ee=P.w;if(8>be)for(P=(1<<P.b)-1,Ee=(1<<be)-1;N<L;++N){var oe,ae=0;for(oe=0;oe<ce;++oe)oe&P||(ae=D(F[z++])),re[ve++]=E(Re[ae&Ee]),ae>>=be}else U["VP8LMapColor"+x](F,z,Re,Ee,re,ve,N,L,ce)}}function it(d,m,x,D,E){for(x=m+x;m<x;){var P=d[m++];D[E++]=P>>16&255,D[E++]=P>>8&255,D[E++]=P>>0&255}}function Rn(d,m,x,D,E){for(x=m+x;m<x;){var P=d[m++];D[E++]=P>>16&255,D[E++]=P>>8&255,D[E++]=P>>0&255,D[E++]=P>>24&255}}function Kt(d,m,x,D,E){for(x=m+x;m<x;){var P=(N=d[m++])>>16&240|N>>12&15,N=N>>0&240|N>>28&15;D[E++]=P,D[E++]=N}}function to(d,m,x,D,E){for(x=m+x;m<x;){var P=(N=d[m++])>>16&248|N>>13&7,N=N>>5&224|N>>3&31;D[E++]=P,D[E++]=N}}function Ci(d,m,x,D,E){for(x=m+x;m<x;){var P=d[m++];D[E++]=P>>0&255,D[E++]=P>>8&255,D[E++]=P>>16&255}}function ji(d,m,x,D,E,P){if(P==0)for(x=m+x;m<x;)qe(D,((P=d[m++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),E+=32;else n(D,E,d,m,x)}function Ao(d,m){U[m][0]=U[d+"0"],U[m][1]=U[d+"1"],U[m][2]=U[d+"2"],U[m][3]=U[d+"3"],U[m][4]=U[d+"4"],U[m][5]=U[d+"5"],U[m][6]=U[d+"6"],U[m][7]=U[d+"7"],U[m][8]=U[d+"8"],U[m][9]=U[d+"9"],U[m][10]=U[d+"10"],U[m][11]=U[d+"11"],U[m][12]=U[d+"12"],U[m][13]=U[d+"13"],U[m][14]=U[d+"0"],U[m][15]=U[d+"0"]}function ri(d){return d==ev||d==tv||d==Qp||d==iv}function Js(){this.eb=[],this.size=this.A=this.fb=0}function Wi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function io(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Js,this.f.kb=new Wi,this.sd=null}function oa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function oi(d,m){var x=d.T,D=m.ba.f.RGBA,E=D.eb,P=D.fb+d.ka*D.A,N=Ur[m.ba.S],L=d.y,F=d.O,z=d.f,re=d.N,ve=d.ea,be=d.W,ce=m.cc,Re=m.dc,Ee=m.Mc,oe=m.Nc,ae=d.ka,Ne=d.ka+d.T,je=d.U,Le=je+1>>1;for(ae==0?N(L,F,null,null,z,re,ve,be,z,re,ve,be,E,P,null,null,je):(N(m.ec,m.fc,L,F,ce,Re,Ee,oe,z,re,ve,be,E,P-D.A,E,P,je),++x);ae+2<Ne;ae+=2)ce=z,Re=re,Ee=ve,oe=be,re+=d.Rc,be+=d.Rc,P+=2*D.A,N(L,(F+=2*d.fa)-d.fa,L,F,ce,Re,Ee,oe,z,re,ve,be,E,P-D.A,E,P,je);return F+=d.fa,d.j+Ne<d.o?(n(m.ec,m.fc,L,F,je),n(m.cc,m.dc,z,re,Le),n(m.Mc,m.Nc,ve,be,Le),x--):1&Ne||N(L,F,null,null,z,re,ve,be,z,re,ve,be,E,P+D.A,null,null,je),x}function Qs(d,m,x){var D=d.F,E=[d.J];if(D!=null){var P=d.U,N=m.ba.S,L=N==Jp||N==Qp;m=m.ba.f.RGBA;var F=[0],z=d.ka;F[0]=d.T,d.Kb&&(z==0?--F[0]:(--z,E[0]-=d.width),d.j+d.ka+d.T==d.o&&(F[0]=d.o-d.j-z));var re=m.eb;z=m.fb+z*m.A,d=Ei(D,E[0],d.width,P,F,re,z+(L?0:3),m.A),t(x==F),d&&ri(N)&&Br(re,z,L,P,F,m.A)}return 0}function Tn(d){var m=d.ma,x=m.ba.S,D=11>x,E=x==Zp||x==Kp||x==Jp||x==Qg||x==12||ri(x);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!su(m.Oa,d,E?11:12))return 0;if(E&&ri(x)&&Ve(),d.da)alert("todo:use_scaling");else{if(D){if(m.Ib=It,d.Kb){if(x=d.U+1>>1,m.memory=o(d.U+2*x),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+d.U,m.Mc=m.cc,m.Nc=m.dc+x,m.Ib=oi,Ve()}}else alert("todo:EmitYUV");E&&(m.Jb=Qs,D&&he())}if(D&&!Jy){for(d=0;256>d;++d)l3[d]=89858*(d-128)+tf>>ef,u3[d]=-22014*(d-128)+tf,d3[d]=-45773*(d-128),c3[d]=113618*(d-128)+tf>>ef;for(d=gu;d<ov;++d)m=76283*(d-16)+tf>>ef,h3[d-gu]=Cr(m,255),p3[d-gu]=Cr(m+8>>4,15);Jy=1}return 1}function Eo(d){var m=d.ma,x=d.U,D=d.T;return t(!(1&d.ka)),0>=x||0>=D?0:(x=m.Ib(d,m),m.Jb!=null&&m.Jb(d,m,x),m.Dc+=x,1)}function ko(d){d.ma.memory=null}function ft(d,m,x,D){return Me(d,8)!=47?0:(m[0]=Me(d,14)+1,x[0]=Me(d,14)+1,D[0]=Me(d,1),Me(d,3)!=0?0:!d.h)}function no(d,m){if(4>d)return d+1;var x=d-2>>1;return(2+(1&d)<<x)+Me(m,x)+1}function To(d,m){return 120<m?m-120:1<=(x=((x=YE[m-1])>>4)*d+(8-(15&x)))?x:1;var x}function rr(d,m,x){var D=H(x),E=d[m+=255&D].g-8;return 0<E&&(ee(x,x.u+8),D=H(x),m+=d[m].value,m+=D&(1<<E)-1),ee(x,x.u+d[m].g),d[m].value}function gn(d,m,x){return x.g+=d.g,x.value+=d.value<<m>>>0,t(8>=x.g),d.g}function cn(d,m,x){var D=d.xc;return t((m=D==0?0:d.vc[d.md*(x>>D)+(m>>D)])<d.Wb),d.Ya[m]}function xr(d,m,x,D){var E=d.ab,P=d.c*m,N=d.C;m=N+m;var L=x,F=D;for(D=d.Ta,x=d.Ua;0<E--;){var z=d.gc[E],re=N,ve=m,be=L,ce=F,Re=(F=D,L=x,z.Ea);switch(t(re<ve),t(ve<=z.nc),z.hc){case 2:qp(be,ce,(ve-re)*Re,F,L);break;case 0:var Ee=re,oe=ve,ae=F,Ne=L,je=(Je=z).Ea;Ee==0&&(Kg(be,ce,null,null,1,ae,Ne),Rt(be,ce+1,0,0,je-1,ae,Ne+1),ce+=je,Ne+=je,++Ee);for(var Le=1<<Je.b,rt=Le-1,We=lt(je,Je.b),pt=Je.K,Je=Je.w+(Ee>>Je.b)*We;Ee<oe;){var Qt=pt,hi=Je,Yt=1;for(du(be,ce,ae,Ne-je,1,ae,Ne);Yt<je;){var zt=(Yt&~rt)+Le;zt>je&&(zt=je),(0,$a[Qt[hi++]>>8&15])(be,ce+ +Yt,ae,Ne+Yt-je,zt-Yt,ae,Ne+Yt),Yt=zt}ce+=je,Ne+=je,++Ee&rt||(Je+=We)}ve!=z.nc&&n(F,L-Re,F,L+(ve-re-1)*Re,Re);break;case 1:for(Re=be,oe=ce,je=(be=z.Ea)-(Ne=be&~(ae=(ce=1<<z.b)-1)),Ee=lt(be,z.b),Le=z.K,z=z.w+(re>>z.b)*Ee;re<ve;){for(rt=Le,We=z,pt=new tt,Je=oe+Ne,Qt=oe+be;oe<Je;)mi(rt[We++],pt),ol(pt,Re,oe,ce,F,L),oe+=ce,L+=ce;oe<Qt&&(mi(rt[We++],pt),ol(pt,Re,oe,je,F,L),oe+=je,L+=je),++re&ae||(z+=Ee)}break;case 3:if(be==F&&ce==L&&0<z.b){for(oe=F,be=Re=L+(ve-re)*Re-(Ne=(ve-re)*lt(z.Ea,z.b)),ce=F,ae=L,Ee=[],Ne=(je=Ne)-1;0<=Ne;--Ne)Ee[Ne]=ce[ae+Ne];for(Ne=je-1;0<=Ne;--Ne)oe[be+Ne]=Ee[Ne];Rr(z,re,ve,F,Re,F,L)}else Rr(z,re,ve,be,ce,F,L)}L=D,F=x}F!=x&&n(D,x,L,F,P)}function Zl(d,m){var x=d.V,D=d.Ba+d.c*d.C,E=m-d.C;if(t(m<=d.l.o),t(16>=E),0<E){var P=d.l,N=d.Ta,L=d.Ua,F=P.width;if(xr(d,E,x,D),E=L=[L],t((x=d.C)<(D=m)),t(P.v<P.va),D>P.o&&(D=P.o),x<P.j){var z=P.j-x;x=P.j,E[0]+=z*F}if(x>=D?x=0:(E[0]+=4*P.v,P.ka=x-P.j,P.U=P.va-P.v,P.T=D-x,x=1),x){if(L=L[0],11>(x=d.ca).S){var re=x.f.RGBA,ve=(D=x.S,E=P.U,P=P.T,z=re.eb,re.A),be=P;for(re=re.fb+d.Ma*re.A;0<be--;){var ce=N,Re=L,Ee=E,oe=z,ae=re;switch(D){case Xp:sr(ce,Re,Ee,oe,ae);break;case Zp:Yn(ce,Re,Ee,oe,ae);break;case ev:Yn(ce,Re,Ee,oe,ae),Br(oe,ae,0,Ee,1,0);break;case zy:da(ce,Re,Ee,oe,ae);break;case Kp:ji(ce,Re,Ee,oe,ae,1);break;case tv:ji(ce,Re,Ee,oe,ae,1),Br(oe,ae,0,Ee,1,0);break;case Jp:ji(ce,Re,Ee,oe,ae,0);break;case Qp:ji(ce,Re,Ee,oe,ae,0),Br(oe,ae,1,Ee,1,0);break;case Qg:Wa(ce,Re,Ee,oe,ae);break;case iv:Wa(ce,Re,Ee,oe,ae),Ai(oe,ae,Ee,1,0);break;case qy:ca(ce,Re,Ee,oe,ae);break;default:t(0)}L+=F,re+=ve}d.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");t(d.Ma<=x.height)}}d.C=m,t(d.C<=d.i)}function aa(d){var m;if(0<d.ua)return 0;for(m=0;m<d.Wb;++m){var x=d.Ya[m].G,D=d.Ya[m].H;if(0<x[1][D[1]+0].g||0<x[2][D[2]+0].g||0<x[3][D[3]+0].g)return 0}return 1}function ro(d,m,x,D,E,P){if(d.Z!=0){var N=d.qd,L=d.rd;for(t(Ka[d.Z]!=null);m<x;++m)Ka[d.Z](N,L,D,E,D,E,P),N=D,L=E,E+=P;d.qd=N,d.rd=L}}function oo(d,m){var x=d.l.ma,D=x.Z==0||x.Z==1?d.l.j:d.C;if(D=d.C<D?D:d.C,t(m<=d.l.o),m>D){var E=d.l.width,P=x.ca,N=x.tb+E*D,L=d.V,F=d.Ba+d.c*D,z=d.gc;t(d.ab==1),t(z[0].hc==3),Hp(z[0],D,m,L,F,P,N),ro(x,D,m,P,N,E)}d.C=d.Ma=m}function ao(d,m,x,D,E,P,N){var L=d.$/D,F=d.$%D,z=d.m,re=d.s,ve=x+d.$,be=ve;E=x+D*E;var ce=x+D*P,Re=280+re.ua,Ee=d.Pb?L:16777216,oe=0<re.ua?re.Wa:null,ae=re.wc,Ne=ve<ce?cn(re,F,L):null;t(d.C<P),t(ce<=E);var je=!1;e:for(;;){for(;je||ve<ce;){var Le=0;if(L>=Ee){var rt=ve-x;t((Ee=d).Pb),Ee.wd=Ee.m,Ee.xd=rt,0<Ee.s.ua&&Te(Ee.s.Wa,Ee.s.vb),Ee=L+ZE}if(F&ae||(Ne=cn(re,F,L)),t(Ne!=null),Ne.Qb&&(m[ve]=Ne.qb,je=!0),!je)if(se(z),Ne.jc){Le=z,rt=m;var We=ve,pt=Ne.pd[H(Le)&Mn-1];t(Ne.jc),256>pt.g?(ee(Le,Le.u+pt.g),rt[We]=pt.value,Le=0):(ee(Le,Le.u+pt.g-256),t(256<=pt.value),Le=pt.value),Le==0&&(je=!0)}else Le=rr(Ne.G[0],Ne.H[0],z);if(z.h)break;if(je||256>Le){if(!je)if(Ne.nd)m[ve]=(Ne.qb|Le<<8)>>>0;else{if(se(z),je=rr(Ne.G[1],Ne.H[1],z),se(z),rt=rr(Ne.G[2],Ne.H[2],z),We=rr(Ne.G[3],Ne.H[3],z),z.h)break;m[ve]=(We<<24|je<<16|Le<<8|rt)>>>0}if(je=!1,++ve,++F>=D&&(F=0,++L,N!=null&&L<=P&&!(L%16)&&N(d,L),oe!=null))for(;be<ve;)Le=m[be++],oe.X[(506832829*Le&4294967295)>>>oe.Mb]=Le}else if(280>Le){if(Le=no(Le-256,z),rt=rr(Ne.G[4],Ne.H[4],z),se(z),rt=To(D,rt=no(rt,z)),z.h)break;if(ve-x<rt||E-ve<Le)break e;for(We=0;We<Le;++We)m[ve+We]=m[ve+We-rt];for(ve+=Le,F+=Le;F>=D;)F-=D,++L,N!=null&&L<=P&&!(L%16)&&N(d,L);if(t(ve<=E),F&ae&&(Ne=cn(re,F,L)),oe!=null)for(;be<ve;)Le=m[be++],oe.X[(506832829*Le&4294967295)>>>oe.Mb]=Le}else{if(!(Le<Re))break e;for(je=Le-280,t(oe!=null);be<ve;)Le=m[be++],oe.X[(506832829*Le&4294967295)>>>oe.Mb]=Le;Le=ve,t(!(je>>>(rt=oe).Xa)),m[Le]=rt.X[je],je=!0}je||t(z.h==W(z))}if(d.Pb&&z.h&&ve<E)t(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&Te(d.s.vb,d.s.Wa);else{if(z.h)break e;N?.(d,L>P?P:L),d.a=0,d.$=ve-x}return 1}return d.a=3,0}function Mo(d){t(d!=null),d.vc=null,d.yc=null,d.Ya=null;var m=d.Wa;m!=null&&(m.X=null),d.vb=null,t(d!=null)}function Lr(){var d=new Zg;return d==null?null:(d.a=0,d.xb=$y,Ao("Predictor","VP8LPredictors"),Ao("Predictor","VP8LPredictors_C"),Ao("PredictorAdd","VP8LPredictorsAdd"),Ao("PredictorAdd","VP8LPredictorsAdd_C"),qp=Wt,ol=xt,sr=it,Yn=Rn,Wa=Kt,ca=to,da=Ci,U.VP8LMapColor32b=gc,U.VP8LMapColor8b=Gp,d)}function Po(d,m,x,D,E){var P=1,N=[d],L=[m],F=D.m,z=D.s,re=null,ve=0;e:for(;;){if(x)for(;P&&Me(F,1);){var be=N,ce=L,Re=D,Ee=1,oe=Re.m,ae=Re.gc[Re.ab],Ne=Me(oe,2);if(Re.Oc&1<<Ne)P=0;else{switch(Re.Oc|=1<<Ne,ae.hc=Ne,ae.Ea=be[0],ae.nc=ce[0],ae.K=[null],++Re.ab,t(4>=Re.ab),Ne){case 0:case 1:ae.b=Me(oe,3)+2,Ee=Po(lt(ae.Ea,ae.b),lt(ae.nc,ae.b),0,Re,ae.K),ae.K=ae.K[0];break;case 3:var je,Le=Me(oe,8)+1,rt=16<Le?0:4<Le?1:2<Le?2:3;if(be[0]=lt(ae.Ea,rt),ae.b=rt,je=Ee=Po(Le,1,0,Re,ae.K)){var We,pt=Le,Je=ae,Qt=1<<(8>>Je.b),hi=o(Qt);if(hi==null)je=0;else{var Yt=Je.K[0],zt=Je.w;for(hi[0]=Je.K[0][0],We=1;We<1*pt;++We)hi[We]=Ue(Yt[zt+We],hi[We-1]);for(;We<4*Qt;++We)hi[We]=0;Je.K[0]=null,Je.K[0]=hi,je=1}}Ee=je;break;case 2:break;default:t(0)}P=Ee}}if(N=N[0],L=L[0],P&&Me(F,1)&&!(P=1<=(ve=Me(F,4))&&11>=ve)){D.a=3;break e}var wi;if(wi=P)t:{var gi,Pt,un,lr=D,hn=N,cr=L,pi=ve,Sr=x,Dr=lr.m,xn=lr.s,Pn=[null],Zn=1,zr=0,Ro=XE[pi];i:for(;;){if(Sr&&Me(Dr,1)){var Cn=Me(Dr,3)+2,fa=lt(hn,Cn),dl=lt(cr,Cn),xc=fa*dl;if(!Po(fa,dl,0,lr,Pn))break i;for(Pn=Pn[0],xn.xc=Cn,gi=0;gi<xc;++gi){var Ja=Pn[gi]>>8&65535;Pn[gi]=Ja,Ja>=Zn&&(Zn=Ja+1)}}if(Dr.h)break i;for(Pt=0;5>Pt;++Pt){var Zi=Hy[Pt];!Pt&&0<pi&&(Zi+=1<<pi),zr<Zi&&(zr=Zi)}var av=a(Zn*Ro,B),t2=Zn,i2=a(t2,K);if(i2==null)var rf=null;else t(65536>=t2),rf=i2;var vu=o(zr);if(rf==null||vu==null||av==null){lr.a=1;break i}var of=av;for(gi=un=0;gi<Zn;++gi){var ho=rf[gi],Cc=ho.G,wc=ho.H,n2=0,af=1,r2=0;for(Pt=0;5>Pt;++Pt){Zi=Hy[Pt],Cc[Pt]=of,wc[Pt]=un,!Pt&&0<pi&&(Zi+=1<<pi);r:{var sf,sv=Zi,lf=lr,bu=vu,g3=of,v3=un,lv=0,Qa=lf.m,b3=Me(Qa,1);if(r(bu,0,0,sv),b3){var _3=Me(Qa,1)+1,y3=Me(Qa,1),o2=Me(Qa,y3==0?1:8);bu[o2]=1,_3==2&&(bu[o2=Me(Qa,8)]=1);var cf=1}else{var a2=o(19),s2=Me(Qa,4)+4;if(19<s2){lf.a=3;var df=0;break r}for(sf=0;sf<s2;++sf)a2[WE[sf]]=Me(Qa,3);var cv=void 0,_u=void 0,l2=lf,x3=a2,uf=sv,c2=bu,dv=0,es=l2.m,d2=8,u2=a(128,B);n:for(;R(u2,0,7,x3,19);){if(Me(es,1)){var C3=2+2*Me(es,3);if((cv=2+Me(es,C3))>uf)break n}else cv=uf;for(_u=0;_u<uf&&cv--;){se(es);var h2=u2[0+(127&H(es))];ee(es,es.u+h2.g);var Sc=h2.value;if(16>Sc)c2[_u++]=Sc,Sc!=0&&(d2=Sc);else{var w3=Sc==16,p2=Sc-16,S3=GE[p2],f2=Me(es,HE[p2])+S3;if(_u+f2>uf)break n;for(var D3=w3?d2:0;0<f2--;)c2[_u++]=D3}}dv=1;break n}dv||(l2.a=3),cf=dv}(cf=cf&&!Qa.h)&&(lv=R(g3,v3,8,bu,sv)),cf&&lv!=0?df=lv:(lf.a=3,df=0)}if(df==0)break i;if(af&&$E[Pt]==1&&(af=of[un].g==0),n2+=of[un].g,un+=df,3>=Pt){var yu,uv=vu[0];for(yu=1;yu<Zi;++yu)vu[yu]>uv&&(uv=vu[yu]);r2+=uv}}if(ho.nd=af,ho.Qb=0,af&&(ho.qb=(Cc[3][wc[3]+0].value<<24|Cc[1][wc[1]+0].value<<16|Cc[2][wc[2]+0].value)>>>0,n2==0&&256>Cc[0][wc[0]+0].value&&(ho.Qb=1,ho.qb+=Cc[0][wc[0]+0].value<<8)),ho.jc=!ho.Qb&&6>r2,ho.jc){var hf,ma=ho;for(hf=0;hf<Mn;++hf){var ts=hf,is=ma.pd[ts],pf=ma.G[0][ma.H[0]+ts];256<=pf.value?(is.g=pf.g+256,is.value=pf.value):(is.g=0,is.value=0,ts>>=gn(pf,8,is),ts>>=gn(ma.G[1][ma.H[1]+ts],16,is),ts>>=gn(ma.G[2][ma.H[2]+ts],0,is),gn(ma.G[3][ma.H[3]+ts],24,is))}}}xn.vc=Pn,xn.Wb=Zn,xn.Ya=rf,xn.yc=av,wi=1;break t}wi=0}if(!(P=wi)){D.a=3;break e}if(0<ve){if(z.ua=1<<ve,!_t(z.Wa,ve)){D.a=1,P=0;break e}}else z.ua=0;var hv=D,m2=N,I3=L,pv=hv.s,fv=pv.xc;if(hv.c=m2,hv.i=I3,pv.md=lt(m2,fv),pv.wc=fv==0?-1:(1<<fv)-1,x){D.xb=n3;break e}if((re=o(N*L))==null){D.a=1,P=0;break e}P=(P=ao(D,re,0,N,L,L,null))&&!F.h;break e}return P?(E!=null?E[0]=re:(t(re==null),t(x)),D.$=0,x||Mo(z)):Mo(z),P}function el(d,m){var x=d.c*d.i,D=x+m+16*m;return t(d.c<=m),d.V=o(D),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+x+m,1)}function Kl(d,m){var x=d.C,D=m-x,E=d.V,P=d.Ba+d.c*x;for(t(m<=d.l.o);0<D;){var N=16<D?16:D,L=d.l.ma,F=d.l.width,z=F*N,re=L.ca,ve=L.tb+F*x,be=d.Ta,ce=d.Ua;xr(d,N,E,P),tn(be,ce,re,ve,z),ro(L,x,x+N,re,ve,F),D-=N,E+=N*d.c,x+=N}t(x==m),d.C=d.Ma=m}function Jl(){this.ub=this.yd=this.td=this.Rb=0}function Ql(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ec(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function wp(){this.Yb=function(){var d=[];return function m(x,D,E){for(var P=E[D],N=0;N<P&&(x.push(E.length>D+1?[]:0),!(E.length<D+1));N++)m(x[N],D+1,E)}(d,0,[3,11]),d}()}function Ag(){this.jb=o(3),this.Wc=s([4,8],wp),this.Xc=s([4,17],wp)}function Eg(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function tc(){this.ld=this.La=this.dd=this.tc=0}function Sp(){this.Na=this.la=0}function kg(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gd(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Tg(){this.uc=this.M=this.Nb=0,this.wa=Array(new tc),this.Y=0,this.ya=Array(new Gd),this.aa=0,this.l=new ic}function Dp(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Mg(){this.cb=this.a=0,this.sc="",this.m=new Ze,this.Od=new Jl,this.Kc=new Ql,this.ed=new Eg,this.Qa=new ec,this.Ic=this.$c=this.Aa=0,this.D=new Tg,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Ze),this.ia=0,this.pb=a(4,kg),this.Pa=new Ag,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dp),this.Hd=0,this.rb=Array(new Sp),this.sb=0,this.wa=Array(new tc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gd),this.L=this.aa=0,this.gd=s([4,2],tc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ic(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pg(){var d=new Mg;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,mu||(mu=Ep)),d}function Qi(d,m,x){return d.a==0&&(d.a=m,d.sc=x,d.cb=0),0}function Ip(d,m,x){return 3<=x&&d[m+0]==157&&d[m+1]==1&&d[m+2]==42}function Ap(d,m){if(d==null)return 0;if(d.a=0,d.sc="OK",m==null)return Qi(d,2,"null VP8Io passed to VP8GetHeaders()");var x=m.data,D=m.w,E=m.ha;if(4>E)return Qi(d,7,"Truncated header.");var P=x[D+0]|x[D+1]<<8|x[D+2]<<16,N=d.Od;if(N.Rb=!(1&P),N.td=P>>1&7,N.yd=P>>4&1,N.ub=P>>5,3<N.td)return Qi(d,3,"Incorrect keyframe parameters.");if(!N.yd)return Qi(d,4,"Frame not displayable.");D+=3,E-=3;var L=d.Kc;if(N.Rb){if(7>E)return Qi(d,7,"cannot parse picture header");if(!Ip(x,D,E))return Qi(d,3,"Bad code word");L.c=16383&(x[D+4]<<8|x[D+3]),L.Td=x[D+4]>>6,L.i=16383&(x[D+6]<<8|x[D+5]),L.Ud=x[D+6]>>6,D+=7,E-=7,d.za=L.c+15>>4,d.Ub=L.i+15>>4,m.width=L.c,m.height=L.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,r((P=d.Pa).jb,0,255,P.jb.length),t((P=d.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,r(P.Zb,0,0,P.Zb.length),r(P.Lb,0,0,P.Lb)}if(N.ub>E)return Qi(d,7,"bad partition length");me(P=d.m,x,D,N.ub),D+=N.ub,E-=N.ub,N.Rb&&(L.Ld=Ce(P),L.Kd=Ce(P)),L=d.Qa;var F,z=d.Pa;if(t(P!=null),t(L!=null),L.Cb=Ce(P),L.Cb){if(L.Bb=Ce(P),Ce(P)){for(L.Fb=Ce(P),F=0;4>F;++F)L.Zb[F]=Ce(P)?xe(P,7):0;for(F=0;4>F;++F)L.Lb[F]=Ce(P)?xe(P,6):0}if(L.Bb)for(F=0;3>F;++F)z.jb[F]=Ce(P)?pe(P,8):255}else L.Bb=0;if(P.Ka)return Qi(d,3,"cannot parse segment header");if((L=d.ed).zd=Ce(P),L.Tb=pe(P,6),L.wb=pe(P,3),L.Pc=Ce(P),L.Pc&&Ce(P)){for(z=0;4>z;++z)Ce(P)&&(L.vd[z]=xe(P,6));for(z=0;4>z;++z)Ce(P)&&(L.od[z]=xe(P,6))}if(d.L=L.Tb==0?0:L.zd?1:2,P.Ka)return Qi(d,3,"cannot parse filter header");var re=E;if(E=F=D,D=F+re,L=re,d.Xb=(1<<pe(d.m,2))-1,re<3*(z=d.Xb))x=7;else{for(F+=3*z,L-=3*z,re=0;re<z;++re){var ve=x[E+0]|x[E+1]<<8|x[E+2]<<16;ve>L&&(ve=L),me(d.Jc[+re],x,F,ve),F+=ve,L-=ve,E+=3}me(d.Jc[+z],x,F,L),x=F<D?0:5}if(x!=0)return Qi(d,x,"cannot parse partitions");for(x=pe(F=d.m,7),E=Ce(F)?xe(F,4):0,D=Ce(F)?xe(F,4):0,L=Ce(F)?xe(F,4):0,z=Ce(F)?xe(F,4):0,F=Ce(F)?xe(F,4):0,re=d.Qa,ve=0;4>ve;++ve){if(re.Cb){var be=re.Zb[ve];re.Fb||(be+=x)}else{if(0<ve){d.pb[ve]=d.pb[0];continue}be=x}var ce=d.pb[ve];ce.Sc[0]=nv[Cr(be+E,127)],ce.Sc[1]=rv[Cr(be+0,127)],ce.Eb[0]=2*nv[Cr(be+D,127)],ce.Eb[1]=101581*rv[Cr(be+L,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=nv[Cr(be+z,117)],ce.Qc[1]=rv[Cr(be+F,127)],ce.lc=be+F}if(!N.Rb)return Qi(d,4,"Not a key frame.");for(Ce(P),N=d.Pa,x=0;4>x;++x){for(E=0;8>E;++E)for(D=0;3>D;++D)for(L=0;11>L;++L)z=De(P,t3[x][E][D][L])?pe(P,8):QE[x][E][D][L],N.Wc[x][E].Yb[D][L]=z;for(E=0;17>E;++E)N.Xc[x][E]=N.Wc[x][i3[E]]}return d.kc=Ce(P),d.kc&&(d.Bd=pe(P,8)),d.cb=1}function Ep(d,m,x,D,E,P,N){var L=m[E].Yb[x];for(x=0;16>E;++E){if(!De(d,L[x+0]))return E;for(;!De(d,L[x+1]);)if(L=m[++E].Yb[0],x=0,E==16)return 16;var F=m[E+1].Yb;if(De(d,L[x+2])){var z=d,re=0;if(De(z,(be=L)[(ve=x)+3]))if(De(z,be[ve+6])){for(L=0,ve=2*(re=De(z,be[ve+8]))+(be=De(z,be[ve+9+re])),re=0,be=KE[ve];be[L];++L)re+=re+De(z,be[L]);re+=3+(8<<ve)}else De(z,be[ve+7])?(re=7+2*De(z,165),re+=De(z,145)):re=5+De(z,159);else re=De(z,be[ve+4])?3+De(z,be[ve+5]):2;L=F[2]}else re=1,L=F[1];F=N+JE[E],0>(z=d).b&&ye(z);var ve,be=z.b,ce=(ve=z.Ca>>1)-(z.I>>be)>>31;--z.b,z.Ca+=ce,z.Ca|=1,z.I-=(ve+1&ce)<<be,P[F]=((re^ce)-ce)*D[(0<E)+0]}return 16}function $d(d){var m=d.rb[d.sb-1];m.la=0,m.Na=0,r(d.zc,0,0,d.zc.length),d.ja=0}function Og(d,m){if(d==null)return 0;if(m==null)return Qi(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Ap(d,m))return 0;if(t(d.cb),m.ac==null||m.ac(m)){m.ob&&(d.L=0);var x=nf[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=m.v-x>>4,d.zb=m.j-x>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=m.o+15+x>>4,d.Hb=m.va+15+x>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var D=d.ed;for(x=0;4>x;++x){var E;if(d.Qa.Cb){var P=d.Qa.Lb[x];d.Qa.Fb||(P+=D.Tb)}else P=D.Tb;for(E=0;1>=E;++E){var N=d.gd[x][E],L=P;if(D.Pc&&(L+=D.vd[0],E&&(L+=D.od[0])),0<(L=0>L?0:63<L?63:L)){var F=L;0<D.wb&&(F=4<D.wb?F>>2:F>>1)>9-D.wb&&(F=9-D.wb),1>F&&(F=1),N.dd=F,N.tc=2*L+F,N.ld=40<=L?2:15<=L?1:0}else N.tc=0;N.La=E}}}x=0}else Qi(d,6,"Frame setup failed"),x=d.a;if(x=x==0){if(x){d.$c=0,0<d.Aa||(d.Ic=m3);e:{x=d.Ic,D=4*(F=d.za);var z=32*F,re=F+1,ve=0<d.L?F*(0<d.Aa?2:1):0,be=(d.Aa==2?2:1)*F;if((N=D+832+(E=3*(16*x+nf[d.L])/2*z)+(P=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=N)x=0;else{if(N>d.Vb){if(d.Vb=0,d.Ec=o(N),d.Fc=0,d.Ec==null){x=Qi(d,1,"no memory during frame initialization.");break e}d.Vb=N}N=d.Ec,L=d.Fc,d.Ac=N,d.Bc=L,L+=D,d.Gd=a(z,Dp),d.Hd=0,d.rb=a(re+1,Sp),d.sb=1,d.wa=ve?a(ve,tc):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=F),t(!0),d.oc=N,d.pc=L,L+=832,d.ya=a(be,Gd),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=F),d.R=16*F,d.B=8*F,F=(z=nf[d.L])*d.R,z=z/2*d.B,d.sa=N,d.ta=L+F,d.qa=d.sa,d.ra=d.ta+16*x*d.R+z,d.Ha=d.qa,d.Ia=d.ra+8*x*d.B+z,d.$c=0,L+=E,d.mb=P?N:null,d.nb=P?L:null,t(L+P<=d.Fc+d.Vb),$d(d),r(d.Ac,d.Bc,0,D),x=1}}if(x){if(m.ka=0,m.y=d.sa,m.O=d.ta,m.f=d.qa,m.N=d.ra,m.ea=d.Ha,m.Vd=d.Ia,m.fa=d.R,m.Rc=d.B,m.F=null,m.J=0,!Wp){for(x=-255;255>=x;++x)vn[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)ha[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)fu[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)yc[255+x]=0>x?0:255<x?255:x;Wp=1}vc=Rg,ua=Ng,uu=Tp,Xn=Lg,Fr=Mp,en=kp,bc=Jd,$p=nl,hu=Xg,al=Qd,sl=Yg,Ya=lc,ll=eu,_c=Vp,cl=Bp,Xa=No,pu=la,jr=Wg,uo[0]=Oo,uo[1]=Fg,uo[2]=Ug,uo[3]=zg,uo[4]=Np,uo[5]=ac,uo[6]=Lp,uo[7]=Xd,uo[8]=Hg,uo[9]=qg,Za[0]=Pp,Za[1]=Bg,Za[2]=sa,Za[3]=rc,Za[4]=Fn,Za[5]=Vg,Za[6]=Op,pa[0]=qa,pa[1]=jg,pa[2]=Gg,pa[3]=Zd,pa[4]=il,pa[5]=$g,pa[6]=Kd,x=1}else x=0}x&&(x=function(ce,Re){for(ce.M=0;ce.M<ce.Va;++ce.M){var Ee,oe=ce.Jc[ce.M&ce.Xb],ae=ce.m,Ne=ce;for(Ee=0;Ee<Ne.za;++Ee){var je=ae,Le=Ne,rt=Le.Ac,We=Le.Bc+4*Ee,pt=Le.zc,Je=Le.ya[Le.aa+Ee];if(Le.Qa.Bb?Je.$b=De(je,Le.Pa.jb[0])?2+De(je,Le.Pa.jb[2]):De(je,Le.Pa.jb[1]):Je.$b=0,Le.kc&&(Je.Ad=De(je,Le.Bd)),Je.Za=!De(je,145)+0,Je.Za){var Qt=Je.Ob,hi=0;for(Le=0;4>Le;++Le){var Yt,zt=pt[0+Le];for(Yt=0;4>Yt;++Yt){zt=e3[rt[We+Yt]][zt];for(var wi=Gy[De(je,zt[0])];0<wi;)wi=Gy[2*wi+De(je,zt[wi])];zt=-wi,rt[We+Yt]=zt}n(Qt,hi,rt,We,4),hi+=4,pt[0+Le]=zt}}else zt=De(je,156)?De(je,128)?1:3:De(je,163)?2:0,Je.Ob[0]=zt,r(rt,We,zt,4),r(pt,0,zt,4);Je.Dd=De(je,142)?De(je,114)?De(je,183)?1:3:2:0}if(Ne.m.Ka)return Qi(ce,7,"Premature end-of-partition0 encountered.");for(;ce.ja<ce.za;++ce.ja){if(Ne=oe,je=(ae=ce).rb[ae.sb-1],rt=ae.rb[ae.sb+ae.ja],Ee=ae.ya[ae.aa+ae.ja],We=ae.kc?Ee.Ad:0)je.la=rt.la=0,Ee.Za||(je.Na=rt.Na=0),Ee.Hc=0,Ee.Gc=0,Ee.ia=0;else{var gi,Pt;if(je=rt,rt=Ne,We=ae.Pa.Xc,pt=ae.ya[ae.aa+ae.ja],Je=ae.pb[pt.$b],Le=pt.ad,Qt=0,hi=ae.rb[ae.sb-1],zt=Yt=0,r(Le,Qt,0,384),pt.Za)var un=0,lr=We[3];else{wi=o(16);var hn=je.Na+hi.Na;if(hn=mu(rt,We[1],hn,Je.Eb,0,wi,0),je.Na=hi.Na=(0<hn)+0,1<hn)vc(wi,0,Le,Qt);else{var cr=wi[0]+3>>3;for(wi=0;256>wi;wi+=16)Le[Qt+wi]=cr}un=1,lr=We[0]}var pi=15&je.la,Sr=15&hi.la;for(wi=0;4>wi;++wi){var Dr=1&Sr;for(cr=Pt=0;4>cr;++cr)pi=pi>>1|(Dr=(hn=mu(rt,lr,hn=Dr+(1&pi),Je.Sc,un,Le,Qt))>un)<<7,Pt=Pt<<2|(3<hn?3:1<hn?2:Le[Qt+0]!=0),Qt+=16;pi>>=4,Sr=Sr>>1|Dr<<7,Yt=(Yt<<8|Pt)>>>0}for(lr=pi,un=Sr>>4,gi=0;4>gi;gi+=2){for(Pt=0,pi=je.la>>4+gi,Sr=hi.la>>4+gi,wi=0;2>wi;++wi){for(Dr=1&Sr,cr=0;2>cr;++cr)hn=Dr+(1&pi),pi=pi>>1|(Dr=0<(hn=mu(rt,We[2],hn,Je.Qc,0,Le,Qt)))<<3,Pt=Pt<<2|(3<hn?3:1<hn?2:Le[Qt+0]!=0),Qt+=16;pi>>=2,Sr=Sr>>1|Dr<<5}zt|=Pt<<4*gi,lr|=pi<<4<<gi,un|=(240&Sr)<<gi}je.la=lr,hi.la=un,pt.Hc=Yt,pt.Gc=zt,pt.ia=43690&zt?0:Je.ia,We=!(Yt|zt)}if(0<ae.L&&(ae.wa[ae.Y+ae.ja]=ae.gd[Ee.$b][Ee.Za],ae.wa[ae.Y+ae.ja].La|=!We),Ne.Ka)return Qi(ce,7,"Premature end-of-file encountered.")}if($d(ce),ae=Re,Ne=1,Ee=(oe=ce).D,je=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(Ee.M=oe.M,Ee.uc=je,au(oe,Ee),Ne=1,Ee=(Pt=oe.D).Nb,je=(zt=nf[oe.L])*oe.R,rt=zt/2*oe.B,wi=16*Ee*oe.R,cr=8*Ee*oe.B,We=oe.sa,pt=oe.ta-je+wi,Je=oe.qa,Le=oe.ra-rt+cr,Qt=oe.Ha,hi=oe.Ia-rt+cr,Sr=(pi=Pt.M)==0,Yt=pi>=oe.Va-1,oe.Aa==2&&au(oe,Pt),Pt.uc)for(Dr=(hn=oe).D.M,t(hn.D.uc),Pt=hn.yb;Pt<hn.Hb;++Pt){un=Pt,lr=Dr;var xn=(Pn=(Zi=hn).D).Nb;gi=Zi.R;var Pn=Pn.wa[Pn.Y+un],Zn=Zi.sa,zr=Zi.ta+16*xn*gi+16*un,Ro=Pn.dd,Cn=Pn.tc;if(Cn!=0)if(t(3<=Cn),Zi.L==1)0<un&&Xa(Zn,zr,gi,Cn+4),Pn.La&&jr(Zn,zr,gi,Cn),0<lr&&cl(Zn,zr,gi,Cn+4),Pn.La&&pu(Zn,zr,gi,Cn);else{var fa=Zi.B,dl=Zi.qa,xc=Zi.ra+8*xn*fa+8*un,Ja=Zi.Ha,Zi=Zi.Ia+8*xn*fa+8*un;xn=Pn.ld,0<un&&($p(Zn,zr,gi,Cn+4,Ro,xn),al(dl,xc,Ja,Zi,fa,Cn+4,Ro,xn)),Pn.La&&(Ya(Zn,zr,gi,Cn,Ro,xn),_c(dl,xc,Ja,Zi,fa,Cn,Ro,xn)),0<lr&&(bc(Zn,zr,gi,Cn+4,Ro,xn),hu(dl,xc,Ja,Zi,fa,Cn+4,Ro,xn)),Pn.La&&(sl(Zn,zr,gi,Cn,Ro,xn),ll(dl,xc,Ja,Zi,fa,Cn,Ro,xn))}}if(oe.ia&&alert("todo:DitherRow"),ae.put!=null){if(Pt=16*pi,pi=16*(pi+1),Sr?(ae.y=oe.sa,ae.O=oe.ta+wi,ae.f=oe.qa,ae.N=oe.ra+cr,ae.ea=oe.Ha,ae.W=oe.Ia+cr):(Pt-=zt,ae.y=We,ae.O=pt,ae.f=Je,ae.N=Le,ae.ea=Qt,ae.W=hi),Yt||(pi-=zt),pi>ae.o&&(pi=ae.o),ae.F=null,ae.J=null,oe.Fa!=null&&0<oe.Fa.length&&Pt<pi&&(ae.J=ru(oe,ae,Pt,pi-Pt),ae.F=oe.mb,ae.F==null&&ae.F.length==0)){Ne=Qi(oe,3,"Could not decode alpha data.");break e}Pt<ae.j&&(zt=ae.j-Pt,Pt=ae.j,t(!(1&zt)),ae.O+=oe.R*zt,ae.N+=oe.B*(zt>>1),ae.W+=oe.B*(zt>>1),ae.F!=null&&(ae.J+=ae.width*zt)),Pt<pi&&(ae.O+=ae.v,ae.N+=ae.v>>1,ae.W+=ae.v>>1,ae.F!=null&&(ae.J+=ae.v),ae.ka=Pt-ae.j,ae.U=ae.va-ae.v,ae.T=pi-Pt,Ne=ae.put(ae))}Ee+1!=oe.Ic||Yt||(n(oe.sa,oe.ta-je,We,pt+16*oe.R,je),n(oe.qa,oe.ra-rt,Je,Le+8*oe.B,rt),n(oe.Ha,oe.Ia-rt,Qt,hi+8*oe.B,rt))}if(!Ne)return Qi(ce,6,"Output aborted.")}return 1}(d,m)),m.bc!=null&&m.bc(m),x&=1}return x?(d.cb=0,x):0}function so(d,m,x,D,E){E=d[m+x+32*D]+(E>>3),d[m+x+32*D]=-256&E?0>E?0:255:E}function nc(d,m,x,D,E,P){so(d,m,0,x,D+E),so(d,m,1,x,D+P),so(d,m,2,x,D-P),so(d,m,3,x,D-E)}function or(d){return(20091*d>>16)+d}function Wd(d,m,x,D){var E,P=0,N=o(16);for(E=0;4>E;++E){var L=d[m+0]+d[m+8],F=d[m+0]-d[m+8],z=(35468*d[m+4]>>16)-or(d[m+12]),re=or(d[m+4])+(35468*d[m+12]>>16);N[P+0]=L+re,N[P+1]=F+z,N[P+2]=F-z,N[P+3]=L-re,P+=4,m++}for(E=P=0;4>E;++E)L=(d=N[P+0]+4)+N[P+8],F=d-N[P+8],z=(35468*N[P+4]>>16)-or(N[P+12]),so(x,D,0,0,L+(re=or(N[P+4])+(35468*N[P+12]>>16))),so(x,D,1,0,F+z),so(x,D,2,0,F-z),so(x,D,3,0,L-re),P++,D+=32}function kp(d,m,x,D){var E=d[m+0]+4,P=35468*d[m+4]>>16,N=or(d[m+4]),L=35468*d[m+1]>>16;nc(x,D,0,E+N,d=or(d[m+1]),L),nc(x,D,1,E+P,d,L),nc(x,D,2,E-P,d,L),nc(x,D,3,E-N,d,L)}function Ng(d,m,x,D,E){Wd(d,m,x,D),E&&Wd(d,m+16,x,D+4)}function Tp(d,m,x,D){ua(d,m+0,x,D,1),ua(d,m+32,x,D+128,1)}function Lg(d,m,x,D){var E;for(d=d[m+0]+4,E=0;4>E;++E)for(m=0;4>m;++m)so(x,D,m,E,d)}function Mp(d,m,x,D){d[m+0]&&Xn(d,m+0,x,D),d[m+16]&&Xn(d,m+16,x,D+4),d[m+32]&&Xn(d,m+32,x,D+128),d[m+48]&&Xn(d,m+48,x,D+128+4)}function Rg(d,m,x,D){var E,P=o(16);for(E=0;4>E;++E){var N=d[m+0+E]+d[m+12+E],L=d[m+4+E]+d[m+8+E],F=d[m+4+E]-d[m+8+E],z=d[m+0+E]-d[m+12+E];P[0+E]=N+L,P[8+E]=N-L,P[4+E]=z+F,P[12+E]=z-F}for(E=0;4>E;++E)N=(d=P[0+4*E]+3)+P[3+4*E],L=P[1+4*E]+P[2+4*E],F=P[1+4*E]-P[2+4*E],z=d-P[3+4*E],x[D+0]=N+L>>3,x[D+16]=z+F>>3,x[D+32]=N-L>>3,x[D+48]=z-F>>3,D+=64}function Yd(d,m,x){var D,E=m-32,P=wr,N=255-d[E-1];for(D=0;D<x;++D){var L,F=P,z=N+d[m-1];for(L=0;L<x;++L)d[m+L]=F[z+d[E+L]];m+=32}}function Fg(d,m){Yd(d,m,4)}function jg(d,m){Yd(d,m,8)}function Bg(d,m){Yd(d,m,16)}function sa(d,m){var x;for(x=0;16>x;++x)n(d,m+32*x,d,m-32,16)}function rc(d,m){var x;for(x=16;0<x;--x)r(d,m,d[m-1],16),m+=32}function oc(d,m,x){var D;for(D=0;16>D;++D)r(m,x+32*D,d,16)}function Pp(d,m){var x,D=16;for(x=0;16>x;++x)D+=d[m-1+32*x]+d[m+x-32];oc(D>>5,d,m)}function Fn(d,m){var x,D=8;for(x=0;16>x;++x)D+=d[m-1+32*x];oc(D>>4,d,m)}function Vg(d,m){var x,D=8;for(x=0;16>x;++x)D+=d[m+x-32];oc(D>>4,d,m)}function Op(d,m){oc(128,d,m)}function St(d,m,x){return d+2*m+x+2>>2}function Ug(d,m){var x,D=m-32;for(D=new Uint8Array([St(d[D-1],d[D+0],d[D+1]),St(d[D+0],d[D+1],d[D+2]),St(d[D+1],d[D+2],d[D+3]),St(d[D+2],d[D+3],d[D+4])]),x=0;4>x;++x)n(d,m+32*x,D,0,D.length)}function zg(d,m){var x=d[m-1],D=d[m-1+32],E=d[m-1+64],P=d[m-1+96];qe(d,m+0,16843009*St(d[m-1-32],x,D)),qe(d,m+32,16843009*St(x,D,E)),qe(d,m+64,16843009*St(D,E,P)),qe(d,m+96,16843009*St(E,P,P))}function Oo(d,m){var x,D=4;for(x=0;4>x;++x)D+=d[m+x-32]+d[m-1+32*x];for(D>>=3,x=0;4>x;++x)r(d,m+32*x,D,4)}function Np(d,m){var x=d[m-1+0],D=d[m-1+32],E=d[m-1+64],P=d[m-1-32],N=d[m+0-32],L=d[m+1-32],F=d[m+2-32],z=d[m+3-32];d[m+0+96]=St(D,E,d[m-1+96]),d[m+1+96]=d[m+0+64]=St(x,D,E),d[m+2+96]=d[m+1+64]=d[m+0+32]=St(P,x,D),d[m+3+96]=d[m+2+64]=d[m+1+32]=d[m+0+0]=St(N,P,x),d[m+3+64]=d[m+2+32]=d[m+1+0]=St(L,N,P),d[m+3+32]=d[m+2+0]=St(F,L,N),d[m+3+0]=St(z,F,L)}function Lp(d,m){var x=d[m+1-32],D=d[m+2-32],E=d[m+3-32],P=d[m+4-32],N=d[m+5-32],L=d[m+6-32],F=d[m+7-32];d[m+0+0]=St(d[m+0-32],x,D),d[m+1+0]=d[m+0+32]=St(x,D,E),d[m+2+0]=d[m+1+32]=d[m+0+64]=St(D,E,P),d[m+3+0]=d[m+2+32]=d[m+1+64]=d[m+0+96]=St(E,P,N),d[m+3+32]=d[m+2+64]=d[m+1+96]=St(P,N,L),d[m+3+64]=d[m+2+96]=St(N,L,F),d[m+3+96]=St(L,F,F)}function ac(d,m){var x=d[m-1+0],D=d[m-1+32],E=d[m-1+64],P=d[m-1-32],N=d[m+0-32],L=d[m+1-32],F=d[m+2-32],z=d[m+3-32];d[m+0+0]=d[m+1+64]=P+N+1>>1,d[m+1+0]=d[m+2+64]=N+L+1>>1,d[m+2+0]=d[m+3+64]=L+F+1>>1,d[m+3+0]=F+z+1>>1,d[m+0+96]=St(E,D,x),d[m+0+64]=St(D,x,P),d[m+0+32]=d[m+1+96]=St(x,P,N),d[m+1+32]=d[m+2+96]=St(P,N,L),d[m+2+32]=d[m+3+96]=St(N,L,F),d[m+3+32]=St(L,F,z)}function Xd(d,m){var x=d[m+0-32],D=d[m+1-32],E=d[m+2-32],P=d[m+3-32],N=d[m+4-32],L=d[m+5-32],F=d[m+6-32],z=d[m+7-32];d[m+0+0]=x+D+1>>1,d[m+1+0]=d[m+0+64]=D+E+1>>1,d[m+2+0]=d[m+1+64]=E+P+1>>1,d[m+3+0]=d[m+2+64]=P+N+1>>1,d[m+0+32]=St(x,D,E),d[m+1+32]=d[m+0+96]=St(D,E,P),d[m+2+32]=d[m+1+96]=St(E,P,N),d[m+3+32]=d[m+2+96]=St(P,N,L),d[m+3+64]=St(N,L,F),d[m+3+96]=St(L,F,z)}function qg(d,m){var x=d[m-1+0],D=d[m-1+32],E=d[m-1+64],P=d[m-1+96];d[m+0+0]=x+D+1>>1,d[m+2+0]=d[m+0+32]=D+E+1>>1,d[m+2+32]=d[m+0+64]=E+P+1>>1,d[m+1+0]=St(x,D,E),d[m+3+0]=d[m+1+32]=St(D,E,P),d[m+3+32]=d[m+1+64]=St(E,P,P),d[m+3+64]=d[m+2+64]=d[m+0+96]=d[m+1+96]=d[m+2+96]=d[m+3+96]=P}function Hg(d,m){var x=d[m-1+0],D=d[m-1+32],E=d[m-1+64],P=d[m-1+96],N=d[m-1-32],L=d[m+0-32],F=d[m+1-32],z=d[m+2-32];d[m+0+0]=d[m+2+32]=x+N+1>>1,d[m+0+32]=d[m+2+64]=D+x+1>>1,d[m+0+64]=d[m+2+96]=E+D+1>>1,d[m+0+96]=P+E+1>>1,d[m+3+0]=St(L,F,z),d[m+2+0]=St(N,L,F),d[m+1+0]=d[m+3+32]=St(x,N,L),d[m+1+32]=d[m+3+64]=St(D,x,N),d[m+1+64]=d[m+3+96]=St(E,D,x),d[m+1+96]=St(P,E,D)}function Gg(d,m){var x;for(x=0;8>x;++x)n(d,m+32*x,d,m-32,8)}function Zd(d,m){var x;for(x=0;8>x;++x)r(d,m,d[m-1],8),m+=32}function tl(d,m,x){var D;for(D=0;8>D;++D)r(m,x+32*D,d,8)}function qa(d,m){var x,D=8;for(x=0;8>x;++x)D+=d[m+x-32]+d[m-1+32*x];tl(D>>4,d,m)}function $g(d,m){var x,D=4;for(x=0;8>x;++x)D+=d[m+x-32];tl(D>>3,d,m)}function il(d,m){var x,D=4;for(x=0;8>x;++x)D+=d[m-1+32*x];tl(D>>3,d,m)}function Kd(d,m){tl(128,d,m)}function sc(d,m,x){var D=d[m-x],E=d[m+0],P=3*(E-D)+Jg[1020+d[m-2*x]-d[m+x]],N=Yp[112+(P+4>>3)];d[m-x]=wr[255+D+Yp[112+(P+3>>3)]],d[m+0]=wr[255+E-N]}function Rp(d,m,x,D){var E=d[m+0],P=d[m+x];return Vr[255+d[m-2*x]-d[m-x]]>D||Vr[255+P-E]>D}function Fp(d,m,x,D){return 4*Vr[255+d[m-x]-d[m+0]]+Vr[255+d[m-2*x]-d[m+x]]<=D}function jp(d,m,x,D,E){var P=d[m-3*x],N=d[m-2*x],L=d[m-x],F=d[m+0],z=d[m+x],re=d[m+2*x],ve=d[m+3*x];return 4*Vr[255+L-F]+Vr[255+N-z]>D?0:Vr[255+d[m-4*x]-P]<=E&&Vr[255+P-N]<=E&&Vr[255+N-L]<=E&&Vr[255+ve-re]<=E&&Vr[255+re-z]<=E&&Vr[255+z-F]<=E}function Bp(d,m,x,D){var E=2*D+1;for(D=0;16>D;++D)Fp(d,m+D,x,E)&&sc(d,m+D,x)}function No(d,m,x,D){var E=2*D+1;for(D=0;16>D;++D)Fp(d,m+D*x,1,E)&&sc(d,m+D*x,1)}function la(d,m,x,D){var E;for(E=3;0<E;--E)Bp(d,m+=4*x,x,D)}function Wg(d,m,x,D){var E;for(E=3;0<E;--E)No(d,m+=4,x,D)}function Ha(d,m,x,D,E,P,N,L){for(P=2*P+1;0<E--;){if(jp(d,m,x,P,N))if(Rp(d,m,x,L))sc(d,m,x);else{var F=d,z=m,re=x,ve=F[z-2*re],be=F[z-re],ce=F[z+0],Re=F[z+re],Ee=F[z+2*re],oe=27*(Ne=Jg[1020+3*(ce-be)+Jg[1020+ve-Re]])+63>>7,ae=18*Ne+63>>7,Ne=9*Ne+63>>7;F[z-3*re]=wr[255+F[z-3*re]+Ne],F[z-2*re]=wr[255+ve+ae],F[z-re]=wr[255+be+oe],F[z+0]=wr[255+ce-oe],F[z+re]=wr[255+Re-ae],F[z+2*re]=wr[255+Ee-Ne]}m+=D}}function lo(d,m,x,D,E,P,N,L){for(P=2*P+1;0<E--;){if(jp(d,m,x,P,N))if(Rp(d,m,x,L))sc(d,m,x);else{var F=d,z=m,re=x,ve=F[z-re],be=F[z+0],ce=F[z+re],Re=Yp[112+((Ee=3*(be-ve))+4>>3)],Ee=Yp[112+(Ee+3>>3)],oe=Re+1>>1;F[z-2*re]=wr[255+F[z-2*re]+oe],F[z-re]=wr[255+ve+Ee],F[z+0]=wr[255+be-Re],F[z+re]=wr[255+ce-oe]}m+=D}}function Jd(d,m,x,D,E,P){Ha(d,m,x,1,16,D,E,P)}function nl(d,m,x,D,E,P){Ha(d,m,1,x,16,D,E,P)}function Yg(d,m,x,D,E,P){var N;for(N=3;0<N;--N)lo(d,m+=4*x,x,1,16,D,E,P)}function lc(d,m,x,D,E,P){var N;for(N=3;0<N;--N)lo(d,m+=4,1,x,16,D,E,P)}function Xg(d,m,x,D,E,P,N,L){Ha(d,m,E,1,8,P,N,L),Ha(x,D,E,1,8,P,N,L)}function Qd(d,m,x,D,E,P,N,L){Ha(d,m,1,E,8,P,N,L),Ha(x,D,1,E,8,P,N,L)}function eu(d,m,x,D,E,P,N,L){lo(d,m+4*E,E,1,8,P,N,L),lo(x,D+4*E,E,1,8,P,N,L)}function Vp(d,m,x,D,E,P,N,L){lo(d,m+4,1,E,8,P,N,L),lo(x,D+4,1,E,8,P,N,L)}function cc(){this.ba=new io,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function iu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Up(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new B}function Zg(){this.xb=this.a=0,this.l=new ic,this.ca=new io,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Up,this.ab=0,this.gc=a(4,iu),this.Oc=0}function dc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ic,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rl(d,m,x,D,E,P,N){for(d=d==null?0:d[m+0],m=0;m<N;++m)E[P+m]=d+x[D+m]&255,d=E[P+m]}function nu(d,m,x,D,E,P,N){var L;if(d==null)rl(null,null,x,D,E,P,N);else for(L=0;L<N;++L)E[P+L]=d[m+L]+x[D+L]&255}function Ga(d,m,x,D,E,P,N){if(d==null)rl(null,null,x,D,E,P,N);else{var L,F=d[m+0],z=F,re=F;for(L=0;L<N;++L)z=re+(F=d[m+L])-z,re=x[D+L]+(-256&z?0>z?0:255:z)&255,z=F,E[P+L]=re}}function ru(d,m,x,D){var E=m.width,P=m.o;if(t(d!=null&&m!=null),0>x||0>=D||x+D>P)return null;if(!d.Cc){if(d.ga==null){var N;if(d.ga=new dc,(N=d.ga==null)||(N=m.width*m.o,t(d.Gb.length==0),d.Gb=o(N),d.Uc=0,d.Gb==null?N=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,N=1),N=!N),!N){N=d.ga;var L=d.Fa,F=d.P,z=d.qc,re=d.mb,ve=d.nb,be=F+1,ce=z-1,Re=N.l;if(t(L!=null&&re!=null&&m!=null),Ka[0]=null,Ka[1]=rl,Ka[2]=nu,Ka[3]=Ga,N.ca=re,N.tb=ve,N.c=m.width,N.i=m.height,t(0<N.c&&0<N.i),1>=z)m=0;else if(N.$a=L[F+0]>>0&3,N.Z=L[F+0]>>2&3,N.Lc=L[F+0]>>4&3,F=L[F+0]>>6&3,0>N.$a||1<N.$a||4<=N.Z||1<N.Lc||F)m=0;else if(Re.put=Eo,Re.ac=Tn,Re.bc=ko,Re.ma=N,Re.width=m.width,Re.height=m.height,Re.Da=m.Da,Re.v=m.v,Re.va=m.va,Re.j=m.j,Re.o=m.o,N.$a)e:{t(N.$a==1),m=Lr();t:for(;;){if(m==null){m=0;break e}if(t(N!=null),N.mc=m,m.c=N.c,m.i=N.i,m.l=N.l,m.l.ma=N,m.l.width=N.c,m.l.height=N.i,m.a=0,fe(m.m,L,be,ce),!Po(N.c,N.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&aa(m.s)?(N.ic=1,L=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o(L),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(N.ic=0,m=el(m,N.c)),!m))break t;m=1;break e}N.mc=null,m=0}else m=ce>=N.c*N.i;N=!m}if(N)return null;d.ga.Lc!=1?d.Ga=0:D=P-x}t(d.ga!=null),t(x+D<=P);e:{if(m=(L=d.ga).c,P=L.l.o,L.$a==0){if(be=d.rc,ce=d.Vc,Re=d.Fa,F=d.P+1+x*m,z=d.mb,re=d.nb+x*m,t(F<=d.P+d.qc),L.Z!=0)for(t(Ka[L.Z]!=null),N=0;N<D;++N)Ka[L.Z](be,ce,Re,F,z,re,m),be=z,ce=re,re+=m,F+=m;else for(N=0;N<D;++N)n(z,re,Re,F,m),be=z,ce=re,re+=m,F+=m;d.rc=be,d.Vc=ce}else{if(t(L.mc!=null),m=x+D,t((N=L.mc)!=null),t(m<=N.i),N.C>=m)m=1;else if(L.ic||he(),L.ic){L=N.V,be=N.Ba,ce=N.c;var Ee=N.i,oe=(Re=1,F=N.$/ce,z=N.$%ce,re=N.m,ve=N.s,N.$),ae=ce*Ee,Ne=ce*m,je=ve.wc,Le=oe<Ne?cn(ve,z,F):null;t(oe<=ae),t(m<=Ee),t(aa(ve));t:for(;;){for(;!re.h&&oe<Ne;){if(z&je||(Le=cn(ve,z,F)),t(Le!=null),se(re),256>(Ee=rr(Le.G[0],Le.H[0],re)))L[be+oe]=Ee,++oe,++z>=ce&&(z=0,++F<=m&&!(F%16)&&oo(N,F));else{if(!(280>Ee)){Re=0;break t}Ee=no(Ee-256,re);var rt,We=rr(Le.G[4],Le.H[4],re);if(se(re),!(oe>=(We=To(ce,We=no(We,re)))&&ae-oe>=Ee)){Re=0;break t}for(rt=0;rt<Ee;++rt)L[be+oe+rt]=L[be+oe+rt-We];for(oe+=Ee,z+=Ee;z>=ce;)z-=ce,++F<=m&&!(F%16)&&oo(N,F);oe<Ne&&z&je&&(Le=cn(ve,z,F))}t(re.h==W(re))}oo(N,F>m?m:F);break t}!Re||re.h&&oe<ae?(Re=0,N.a=re.h?5:3):N.$=oe,m=Re}else m=ao(N,N.V,N.Ba,N.c,N.i,m,Kl);if(!m){D=0;break e}}x+D>=P&&(d.Cc=1),D=1}if(!D)return null;if(d.Cc&&((D=d.ga)!=null&&(D.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+x*E}function _(d,m,x,D,E,P){for(;0<E--;){var N,L=d,F=m+(x?1:0),z=d,re=m+(x?0:3);for(N=0;N<D;++N){var ve=z[re+4*N];ve!=255&&(ve*=32897,L[F+4*N+0]=L[F+4*N+0]*ve>>23,L[F+4*N+1]=L[F+4*N+1]*ve>>23,L[F+4*N+2]=L[F+4*N+2]*ve>>23)}m+=P}}function k(d,m,x,D,E){for(;0<D--;){var P;for(P=0;P<x;++P){var N=d[m+2*P+0],L=15&(z=d[m+2*P+1]),F=4369*L,z=(240&z|z>>4)*F>>16;d[m+2*P+0]=(240&N|N>>4)*F>>16&240|(15&N|N<<4)*F>>16>>4&15,d[m+2*P+1]=240&z|L}m+=E}}function G(d,m,x,D,E,P,N,L){var F,z,re=255;for(z=0;z<E;++z){for(F=0;F<D;++F){var ve=d[m+F];P[N+4*F]=ve,re&=ve}m+=x,N+=L}return re!=255}function te(d,m,x,D,E){var P;for(P=0;P<E;++P)x[D+P]=d[m+P]>>8}function he(){Br=_,Ai=k,Ei=G,tn=te}function ke(d,m,x){U[d]=function(D,E,P,N,L,F,z,re,ve,be,ce,Re,Ee,oe,ae,Ne,je){var Le,rt=je-1>>1,We=L[F+0]|z[re+0]<<16,pt=ve[be+0]|ce[Re+0]<<16;t(D!=null);var Je=3*We+pt+131074>>2;for(m(D[E+0],255&Je,Je>>16,Ee,oe),P!=null&&(Je=3*pt+We+131074>>2,m(P[N+0],255&Je,Je>>16,ae,Ne)),Le=1;Le<=rt;++Le){var Qt=L[F+Le]|z[re+Le]<<16,hi=ve[be+Le]|ce[Re+Le]<<16,Yt=We+Qt+pt+hi+524296,zt=Yt+2*(Qt+pt)>>3;Je=zt+We>>1,We=(Yt=Yt+2*(We+hi)>>3)+Qt>>1,m(D[E+2*Le-1],255&Je,Je>>16,Ee,oe+(2*Le-1)*x),m(D[E+2*Le-0],255&We,We>>16,Ee,oe+(2*Le-0)*x),P!=null&&(Je=Yt+pt>>1,We=zt+hi>>1,m(P[N+2*Le-1],255&Je,Je>>16,ae,Ne+(2*Le-1)*x),m(P[N+2*Le+0],255&We,We>>16,ae,Ne+(2*Le+0)*x)),We=Qt,pt=hi}1&je||(Je=3*We+pt+131074>>2,m(D[E+je-1],255&Je,Je>>16,Ee,oe+(je-1)*x),P!=null&&(Je=3*pt+We+131074>>2,m(P[N+je-1],255&Je,Je>>16,ae,Ne+(je-1)*x)))}}function Ve(){Ur[Xp]=r3,Ur[Zp]=Wy,Ur[zy]=o3,Ur[Kp]=Yy,Ur[Jp]=Xy,Ur[Qg]=Zy,Ur[qy]=a3,Ur[ev]=Wy,Ur[tv]=Yy,Ur[Qp]=Xy,Ur[iv]=Zy}function nt(d){return d&~s3?0>d?0:255:d>>Ky}function ht(d,m){return nt((19077*d>>8)+(26149*m>>8)-14234)}function Tt(d,m,x){return nt((19077*d>>8)-(6419*m>>8)-(13320*x>>8)+8708)}function At(d,m){return nt((19077*d>>8)+(33050*m>>8)-17685)}function Gt(d,m,x,D,E){D[E+0]=ht(d,x),D[E+1]=Tt(d,m,x),D[E+2]=At(d,m)}function zi(d,m,x,D,E){D[E+0]=At(d,m),D[E+1]=Tt(d,m,x),D[E+2]=ht(d,x)}function Xi(d,m,x,D,E){var P=Tt(d,m,x);m=P<<3&224|At(d,m)>>3,D[E+0]=248&ht(d,x)|P>>5,D[E+1]=m}function dn(d,m,x,D,E){var P=240&At(d,m)|15;D[E+0]=240&ht(d,x)|Tt(d,m,x)>>4,D[E+1]=P}function jn(d,m,x,D,E){D[E+0]=255,Gt(d,m,x,D,E+1)}function yn(d,m,x,D,E){zi(d,m,x,D,E),D[E+3]=255}function co(d,m,x,D,E){Gt(d,m,x,D,E),D[E+3]=255}function Cr(d,m){return 0>d?0:d>m?m:d}function Lo(d,m,x){U[d]=function(D,E,P,N,L,F,z,re,ve){for(var be=re+(-2&ve)*x;re!=be;)m(D[E+0],P[N+0],L[F+0],z,re),m(D[E+1],P[N+0],L[F+0],z,re+x),E+=2,++N,++F,re+=2*x;1&ve&&m(D[E+0],P[N+0],L[F+0],z,re)}}function zp(d,m,x){return x==0?d==0?m==0?6:5:m==0?4:0:x}function ou(d,m,x,D,E){switch(d>>>30){case 3:ua(m,x,D,E,0);break;case 2:en(m,x,D,E);break;case 1:Xn(m,x,D,E)}}function au(d,m){var x,D,E=m.M,P=m.Nb,N=d.oc,L=d.pc+40,F=d.oc,z=d.pc+584,re=d.oc,ve=d.pc+600;for(x=0;16>x;++x)N[L+32*x-1]=129;for(x=0;8>x;++x)F[z+32*x-1]=129,re[ve+32*x-1]=129;for(0<E?N[L-1-32]=F[z-1-32]=re[ve-1-32]=129:(r(N,L-32-1,127,21),r(F,z-32-1,127,9),r(re,ve-32-1,127,9)),D=0;D<d.za;++D){var be=m.ya[m.aa+D];if(0<D){for(x=-1;16>x;++x)n(N,L+32*x-4,N,L+32*x+12,4);for(x=-1;8>x;++x)n(F,z+32*x-4,F,z+32*x+4,4),n(re,ve+32*x-4,re,ve+32*x+4,4)}var ce=d.Gd,Re=d.Hd+D,Ee=be.ad,oe=be.Hc;if(0<E&&(n(N,L-32,ce[Re].y,0,16),n(F,z-32,ce[Re].f,0,8),n(re,ve-32,ce[Re].ea,0,8)),be.Za){var ae=N,Ne=L-32+16;for(0<E&&(D>=d.za-1?r(ae,Ne,ce[Re].y[15],4):n(ae,Ne,ce[Re+1].y,0,4)),x=0;4>x;x++)ae[Ne+128+x]=ae[Ne+256+x]=ae[Ne+384+x]=ae[Ne+0+x];for(x=0;16>x;++x,oe<<=2)ae=N,Ne=L+Qy[x],uo[be.Ob[x]](ae,Ne),ou(oe,Ee,16*+x,ae,Ne)}else if(ae=zp(D,E,be.Ob[0]),Za[ae](N,L),oe!=0)for(x=0;16>x;++x,oe<<=2)ou(oe,Ee,16*+x,N,L+Qy[x]);for(x=be.Gc,ae=zp(D,E,be.Dd),pa[ae](F,z),pa[ae](re,ve),oe=Ee,ae=F,Ne=z,255&(be=x>>0)&&(170&be?uu(oe,256,ae,Ne):Fr(oe,256,ae,Ne)),be=re,oe=ve,255&(x>>=8)&&(170&x?uu(Ee,320,be,oe):Fr(Ee,320,be,oe)),E<d.Ub-1&&(n(ce[Re].y,0,N,L+480,16),n(ce[Re].f,0,F,z+224,8),n(ce[Re].ea,0,re,ve+224,8)),x=8*P*d.B,ce=d.sa,Re=d.ta+16*D+16*P*d.R,Ee=d.qa,be=d.ra+8*D+x,oe=d.Ha,ae=d.Ia+8*D+x,x=0;16>x;++x)n(ce,Re+x*d.R,N,L+32*x,16);for(x=0;8>x;++x)n(Ee,be+x*d.B,F,z+32*x,8),n(oe,ae+x*d.B,re,ve+32*x,8)}}function uc(d,m,x,D,E,P,N,L,F){var z=[0],re=[0],ve=0,be=F!=null?F.kd:0,ce=F??new tu;if(d==null||12>x)return 7;ce.data=d,ce.w=m,ce.ha=x,m=[m],x=[x],ce.gb=[ce.gb];e:{var Re=m,Ee=x,oe=ce.gb;if(t(d!=null),t(Ee!=null),t(oe!=null),oe[0]=0,12<=Ee[0]&&!e(d,Re[0],"RIFF")){if(e(d,Re[0]+8,"WEBP")){oe=3;break e}var ae=Ke(d,Re[0]+4);if(12>ae||4294967286<ae){oe=3;break e}if(be&&ae>Ee[0]-8){oe=7;break e}oe[0]=ae,Re[0]+=12,Ee[0]-=12}oe=0}if(oe!=0)return oe;for(ae=0<ce.gb[0],x=x[0];;){e:{var Ne=d;Ee=m,oe=x;var je=z,Le=re,rt=Re=[0];if((Je=ve=[ve])[0]=0,8>oe[0])oe=7;else{if(!e(Ne,Ee[0],"VP8X")){if(Ke(Ne,Ee[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var We=Ke(Ne,Ee[0]+8),pt=1+et(Ne,Ee[0]+12);if(2147483648<=pt*(Ne=1+et(Ne,Ee[0]+15))){oe=3;break e}rt!=null&&(rt[0]=We),je!=null&&(je[0]=pt),Le!=null&&(Le[0]=Ne),Ee[0]+=18,oe[0]-=18,Je[0]=1}oe=0}}if(ve=ve[0],Re=Re[0],oe!=0)return oe;if(Ee=!!(2&Re),!ae&&ve)return 3;if(P!=null&&(P[0]=!!(16&Re)),N!=null&&(N[0]=Ee),L!=null&&(L[0]=0),N=z[0],Re=re[0],ve&&Ee&&F==null){oe=0;break}if(4>x){oe=7;break}if(ae&&ve||!ae&&!ve&&!e(d,m[0],"ALPH")){x=[x],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{We=d,oe=m,ae=x;var Je=ce.gb;je=ce.na,Le=ce.P,rt=ce.Sa,pt=22,t(We!=null),t(ae!=null),Ne=oe[0];var Qt=ae[0];for(t(je!=null),t(rt!=null),je[0]=null,Le[0]=null,rt[0]=0;;){if(oe[0]=Ne,ae[0]=Qt,8>Qt){oe=7;break e}var hi=Ke(We,Ne+4);if(4294967286<hi){oe=3;break e}var Yt=8+hi+1&-2;if(pt+=Yt,0<Je&&pt>Je){oe=3;break e}if(!e(We,Ne,"VP8 ")||!e(We,Ne,"VP8L")){oe=0;break e}if(Qt[0]<Yt){oe=7;break e}e(We,Ne,"ALPH")||(je[0]=We,Le[0]=Ne+8,rt[0]=hi),Ne+=Yt,Qt-=Yt}}if(x=x[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],oe!=0)break}x=[x],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(Je=d,oe=m,ae=x,je=ce.gb[0],Le=ce.Ja,rt=ce.xa,We=oe[0],Ne=!e(Je,We,"VP8 "),pt=!e(Je,We,"VP8L"),t(Je!=null),t(ae!=null),t(Le!=null),t(rt!=null),8>ae[0])oe=7;else{if(Ne||pt){if(Je=Ke(Je,We+4),12<=je&&Je>je-12){oe=3;break e}if(be&&Je>ae[0]-8){oe=7;break e}Le[0]=Je,oe[0]+=8,ae[0]-=8,rt[0]=pt}else rt[0]=5<=ae[0]&&Je[We+0]==47&&!(Je[We+4]>>5),Le[0]=ae[0];oe=0}if(x=x[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],m=m[0],oe!=0)break;if(4294967286<ce.Ja)return 3;if(L==null||Ee||(L[0]=ce.xa?2:1),N=[N],Re=[Re],ce.xa){if(5>x){oe=7;break}L=N,be=Re,Ee=P,d==null||5>x?d=0:5<=x&&d[m+0]==47&&!(d[m+4]>>5)?(ae=[0],Je=[0],je=[0],fe(Le=new O,d,m,x),ft(Le,ae,Je,je)?(L!=null&&(L[0]=ae[0]),be!=null&&(be[0]=Je[0]),Ee!=null&&(Ee[0]=je[0]),d=1):d=0):d=0}else{if(10>x){oe=7;break}L=Re,d==null||10>x||!Ip(d,m+3,x-3)?d=0:(be=d[m+0]|d[m+1]<<8|d[m+2]<<16,Ee=16383&(d[m+7]<<8|d[m+6]),d=16383&(d[m+9]<<8|d[m+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=ce.Ja||!Ee||!d?d=0:(N&&(N[0]=Ee),L&&(L[0]=d),d=1))}if(!d||(N=N[0],Re=Re[0],ve&&(z[0]!=N||re[0]!=Re)))return 3;F!=null&&(F[0]=ce,F.offset=m-F.w,t(4294967286>m-F.w),t(F.offset==F.ha-x));break}return oe==0||oe==7&&ve&&F==null?(P!=null&&(P[0]|=ce.na!=null&&0<ce.na.length),D!=null&&(D[0]=N),E!=null&&(E[0]=Re),0):oe}function su(d,m,x){var D=m.width,E=m.height,P=0,N=0,L=D,F=E;if(m.Da=d!=null&&0<d.Da,m.Da&&(L=d.cd,F=d.bd,P=d.v,N=d.j,11>x||(P&=-2,N&=-2),0>P||0>N||0>=L||0>=F||P+L>D||N+F>E))return 0;if(m.v=P,m.j=N,m.va=P+L,m.o=N+F,m.U=L,m.T=F,m.da=d!=null&&0<d.da,m.da){if(!kt(L,F,x=[d.ib],P=[d.hb]))return 0;m.ib=x[0],m.hb=P[0]}return m.ob=d!=null&&d.ob,m.Kb=d==null||!d.Sd,m.da&&(m.ob=m.ib<3*D/4&&m.hb<3*E/4,m.Kb=0),1}function lu(d){if(d==null)return 2;if(11>d.S){var m=d.f.RGBA;m.fb+=(d.height-1)*m.A,m.A=-m.A}else m=d.f.kb,d=d.height,m.O+=(d-1)*m.fa,m.fa=-m.fa,m.N+=(d-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(d-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(d-1)*m.lb,m.lb=-m.lb);return 0}function hc(d,m,x,D){if(D==null||0>=d||0>=m)return 2;if(x!=null){if(x.Da){var E=x.cd,P=x.bd,N=-2&x.v,L=-2&x.j;if(0>N||0>L||0>=E||0>=P||N+E>d||L+P>m)return 2;d=E,m=P}if(x.da){if(!kt(d,m,E=[x.ib],P=[x.hb]))return 2;d=E[0],m=P[0]}}D.width=d,D.height=m;e:{var F=D.width,z=D.height;if(d=D.S,0>=F||0>=z||!(d>=Xp&&13>d))d=2;else{if(0>=D.Rd&&D.sd==null){N=P=E=m=0;var re=(L=F*e2[d])*z;if(11>d||(P=(z+1)/2*(m=(F+1)/2),d==12&&(N=(E=F)*z)),(z=o(re+2*P+N))==null){d=1;break e}D.sd=z,11>d?((F=D.f.RGBA).eb=z,F.fb=0,F.A=L,F.size=re):((F=D.f.kb).y=z,F.O=0,F.fa=L,F.Fd=re,F.f=z,F.N=0+re,F.Ab=m,F.Cd=P,F.ea=z,F.W=0+re+P,F.Db=m,F.Ed=P,d==12&&(F.F=z,F.J=0+re+2*P),F.Tc=N,F.lb=E)}if(m=1,E=D.S,P=D.width,N=D.height,E>=Xp&&13>E)if(11>E)d=D.f.RGBA,m&=(L=Math.abs(d.A))*(N-1)+P<=d.size,m&=L>=P*e2[E],m&=d.eb!=null;else{d=D.f.kb,L=(P+1)/2,re=(N+1)/2,F=Math.abs(d.fa),z=Math.abs(d.Ab);var ve=Math.abs(d.Db),be=Math.abs(d.lb),ce=be*(N-1)+P;m&=F*(N-1)+P<=d.Fd,m&=z*(re-1)+L<=d.Cd,m=(m&=ve*(re-1)+L<=d.Ed)&F>=P&z>=L&ve>=L,m&=d.y!=null,m&=d.f!=null,m&=d.ea!=null,E==12&&(m&=be>=P,m&=ce<=d.Tc,m&=d.F!=null)}else m=0;d=m?0:2}}return d!=0||x!=null&&x.fd&&(d=lu(D)),d}var Mn=64,pc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fc=24,mc=32,cu=8,ar=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(d){return d},U.Predictor2=function(d,m,x){return m[x+0]},U.Predictor3=function(d,m,x){return m[x+1]},U.Predictor4=function(d,m,x){return m[x-1]},U.Predictor5=function(d,m,x){return Qe(Qe(d,m[x+1]),m[x+0])},U.Predictor6=function(d,m,x){return Qe(d,m[x-1])},U.Predictor7=function(d,m,x){return Qe(d,m[x+0])},U.Predictor8=function(d,m,x){return Qe(m[x-1],m[x+0])},U.Predictor9=function(d,m,x){return Qe(m[x+0],m[x+1])},U.Predictor10=function(d,m,x){return Qe(Qe(d,m[x-1]),Qe(m[x+0],m[x+1]))},U.Predictor11=function(d,m,x){var D=m[x+0];return 0>=Nt(D>>24&255,d>>24&255,(m=m[x-1])>>24&255)+Nt(D>>16&255,d>>16&255,m>>16&255)+Nt(D>>8&255,d>>8&255,m>>8&255)+Nt(255&D,255&d,255&m)?D:d},U.Predictor12=function(d,m,x){var D=m[x+0];return(ut((d>>24&255)+(D>>24&255)-((m=m[x-1])>>24&255))<<24|ut((d>>16&255)+(D>>16&255)-(m>>16&255))<<16|ut((d>>8&255)+(D>>8&255)-(m>>8&255))<<8|ut((255&d)+(255&D)-(255&m)))>>>0},U.Predictor13=function(d,m,x){var D=m[x-1];return(Dt((d=Qe(d,m[x+0]))>>24&255,D>>24&255)<<24|Dt(d>>16&255,D>>16&255)<<16|Dt(d>>8&255,D>>8&255)<<8|Dt(d>>0&255,D>>0&255))>>>0};var Kg=U.PredictorAdd0;U.PredictorAdd1=Rt,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var du=U.PredictorAdd2;Vt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var qp,Rr=U.ColorIndexInverseTransform,gc=U.MapARGB,Hp=U.VP8LColorIndexInverseTransformAlpha,Gp=U.MapAlpha,$a=U.VP8LPredictorsAdd=[];$a.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var ol,sr,Yn,Wa,ca,da,vc,ua,en,uu,Xn,Fr,bc,$p,hu,al,sl,Ya,ll,_c,cl,Xa,pu,jr,Br,Ai,Ei,tn,vn=o(511),ha=o(2041),fu=o(225),yc=o(767),Wp=0,Jg=ha,Yp=fu,wr=yc,Vr=vn,Xp=0,Zp=1,zy=2,Kp=3,Jp=4,Qg=5,qy=6,ev=7,tv=8,Qp=9,iv=10,HE=[2,3,7],GE=[3,3,11],Hy=[280,256,256,256,40],$E=[0,1,1,1,0],WE=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],YE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],XE=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ZE=8,nv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mu=null,KE=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],JE=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],QE=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],e3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],t3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],i3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Za=[],uo=[],pa=[],n3=1,$y=2,Ka=[],Ur=[];ke("UpsampleRgbLinePair",Gt,3),ke("UpsampleBgrLinePair",zi,3),ke("UpsampleRgbaLinePair",co,4),ke("UpsampleBgraLinePair",yn,4),ke("UpsampleArgbLinePair",jn,4),ke("UpsampleRgba4444LinePair",dn,2),ke("UpsampleRgb565LinePair",Xi,2);var r3=U.UpsampleRgbLinePair,o3=U.UpsampleBgrLinePair,Wy=U.UpsampleRgbaLinePair,Yy=U.UpsampleBgraLinePair,Xy=U.UpsampleArgbLinePair,Zy=U.UpsampleRgba4444LinePair,a3=U.UpsampleRgb565LinePair,ef=16,tf=1<<ef-1,gu=-227,ov=482,Ky=6,s3=(256<<Ky)-1,Jy=0,l3=o(256),c3=o(256),d3=o(256),u3=o(256),h3=o(ov-gu),p3=o(ov-gu);Lo("YuvToRgbRow",Gt,3),Lo("YuvToBgrRow",zi,3),Lo("YuvToRgbaRow",co,4),Lo("YuvToBgraRow",yn,4),Lo("YuvToArgbRow",jn,4),Lo("YuvToRgba4444Row",dn,2),Lo("YuvToRgb565Row",Xi,2);var Qy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nf=[0,2,8],f3=[8,7,6,4,4,2,2,2,1,1,1,1],m3=1;this.WebPDecodeRGBA=function(d,m,x,D,E){var P=Zp,N=new cc,L=new io;N.ba=L,L.S=P,L.width=[L.width],L.height=[L.height];var F=L.width,z=L.height,re=new oa;if(re==null||d==null)var ve=2;else t(re!=null),ve=uc(d,m,x,re.width,re.height,re.Pd,re.Qd,re.format,null);if(ve!=0?F=0:(F!=null&&(F[0]=re.width[0]),z!=null&&(z[0]=re.height[0]),F=1),F){L.width=L.width[0],L.height=L.height[0],D!=null&&(D[0]=L.width),E!=null&&(E[0]=L.height);e:{if(D=new ic,(E=new tu).data=d,E.w=m,E.ha=x,E.kd=1,m=[0],t(E!=null),((d=uc(E.data,E.w,E.ha,null,null,null,m,null,E))==0||d==7)&&m[0]&&(d=4),(m=d)==0){if(t(N!=null),D.data=E.data,D.w=E.w+E.offset,D.ha=E.ha-E.offset,D.put=Eo,D.ac=Tn,D.bc=ko,D.ma=N,E.xa){if((d=Lr())==null){N=1;break e}if(function(be,ce){var Re=[0],Ee=[0],oe=[0];t:for(;;){if(be==null)return 0;if(ce==null)return be.a=2,0;if(be.l=ce,be.a=0,fe(be.m,ce.data,ce.w,ce.ha),!ft(be.m,Re,Ee,oe)){be.a=3;break t}if(be.xb=$y,ce.width=Re[0],ce.height=Ee[0],!Po(Re[0],Ee[0],1,be,null))break t;return 1}return t(be.a!=0),0}(d,D)){if(D=(m=hc(D.width,D.height,N.Oa,N.ba))==0){t:{D=d;i:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((x=D.l)!=null),t((E=x.ma)!=null),D.xb!=0){if(D.ca=E.ba,D.tb=E.tb,t(D.ca!=null),!su(E.Oa,x,Kp)){D.a=2;break i}if(!el(D,x.width)||x.da)break i;if((x.da||ri(D.ca.S))&&he(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&he()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!_t(D.s.vb,D.s.Wa.Xa)){D.a=1;break i}D.xb=0}if(!ao(D,D.V,D.Ba,D.c,D.i,x.o,Zl))break i;E.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(m=d.a)}else m=d.a}else{if((d=new Pg)==null){N=1;break e}if(d.Fa=E.na,d.P=E.P,d.qc=E.Sa,Ap(d,D)){if((m=hc(D.width,D.height,N.Oa,N.ba))==0){if(d.Aa=0,x=N.Oa,t((E=d)!=null),x!=null){if(0<(F=0>(F=x.Md)?0:100<F?255:255*F/100)){for(z=re=0;4>z;++z)12>(ve=E.pb[z]).lc&&(ve.ia=F*f3[0>ve.lc?0:ve.lc]>>3),re|=ve.ia;re&&(alert("todo:VP8InitRandom"),E.ia=1)}E.Ga=x.Id,100<E.Ga?E.Ga=100:0>E.Ga&&(E.Ga=0)}Og(d,D)||(m=d.a)}}else m=d.a}m==0&&N.Oa!=null&&N.Oa.fd&&(m=lu(N.ba))}N=m}P=N!=0?null:11>P?L.f.RGBA.eb:L.f.kb.y}else P=null;return P};var e2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(U,ie){for(var ge="",R=0;R<4;R++)ge+=String.fromCharCode(U[ie++]);return ge}function u(U,ie){return(U[ie+0]<<0|U[ie+1]<<8|U[ie+2]<<16)>>>0}function f(U,ie){return(U[ie+0]<<0|U[ie+1]<<8|U[ie+2]<<16|U[ie+3]<<24)>>>0}new l;var y=[0],g=[0],S=[],w=new l,I=i,A=function(U,ie){var ge={},R=0,B=!1,Q=0,K=0;if(ge.frames=[],!function(H,W,ee,se){for(var ye=0;ye<se;ye++)if(H[W+ye]!=ee.charCodeAt(ye))return!0;return!1}(U,ie,"RIFF",4)){var me,pe;for(f(U,ie+=4),ie+=8;ie<U.length;){var xe=c(U,ie),fe=f(U,ie+=4);ie+=4;var Se=fe+(1&fe);switch(xe){case"VP8 ":case"VP8L":ge.frames[R]===void 0&&(ge.frames[R]={}),(O=ge.frames[R]).src_off=B?K:ie-8,O.src_size=Q+fe+8,R++,B&&(B=!1,Q=0,K=0);break;case"VP8X":(O=ge.header={}).feature_flags=U[ie];var Me=ie+4;O.canvas_width=1+u(U,Me),Me+=3,O.canvas_height=1+u(U,Me),Me+=3;break;case"ALPH":B=!0,Q=Se+8,K=ie-8;break;case"ANIM":(O=ge.header).bgcolor=f(U,ie),Me=ie+4,O.loop_count=(me=U)[(pe=Me)+0]<<0|me[pe+1]<<8,Me+=2;break;case"ANMF":var Ze,O;(O=ge.frames[R]={}).offset_x=2*u(U,ie),ie+=3,O.offset_y=2*u(U,ie),ie+=3,O.width=1+u(U,ie),ie+=3,O.height=1+u(U,ie),ie+=3,O.duration=u(U,ie),ie+=3,Ze=U[ie++],O.dispose=1&Ze,O.blend=Ze>>1&1}xe!="ANMF"&&(ie+=Se)}return ge}}(I,0);A.response=I,A.rgbaoutput=!0,A.dataurl=!1;var T=A.header?A.header:null,V=A.frames?A.frames:null;if(T){T.loop_counter=T.loop_count,y=[T.canvas_height],g=[T.canvas_width];for(var Z=0;Z<V.length&&V[Z].blend!=0;Z++);}var $=V[0],ne=w.WebPDecodeRGBA(I,$.src_off,$.src_size,g,y);$.rgba=ne,$.imgwidth=g[0],$.imgheight=y[0];for(var J=0;J<g[0]*y[0]*4;J++)S[J]=ne[J];return this.width=g,this.height=y,this.data=S,this}(function(i){var t=function(){return typeof Wm=="function"},e=function(y,g,S,w){var I=4,A=a;switch(w){case i.image_compression.FAST:I=1,A=o;break;case i.image_compression.MEDIUM:I=6,A=s;break;case i.image_compression.SLOW:I=9,A=l}y=n(y,g,S,A);var T=Wm(y,{level:I});return i.__addimage__.arrayBufferToBinaryString(T)},n=function(y,g,S,w){for(var I,A,T,V=y.length/g,Z=new Uint8Array(y.length+V),$=u(),ne=0;ne<V;ne+=1){if(T=ne*g,I=y.subarray(T,T+g),w)Z.set(w(I,S,A),T+ne);else{for(var J,U=$.length,ie=[];J<U;J+=1)ie[J]=$[J](I,S,A);var ge=f(ie.concat());Z.set(ie[ge],T+ne)}A=I}return Z},r=function(y){var g=Array.apply([],y);return g.unshift(0),g},o=function(y,g){var S,w=[],I=y.length;w[0]=1;for(var A=0;A<I;A+=1)S=y[A-g]||0,w[A+1]=y[A]-S+256&255;return w},a=function(y,g,S){var w,I=[],A=y.length;I[0]=2;for(var T=0;T<A;T+=1)w=S&&S[T]||0,I[T+1]=y[T]-w+256&255;return I},s=function(y,g,S){var w,I,A=[],T=y.length;A[0]=3;for(var V=0;V<T;V+=1)w=y[V-g]||0,I=S&&S[V]||0,A[V+1]=y[V]+256-(w+I>>>1)&255;return A},l=function(y,g,S){var w,I,A,T,V=[],Z=y.length;V[0]=4;for(var $=0;$<Z;$+=1)w=y[$-g]||0,I=S&&S[$]||0,A=S&&S[$-g]||0,T=c(w,I,A),V[$+1]=y[$]-T+256&255;return V},c=function(y,g,S){if(y===g&&g===S)return y;var w=Math.abs(g-S),I=Math.abs(y-S),A=Math.abs(y+g-S-S);return w<=I&&w<=A?y:I<=A?g:S},u=function(){return[r,o,a,s,l]},f=function(y){var g=y.map(function(S){return S.reduce(function(w,I){return w+Math.abs(I)},0)});return g.indexOf(Math.min.apply(null,g))};i.processPNG=function(y,g,S,w){var I,A,T,V,Z,$,ne,J,U,ie,ge,R,B,Q,K,me=this.decode.FLATE_DECODE,pe="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(T=new _F(y)).imgData,A=T.bits,I=T.colorSpace,Z=T.colors,[4,6].indexOf(T.colorType)!==-1){if(T.bits===8){U=(J=T.pixelBitlength==32?new Uint32Array(T.decodePixels().buffer):T.pixelBitlength==16?new Uint16Array(T.decodePixels().buffer):new Uint8Array(T.decodePixels().buffer)).length,ge=new Uint8Array(U*T.colors),ie=new Uint8Array(U);var xe,fe=T.pixelBitlength-T.bits;for(Q=0,K=0;Q<U;Q++){for(B=J[Q],xe=0;xe<fe;)ge[K++]=B>>>xe&255,xe+=T.bits;ie[Q]=B>>>xe&255}}if(T.bits===16){U=(J=new Uint32Array(T.decodePixels().buffer)).length,ge=new Uint8Array(U*(32/T.pixelBitlength)*T.colors),ie=new Uint8Array(U*(32/T.pixelBitlength)),R=T.colors>1,Q=0,K=0;for(var Se=0;Q<U;)B=J[Q++],ge[K++]=B>>>0&255,R&&(ge[K++]=B>>>16&255,B=J[Q++],ge[K++]=B>>>0&255),ie[Se++]=B>>>16&255;A=8}w!==i.image_compression.NONE&&t()?(y=e(ge,T.width*T.colors,T.colors,w),ne=e(ie,T.width,1,w)):(y=ge,ne=ie,me=void 0)}if(T.colorType===3&&(I=this.color_spaces.INDEXED,$=T.palette,T.transparency.indexed)){var Me=T.transparency.indexed,Ze=0;for(Q=0,U=Me.length;Q<U;++Q)Ze+=Me[Q];if((Ze/=255)===U-1&&Me.indexOf(0)!==-1)V=[Me.indexOf(0)];else if(Ze!==U){for(J=T.decodePixels(),ie=new Uint8Array(J.length),Q=0,U=J.length;Q<U;Q++)ie[Q]=Me[J[Q]];ne=e(ie,T.width,1)}}var O=function(H){var W;switch(H){case i.image_compression.FAST:W=11;break;case i.image_compression.MEDIUM:W=13;break;case i.image_compression.SLOW:W=14;break;default:W=12}return W}(w);return me===this.decode.FLATE_DECODE&&(pe="/Predictor "+O+" "),pe+="/Colors "+Z+" /BitsPerComponent "+A+" /Columns "+T.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(ne&&this.__addimage__.isArrayBuffer(ne)||this.__addimage__.isArrayBufferView(ne))&&(ne=this.__addimage__.arrayBufferToBinaryString(ne)),{alias:S,data:y,index:g,filter:me,decodeParameters:pe,transparency:V,palette:$,sMask:ne,predictor:O,width:T.width,height:T.height,bitsPerComponent:A,colorSpace:I}}}})(bt.API),function(i){i.processGIF89A=function(t,e,n,r){var o=new yF(t),a=o.width,s=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:s},u=new K_(100).encode(c,100);return i.processJPEG.call(this,u,e,n,r)},i.processGIF87A=i.processGIF89A}(bt.API),xo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:n,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xo.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){Si.log("bit decode error:"+e)}},xo.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<t;r++)for(var o=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*r*4,s=0;s<8&&8*r+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=l.blue,this.data[a+4*s+1]=l.green,this.data[a+4*s+2]=l.red,this.data[a+4*s+3]=255}e!==0&&(this.pos+=4-e)}},xo.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<i;r++){var o=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*r*4,s=o>>4,l=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*r+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},xo.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;if(r<this.palette.length){var a=this.palette[r];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}i!==0&&(this.pos+=4-i)}},xo.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,s=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,u=n*this.width*4+4*r;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=c}this.pos+=i}},xo.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&e)/e*255|0,c=(a>>11)/t*255|0,u=r*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=255}this.pos+=i}},xo.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},xo.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=n,this.data[s+3]=a}},xo.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,n,r){var o=new xo(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new K_(100).encode(l,100);return i.processJPEG.call(this,c,e,n,r)}}(bt.API),Z5.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,n,r){var o=new Z5(t,!1),a=o.width,s=o.height,l={data:o.getData(),width:a,height:s},c=new K_(100).encode(l,100);return i.processJPEG.call(this,c,e,n,r)}}(bt.API),bt.API.processRGBA=function(i,t,e){for(var n=i.data,r=n.length,o=new Uint8Array(r/4*3),a=new Uint8Array(r/4),s=0,l=0,c=0;c<r;c+=4){var u=n[c],f=n[c+1],y=n[c+2],g=n[c+3];o[s++]=u,o[s++]=f,o[s++]=y,a[l++]=g}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:S,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},bt.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},od=bt.API,Km=od.getCharWidthsArray=function(i,t){var e,n,r=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:r.metadata.Unicode.widths,l=s.fof?s.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,y=0,g=i.length,S=0,w=s[0]||l,I=[];for(e=0;e<g;e++)n=i.charCodeAt(e),typeof r.metadata.widthOfString=="function"?I.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(n))+a*(1e3/o)||0)/1e3):(y=f&&bi(c[n])==="object"&&!isNaN(parseInt(c[n][S],10))?c[n][S]/u:0,I.push((s[n]||w)/l+y)),S=n;return I},$5=od.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return od.processArabic&&(i=od.processArabic(i)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(i,e,r)/e:Km.apply(this,arguments).reduce(function(o,a){return o+a},0)},W5=function(i,t,e,n){for(var r=[],o=0,a=i.length,s=0;o!==a&&s+t[o]<e;)s+=t[o],o++;r.push(i.slice(0,o));var l=o;for(s=0;o!==a;)s+t[o]>n&&(r.push(i.slice(l,o)),s=0,l=o),s+=t[o],o++;return l!==o&&r.push(i.slice(l,o)),r},Y5=function(i,t,e){e||(e={});var n,r,o,a,s,l,c,u=[],f=[u],y=e.textIndent||0,g=0,S=0,w=i.split(" "),I=Km.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?w[0].length+2:e.lineIndent||0){var A=Array(l).join(" "),T=[];w.map(function(Z){(Z=Z.split(/\s*\n/)).length>1?T=T.concat(Z.map(function($,ne){return(ne&&$.length?`
`:"")+$})):T.push(Z[0])}),w=T,l=$5.apply(this,[A,e])}for(o=0,a=w.length;o<a;o++){var V=0;if(n=w[o],l&&n[0]==`
`&&(n=n.substr(1),V=1),y+g+(S=(r=Km.apply(this,[n,e])).reduce(function(Z,$){return Z+$},0))>t||V){if(S>t){for(s=W5.apply(this,[n,r,t-(y+g),t]),u.push(s.shift()),u=[s.pop()];s.length;)f.push([s.shift()]);S=r.slice(n.length-(u[0]?u[0].length:0)).reduce(function(Z,$){return Z+$},0)}else u=[n];f.push(u),y=S+l,g=I}else u.push(n),y+=g+S,g=I}return c=l?function(Z,$){return($?A:"")+Z.join(" ")}:function(Z){return Z.join(" ")},f.map(c)},od.splitTextToSize=function(i,t,e){var n,r=(e=e||{}).fontSize||this.internal.getFontSize(),o=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/r;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=e.lineIndent;var s,l,c=[];for(s=0,l=n.length;s<l;s++)c=c.concat(Y5.apply(this,[n[s],a,o]));return c},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},r=0;r<t.length;r++)e[t[r]]="0123456789abcdef"[r],n["0123456789abcdef"[r]]=t[r];var o=function(f){return"0x"+parseInt(f,10).toString(16)},a=i.__fontmetrics__.compress=function(f){var y,g,S,w,I=["{"];for(var A in f){if(y=f[A],isNaN(parseInt(A,10))?g="'"+A+"'":(A=parseInt(A,10),g=(g=o(A).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof y=="number")y<0?(S=o(y).slice(3),w="-"):(S=o(y).slice(2),w=""),S=w+S.slice(0,-1)+n[S.slice(-1)];else{if(bi(y)!=="object")throw new Error("Don't know what to do with value type "+bi(y)+".");S=a(y)}I.push(g+S)}return I.push("}"),I.join("")},s=i.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,g,S,w,I={},A=1,T=I,V=[],Z="",$="",ne=f.length-1,J=1;J<ne;J+=1)(w=f[J])=="'"?y?(S=y.join(""),y=void 0):y=[]:y?y.push(w):w=="{"?(V.push([T,S]),T={},S=void 0):w=="}"?((g=V.pop())[0][g[1]]=T,S=void 0,T=g[0]):w=="-"?A=-1:S===void 0?e.hasOwnProperty(w)?(Z+=e[w],S=parseInt(Z,16)*A,A=1,Z=""):Z+=w:e.hasOwnProperty(w)?($+=e[w],T[S]=parseInt($,16)*A,A=1,S=void 0,$=""):$+=w;return I},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(f){var y=f.font,g=u.Unicode[y.postScriptName];g&&(y.metadata.Unicode={},y.metadata.Unicode.widths=g.widths,y.metadata.Unicode.kerning=g.kerning);var S=c.Unicode[y.postScriptName];S&&(y.metadata.Unicode.encoding=S,y.encoding=S.codePages[0])}])}(bt.API),function(i){var t=function(e){for(var n=e.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=e.charCodeAt(o);return r};i.API.events.push(["addFont",function(e){var n=void 0,r=e.font,o=e.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(n=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(Vh(s)),a.metadata=i.API.TTFFont.open(s),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,n)}}])}(bt),function(i){function t(){return(yt.canvg?Promise.resolve(yt.canvg):import("./chunk-VRARE7WB.js")).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}bt.API.addSvgAsImage=function(e,n,r,o,a,s,l,c){if(isNaN(n)||isNaN(r))throw Si.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw Si.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(S){return S.fromString(f,e,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(y)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),n,r,o,a,l,c)})}}(),bt.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(t,e);return this},bt.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var n,r,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),l=[],c=0,u=0,f=0;function y(S,w){var I,A=!1;for(I=0;I<S.length;I+=1)S[I]===w&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var g=s.length;for(f=0;f<g;f+=1)e[s[f]].value=e[s[f]].defaultValue,e[s[f]].explicitSet=!1}if(bi(i)==="object"){for(r in i)if(o=i[r],y(s,r)&&o!==void 0){if(e[r].type==="boolean"&&typeof o=="boolean")e[r].value=o;else if(e[r].type==="name"&&y(e[r].valueSet,o))e[r].value=o;else if(e[r].type==="integer"&&Number.isInteger(o))e[r].value=o;else if(e[r].type==="array"){for(c=0;c<o.length;c+=1)if(n=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(n=!1);n===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,w=[];for(S in e)e[S].explicitSet===!0&&(e[S].type==="name"?w.push("/"+S+" /"+e[S].value):w.push("/"+S+" "+e[S].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(i){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+a.length+s.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+o+a+s+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(bt.API),function(i){var t=i.API,e=t.pdfEscape16=function(o,a){for(var s,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,y=o.length;f<y;++f){if(s=a.metadata.characterToGlyph(o.charCodeAt(f)),a.metadata.glyIdsUsed.push(s),a.metadata.toUnicode[s]=o.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(a.metadata.widthOfGlyph(s),10)])),s=="0")return u.join("");s=s.toString(16),u.push(c[4-s.length],s)}return u.join("")},n=function(o){var a,s,l,c,u,f,y;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,y=(s=Object.keys(o).sort(function(g,S){return g-S})).length;f<y;f++)a=s[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[a]!==void 0&&o[a]!==null&&typeof o[a].toString=="function"&&(c=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,u=a.putStream;if(s.metadata instanceof i.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,y=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),g="",S=0;S<y.length;S++)g+=String.fromCharCode(y[S]);var w=c();u({data:g,addLength1:!0,objectId:w}),l("endobj");var I=c();u({data:n(s.metadata.toUnicode),addLength1:!0,objectId:I}),l("endobj");var A=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+sd(s.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+i.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var T=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+sd(s.fontName)),l("/FontDescriptor "+A+" 0 R"),l("/W "+i.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+I+" 0 R"),l("/BaseFont /"+sd(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+T+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(a){var s=a.font,l=a.out,c=a.newObject,u=a.putStream;if(s.metadata instanceof i.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,y="",g=0;g<f.length;g++)y+=String.fromCharCode(f[g]);var S=c();u({data:y,addLength1:!0,objectId:S}),l("endobj");var w=c();u({data:n(s.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var I=c();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+i.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+sd(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=c();for(var A=0;A<s.metadata.hmtx.widths.length;A++)s.metadata.hmtx.widths[A]=parseInt(s.metadata.hmtx.widths[A]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+sd(s.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(o)}]);var r=function(o){var a,s=o.text||"",l=o.x,c=o.y,u=o.options||{},f=o.mutex||{},y=f.pdfEscape,g=f.activeFontKey,S=f.fonts,w=g,I="",A=0,T="",V=S[w].encoding;if(S[w].encoding!=="Identity-H")return{text:s,x:l,y:c,options:u,mutex:f};for(T=s,w=g,Array.isArray(s)&&(T=s[0]),A=0;A<T.length;A+=1)S[w].metadata.hasOwnProperty("cmap")&&(a=S[w].metadata.cmap.unicode.codeMap[T[A].charCodeAt(0)]),a||T[A].charCodeAt(0)<256&&S[w].metadata.hasOwnProperty("Unicode")?I+=T[A]:I+="";var Z="";return parseInt(w.slice(1))<14||V==="WinAnsiEncoding"?Z=y(I,w).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):V==="Identity-H"&&(Z=e(I,S[w])),f.isHex=!0,{text:Z,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(o){var a=o.text||"",s=[],l={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?s.push([r(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):s.push(r(Object.assign({},l,{text:a[c]})).text);o.text=s}else o.text=r(Object.assign({},l,{text:a})).text}])}(bt),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(bt.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var r,o,a,s,l,c,u,f=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,V=0;this.__bidiEngine__={};var Z=function(R){var B=R.charCodeAt(),Q=B>>8,K=w[Q];return K!==void 0?f[256*K+(255&B)]:Q===252||Q===253?"AL":A.test(Q)?"L":Q===8?"R":"N"},$=function(R){for(var B,Q=0;Q<R.length;Q++){if((B=Z(R.charAt(Q)))==="L")return!1;if(B==="R")return!0}return!1},ne=function(R,B,Q,K){var me,pe,xe,fe,Se=B[K];switch(Se){case"L":case"R":T=!1;break;case"N":case"AN":break;case"EN":T&&(Se="AN");break;case"AL":T=!0,Se="R";break;case"WS":Se="N";break;case"CS":K<1||K+1>=B.length||(me=Q[K-1])!=="EN"&&me!=="AN"||(pe=B[K+1])!=="EN"&&pe!=="AN"?Se="N":T&&(pe="AN"),Se=pe===me?pe:"N";break;case"ES":Se=(me=K>0?Q[K-1]:"B")==="EN"&&K+1<B.length&&B[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&Q[K-1]==="EN"){Se="EN";break}if(T){Se="N";break}for(xe=K+1,fe=B.length;xe<fe&&B[xe]==="ET";)xe++;Se=xe<fe&&B[xe]==="EN"?"EN":"N";break;case"NSM":if(a&&!s){for(fe=B.length,xe=K+1;xe<fe&&B[xe]==="NSM";)xe++;if(xe<fe){var Me=R[K],Ze=Me>=1425&&Me<=2303||Me===64286;if(me=B[xe],Ze&&(me==="R"||me==="AL")){Se="R";break}}}Se=K<1||(me=B[K-1])==="B"?"N":Q[K-1];break;case"B":T=!1,r=!0,Se=V;break;case"S":o=!0,Se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"BN":Se="N"}return Se},J=function(R,B,Q){var K=R.split("");return Q&&U(K,Q,{hiLevel:V}),K.reverse(),B&&B.reverse(),K.join("")},U=function(R,B,Q){var K,me,pe,xe,fe,Se=-1,Me=R.length,Ze=0,O=[],H=V?g:y,W=[];for(T=!1,r=!1,o=!1,me=0;me<Me;me++)W[me]=Z(R[me]);for(pe=0;pe<Me;pe++){if(fe=Ze,O[pe]=ne(R,W,O,pe),K=240&(Ze=H[fe][S[O[pe]]]),Ze&=15,B[pe]=xe=H[Ze][5],K>0)if(K===16){for(me=Se;me<pe;me++)B[me]=1;Se=-1}else Se=-1;if(H[Ze][6])Se===-1&&(Se=pe);else if(Se>-1){for(me=Se;me<pe;me++)B[me]=xe;Se=-1}W[pe]==="B"&&(B[pe]=0),Q.hiLevel|=xe}o&&function(ee,se,ye){for(var Ce=0;Ce<ye;Ce++)if(ee[Ce]==="S"){se[Ce]=V;for(var De=Ce-1;De>=0&&ee[De]==="WS";De--)se[De]=V}}(W,B,Me)},ie=function(R,B,Q,K,me){if(!(me.hiLevel<R)){if(R===1&&V===1&&!r)return B.reverse(),void(Q&&Q.reverse());for(var pe,xe,fe,Se,Me=B.length,Ze=0;Ze<Me;){if(K[Ze]>=R){for(fe=Ze+1;fe<Me&&K[fe]>=R;)fe++;for(Se=Ze,xe=fe-1;Se<xe;Se++,xe--)pe=B[Se],B[Se]=B[xe],B[xe]=pe,Q&&(pe=Q[Se],Q[Se]=Q[xe],Q[xe]=pe);Ze=fe}Ze++}}},ge=function(R,B,Q){var K=R.split(""),me={hiLevel:V};return Q||(Q=[]),U(K,Q,me),function(pe,xe,fe){if(fe.hiLevel!==0&&u)for(var Se,Me=0;Me<pe.length;Me++)xe[Me]===1&&(Se=I.indexOf(pe[Me]))>=0&&(pe[Me]=I[Se+1])}(K,Q,me),ie(2,K,B,Q,me),ie(1,K,B,Q,me),K.join("")};return this.__bidiEngine__.doBidiReorder=function(R,B,Q){if(function(me,pe){if(pe)for(var xe=0;xe<me.length;xe++)pe[xe]=xe;s===void 0&&(s=$(me)),c===void 0&&(c=$(me))}(R,B),a||!l||c)if(a&&l&&s^c)V=s?1:0,R=J(R,B,Q);else if(!a&&l&&c)V=s?1:0,R=ge(R,B,Q),R=J(R,B);else if(!a||s||l||c){if(a&&!l&&s^c)R=J(R,B),s?(V=0,R=ge(R,B,Q)):(V=1,R=ge(R,B,Q),R=J(R,B));else if(a&&s&&!l&&c)V=1,R=ge(R,B,Q),R=J(R,B);else if(!a&&!l&&s^c){var K=u;s?(V=1,R=ge(R,B,Q),V=0,u=!1,R=ge(R,B,Q),u=K):(V=0,R=ge(R,B,Q),R=J(R,B),V=1,u=!1,R=ge(R,B,Q),u=K,R=J(R,B))}}else V=0,R=ge(R,B,Q);else V=s?1:0,R=ge(R,B,Q);return R},this.__bidiEngine__.setOptions=function(R){R&&(a=R.isInputVisual,l=R.isOutputVisual,s=R.isInputRtl,c=R.isOutputRtl,u=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var r=n.text,o=(n.x,n.y,n.options||{}),a=(n.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var s=0;for(a=[],s=0;s<r.length;s+=1)Object.prototype.toString.call(r[s])==="[object Array]"?a.push([e.doBidiReorder(r[s][0]),r[s][1],r[s][2]]):a.push([e.doBidiReorder(r[s])]);n.text=a}else n.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(bt),bt.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new Ps(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new LF(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new xF(this.contents),this.head=new wF(this),this.name=new EF(this),this.cmap=new lS(this),this.toUnicode={},this.hhea=new SF(this),this.maxp=new kF(this),this.hmtx=new TF(this),this.post=new IF(this),this.os2=new DF(this),this.loca=new NF(this),this.glyf=new MF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,n,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,s,l,c;for(c=[],a=0,s=(l=this.bbox).length;a<s;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,n){var r,o,a,s;for(a=0,o=0,s=(t=""+t).length;0<=s?o<s:o>s;o=0<=s?++o:--o)r=t.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return a*(e/1e3)},i.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},i}();var wo,Ps=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,n,r,o,a,s,l;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^o)+65536*(255^a)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*o+65536*a+256*s+l},i.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},i.prototype.write=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)e=t[n],o.push(this.writeByte(e));return o},i}(),xF=function(){var i;function t(e){var n,r,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,r,o,a,s,l,c,u,f,y,g,S,w;for(w in g=Object.keys(e).length,l=Math.log(2),f=16*Math.floor(Math.log(g)/l),a=Math.floor(f/l),u=16*g-f,(r=new Ps).writeInt(this.scalarType),r.writeShort(g),r.writeShort(f),r.writeShort(a),r.writeShort(u),o=16*g,c=r.pos+o,s=null,S=[],e)for(y=e[w],r.writeString(w),r.writeInt(i(y)),r.writeInt(c),r.writeInt(y.length),S=S.concat(y),w==="head"&&(s=c),c+=y.length;c%4;)S.push(0),c++;return r.write(S),n=2981146554-i(r.data),r.pos=s+8,r.writeUInt32(n),r.data},i=function(e){var n,r,o,a;for(e=cS.call(e);e.length%4;)e.push(0);for(o=new Ps(e),r=0,n=0,a=e.length;n<a;n=n+=4)r+=o.readUInt32();return 4294967295&r},t}(),CF={}.hasOwnProperty,Xo=function(i,t){for(var e in t)CF.call(t,e)&&(i[e]=t[e]);function n(){this.constructor=i}return n.prototype=t.prototype,i.prototype=new n,i.__super__=t.prototype,i};wo=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var wF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Ps).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),K5=function(){function i(t,e){var n,r,o,a,s,l,c,u,f,y,g,S,w,I,A,T,V;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,o=function(){var Z,$;for($=[],l=Z=0;0<=y?Z<y:Z>y;l=0<=y?++Z:--Z)$.push(t.readUInt16());return $}(),t.pos+=2,w=function(){var Z,$;for($=[],l=Z=0;0<=y?Z<y:Z>y;l=0<=y?++Z:--Z)$.push(t.readUInt16());return $}(),c=function(){var Z,$;for($=[],l=Z=0;0<=y?Z<y:Z>y;l=0<=y?++Z:--Z)$.push(t.readUInt16());return $}(),u=function(){var Z,$;for($=[],l=Z=0;0<=y?Z<y:Z>y;l=0<=y?++Z:--Z)$.push(t.readUInt16());return $}(),r=(this.length-t.pos+this.offset)/2,s=function(){var Z,$;for($=[],l=Z=0;0<=r?Z<r:Z>r;l=0<=r?++Z:--Z)$.push(t.readUInt16());return $}(),l=A=0,V=o.length;A<V;l=++A)for(I=o[l],n=T=S=w[l];S<=I?T<=I:T>=I;n=S<=I?++T:--T)u[l]===0?a=n+c[l]:(a=s[u[l]/2+(n-S)-(y-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}t.pos=f}return i.encode=function(t,e){var n,r,o,a,s,l,c,u,f,y,g,S,w,I,A,T,V,Z,$,ne,J,U,ie,ge,R,B,Q,K,me,pe,xe,fe,Se,Me,Ze,O,H,W,ee,se,ye,Ce,De,qe,ze,et;switch(K=new Ps,a=Object.keys(t).sort(function(Ke,_t){return Ke-_t}),e){case"macroman":for(w=0,I=function(){var Ke=[];for(S=0;S<256;++S)Ke.push(0);return Ke}(),T={0:0},o={},me=0,Se=a.length;me<Se;me++)T[De=t[r=a[me]]]==null&&(T[De]=++w),o[r]={old:t[r],new:T[t[r]]},I[r]=T[t[r]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(I),{charMap:o,subtable:K.data,maxGlyphID:w+1};case"unicode":for(B=[],f=[],V=0,T={},n={},A=c=null,pe=0,Me=a.length;pe<Me;pe++)T[$=t[r=a[pe]]]==null&&(T[$]=++V),n[r]={old:$,new:T[$]},s=T[$]-r,A!=null&&s===c||(A&&f.push(A),B.push(r),c=s),A=r;for(A&&f.push(A),f.push(65535),B.push(65535),ge=2*(ie=B.length),U=2*Math.pow(Math.log(ie)/Math.LN2,2),y=Math.log(U/2)/Math.LN2,J=2*ie-U,l=[],ne=[],g=[],S=xe=0,Ze=B.length;xe<Ze;S=++xe){if(R=B[S],u=f[S],R===65535){l.push(0),ne.push(0);break}if(R-(Q=n[R].new)>=32768)for(l.push(0),ne.push(2*(g.length+ie-S)),r=fe=R;R<=u?fe<=u:fe>=u;r=R<=u?++fe:--fe)g.push(n[r].new);else l.push(Q-R),ne.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*ie+2*g.length),K.writeUInt16(0),K.writeUInt16(ge),K.writeUInt16(U),K.writeUInt16(y),K.writeUInt16(J),ye=0,O=f.length;ye<O;ye++)r=f[ye],K.writeUInt16(r);for(K.writeUInt16(0),Ce=0,H=B.length;Ce<H;Ce++)r=B[Ce],K.writeUInt16(r);for(qe=0,W=l.length;qe<W;qe++)s=l[qe],K.writeUInt16(s);for(ze=0,ee=ne.length;ze<ee;ze++)Z=ne[ze],K.writeUInt16(Z);for(et=0,se=g.length;et<se;et++)w=g[et],K.writeUInt16(w);return{charMap:n,subtable:K.data,maxGlyphID:V+1}}},i}(),lS=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=o?r<o:r>o;r=0<=o?++r:--r)n=new K5(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,o;return n==null&&(n="macroman"),r=K5.encode(e,n),(o=new Ps).writeUInt16(0),o.writeUInt16(1),r.table=o.data.concat(r.subtable),r},t}(),SF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),DF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),IF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)n=e.readByte(),o.push(this.names.push(e.readString(n)));return o;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 196608:break;case 262144:return this.map=function(){var s,l,c;for(c=[],a=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;a=0<=l?++s:--s)c.push(e.readUInt32());return c}.call(this)}},t}(),AF=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},EF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,o,a,s,l,c,u,f,y,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),l=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=f=0,y=r.length;f<y;a=++f)o=r[a],e.pos=o.offset,u=e.readString(o.length),s=new AF(u,o),c[g=o.nameID]==null&&(c[g]=[]),c[o.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),kF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),TF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,o,a,s,l,c;for(e.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=o?u<o:u>o;n=0<=o?++u:--u)f.push(e.readInt16());return f}(),this.widths=function(){var u,f,y,g;for(g=[],u=0,f=(y=this.metrics).length;u<f;u++)a=y[u],g.push(a.advance);return g}.call(this),r=this.widths[this.widths.length-1],c=[],n=s=0;0<=o?s<o:s>o;n=0<=o?++s:--s)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),cS=[].slice,MF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,o,a,s,l,c,u,f,y;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(o=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(l=new Ps(n.read(o))).readShort(),u=l.readShort(),y=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[e]=s===-1?new OF(l,u,y,c,f):new PF(l,s,u,y,c,f),this.cache[e]))},t.prototype.encode=function(e,n,r){var o,a,s,l,c;for(s=[],a=[],l=0,c=n.length;l<c;l++)o=e[n[l]],a.push(s.length),o&&(s=s.concat(o.encode(r)));return a.push(s.length),{table:s,offsets:a}},t}(),PF=function(){function i(t,e,n,r,o,a){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=o,this.yMax=a,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),OF=function(){function i(t,e,n,r,o){var a,s;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;s=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&s;)a.pos+=1&s?4:2,128&s?a.pos+=8:64&s?a.pos+=4:8&s&&(a.pos+=2)}return i.prototype.encode=function(){var t,e,n;for(e=new Ps(cS.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),NF=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Xo(t,wo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var o,a;for(a=[],r=0,o=this.length;r<o;r+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var o,a;for(a=[],r=0,o=this.length;r<o;r+=4)a.push(e.readUInt32());return a}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),o=0,a=0,s=0;s<r.length;++s)if(r[s]=o,a<n.length&&n[a]==s){++a,r[s]=o;var l=this.offsets[s],c=this.offsets[s+1]-l;c>0&&(o+=c)}for(var u=new Array(4*r.length),f=0;f<r.length;++f)u[4*f+3]=255&r[f],u[4*f+2]=(65280&r[f])>>8,u[4*f+1]=(16711680&r[f])>>16,u[4*f]=(4278190080&r[f])>>24;return u},t}(),LF=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,n,r,o;for(e in r=this.font.cmap.tables[0].codeMap,t={},o=this.subset)n=o[e],t[e]=r[n];return t},i.prototype.glyphsFor=function(t){var e,n,r,o,a,s,l;for(r={},a=0,s=t.length;a<s;a++)r[o=t[a]]=this.font.glyf.glyphFor(o);for(o in e=[],r)(n=r[o])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(o in l=this.glyphsFor(e))n=l[o],r[o]=n;return r},i.prototype.encode=function(t,e){var n,r,o,a,s,l,c,u,f,y,g,S,w,I,A;for(r in n=lS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),g={0:0},A=n.charMap)g[(l=A[r]).old]=l.new;for(S in y=n.maxGlyphID,a)S in g||(g[S]=y++);return u=function(T){var V,Z;for(V in Z={},T)Z[T[V]]=V;return Z}(g),f=Object.keys(u).sort(function(T,V){return T-V}),w=function(){var T,V,Z;for(Z=[],T=0,V=f.length;T<V;T++)s=f[T],Z.push(u[s]);return Z}(),o=this.font.glyf.encode(a,w,g),c=this.font.loca.encode(o.offsets,w),I={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},i}();bt.API.PDFObject=function(){var i;function t(){}return i=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,r,o,a;if(Array.isArray(e))return"["+function(){var s,l,c;for(c=[],s=0,l=e.length;s<l;s++)n=e[s],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(r in o=["<<"],e)a=e[r],o.push("/"+r+" "+t.convert(a));return o.push(">>"),o.join(`
`)}return""+e},t}();var dS=bt;var uS=E3(k3());var RF=["invoiceContent"];function FF(i,t){if(i&1&&(p(0,"div")(1,"h3",20),b(2,"Drop Location"),h(),p(3,"p",21),b(4),q(5,"br"),b(6),q(7,"br"),b(8),h()()),i&2){let e=t.$implicit;v(4),we(" ",e.companyName,""),v(2),we(" Contact: ",e.contactPerson,""),v(2),we(" Phone: ",e.contactNumber," ")}}var pd=class i{constructor(t,e){this.dialogRef=t;this.invoiceData=e}invoiceContent;currentDate=new Date().toLocaleDateString();downloadPDF(){return Fo(this,null,function*(){let t=document.createElement("div");t.className="fixed top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50 z-50",t.innerHTML='<div class="text-white text-xl">Generating PDF...</div>',document.body.appendChild(t);try{let e=this.invoiceContent.nativeElement,n=yield(0,uS.default)(e,{logging:!1,useCORS:!0}),r=208,o=295,a=n.height*r/n.width,s=a,l=0,c=new dS("p","mm","a4"),u=n.toDataURL("image/png");for(c.addImage(u,"PNG",0,l,r,a),s-=o;s>=0;)l=s-a,c.addPage(),c.addImage(u,"PNG",0,l,r,a),s-=o;let f=`Invoice_${this.invoiceData.receipt}_${new Date().toISOString().split("T")[0]}.pdf`;c.save(f)}catch(e){console.error("Error generating PDF:",e),alert("Error generating PDF. Please try again.")}finally{document.body.removeChild(t)}})}static \u0275fac=function(e){return new(e||i)(le(Pr),le(Nl))};static \u0275cmp=Ye({type:i,selectors:[["app-invoice"]],viewQuery:function(e,n){if(e&1&&vl(RF,5),e&2){let r;cs(r=ds())&&(n.invoiceContent=r.first)}},standalone:!0,features:[Xe],decls:113,vars:41,consts:[["invoiceContent",""],[1,"max-w-5xl","mx-auto","p-6","bg-gray-50","rounded-lg","shadow-md"],[1,"flex","justify-end","mb-6"],[1,"bg-blue-600","hover:bg-blue-700","text-white","font-medium","py-2","px-6","rounded-lg","flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","mr-2"],["fill-rule","evenodd","d","M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"bg-white","p-8","rounded-lg","shadow-lg"],[1,"flex","justify-between","items-center","mb-10","border-b","pb-4"],[1,"text-3xl","font-bold","text-gray-800"],[1,"text-sm","text-gray-500","mt-1"],[1,"text-right"],[1,"text-lg","font-semibold"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-2","gap-6","mb-10"],[1,"text-lg","font-bold","text-gray-800"],[1,"text-sm","text-gray-600","mt-2"],[1,"font-medium"],[1,"mb-10"],[1,"text-lg","font-bold","text-gray-800","mb-4"],[1,"grid","grid-cols-2","gap-6"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-sm","text-gray-600","mt-1"],[4,"ngFor","ngForOf"],[1,"mb-8"],[1,"w-full","text-left","border-collapse"],[1,"bg-gray-100","text-gray-700"],[1,"p-2","text-sm","font-semibold"],[1,"p-2","text-sm","font-semibold","text-right"],[1,"border-b","p-2"],[1,"border-b","p-2","text-right","text-gray-700"],[1,"p-2","text-right","font-semibold"],[1,"p-2","text-right","font-bold","text-gray-800"],[1,"border-t","pt-4"],[1,"text-sm","text-gray-600"]],template:function(e,n){if(e&1){let r=Ge();p(0,"div",1)(1,"div",2)(2,"button",3),_e("click",function(){return Pe(r),Oe(n.downloadPDF())}),Hi(),p(3,"svg",4),q(4,"path",5),h(),b(5," Download PDF "),h()(),nn(),p(6,"div",6,0)(8,"div",7)(9,"div")(10,"h1",8),b(11,"INVOICE"),h(),p(12,"p",9),b(13),h()(),p(14,"div",10)(15,"p",11),b(16),h(),p(17,"p",12),b(18),h(),p(19,"p",12),b(20),h()()(),p(21,"div",13)(22,"div")(23,"h2",14),b(24,"Bill From:"),h(),p(25,"p",15)(26,"span",16),b(27),h(),q(28,"br"),b(29),q(30,"br"),b(31),q(32,"br"),b(33),q(34,"br"),b(35),q(36,"br"),b(37),h()(),p(38,"div")(39,"h2",14),b(40,"Bill To:"),h(),p(41,"p",15)(42,"span",16),b(43),h(),q(44,"br"),b(45),q(46,"br"),b(47),q(48,"br"),b(49),q(50,"br"),b(51),q(52,"br"),b(53),h()()(),p(54,"div",17)(55,"h2",18),b(56,"Delivery Details:"),h(),p(57,"div",19)(58,"div")(59,"h3",20),b(60,"Pickup Location"),h(),p(61,"p",21),b(62),q(63,"br"),b(64),q(65,"br"),b(66),h()(),Y(67,FF,9,3,"div",22),h()(),p(68,"div",23)(69,"h2",18),b(70,"Service Details"),h(),p(71,"table",24)(72,"thead")(73,"tr",25)(74,"th",26),b(75,"Description"),h(),p(76,"th",27),b(77,"Amount"),h()()(),p(78,"tbody")(79,"tr")(80,"td",28)(81,"p",16),b(82,"Transportation Service"),h(),p(83,"p",12),b(84),h(),p(85,"p",12),b(86),h(),p(87,"p",12),b(88),h()(),p(89,"td",29),b(90),bl(91,"number"),h()(),p(92,"tr")(93,"td",28)(94,"p",16),b(95,"Platform Fees"),h(),p(96,"p",12),b(97,"(5% of the total amount)"),h()(),p(98,"td",29),b(99),bl(100,"number"),h()()(),p(101,"tfoot")(102,"tr")(103,"td",30),b(104,"Total Amount:"),h(),p(105,"td",31),b(106),bl(107,"number"),h()()()()(),p(108,"div",32)(109,"p",33),b(110),h(),p(111,"p",15),b(112,"Thank you for your business!"),h()()()()}e&2&&(v(13),we("Date: ",n.currentDate,""),v(3),Ae(n.invoiceData==null?null:n.invoiceData.shipperDetails.companyDetails.companyName),v(2),we("Receipt: ",n.invoiceData==null?null:n.invoiceData.receipt,""),v(2),we("Load ID: ",n.invoiceData==null?null:n.invoiceData.loadId,""),v(7),Ae(n.invoiceData==null?null:n.invoiceData.shipperDetails.companyDetails.companyName),v(2),we(" Email: ",n.invoiceData==null?null:n.invoiceData.shipperDetails.email,""),v(2),we(" Phone: ",n.invoiceData==null?null:n.invoiceData.shipperDetails.companyDetails.companyPhone,""),v(2),we(" ",n.invoiceData==null?null:n.invoiceData.shipperDetails.address.addressLine1,""),v(2),we(" ",n.invoiceData==null?null:n.invoiceData.shipperDetails.address.addressLine2,""),v(2),us(" ",n.invoiceData==null?null:n.invoiceData.shipperDetails.address.city,", ",n.invoiceData==null?null:n.invoiceData.shipperDetails.address.state," ",n.invoiceData==null?null:n.invoiceData.shipperDetails.address.postalCode," "),v(6),Ae(n.invoiceData==null?null:n.invoiceData.carrierDetails.companyDetails.companyName),v(2),we(" Email: ",n.invoiceData==null?null:n.invoiceData.carrierDetails.email,""),v(2),we(" Phone: ",n.invoiceData==null?null:n.invoiceData.carrierDetails.companyDetails.companyPhone,""),v(2),we(" ",n.invoiceData==null?null:n.invoiceData.carrierDetails.companyDetails.address.addressLine1,""),v(2),we(" ",n.invoiceData==null?null:n.invoiceData.carrierDetails.companyDetails.address.addressLine2,""),v(2),us(" ",n.invoiceData==null?null:n.invoiceData.carrierDetails.companyDetails.address.city,", ",n.invoiceData==null?null:n.invoiceData.carrierDetails.companyDetails.address.state," ",n.invoiceData==null?null:n.invoiceData.carrierDetails.companyDetails.address.postalCode," "),v(9),we(" ",n.invoiceData==null?null:n.invoiceData.loadDetails.pickupLocation.companyName,""),v(2),we(" Contact: ",n.invoiceData==null?null:n.invoiceData.loadDetails.pickupLocation.contactPerson,""),v(2),we(" Phone: ",n.invoiceData==null?null:n.invoiceData.loadDetails.pickupLocation.contactNumber," "),v(),C("ngForOf",n.invoiceData==null?null:n.invoiceData.loadDetails.dropoffs),v(17),we("Material: ",n.invoiceData==null?null:n.invoiceData.loadDetails.material,""),v(2),we("Quantity: ",n.invoiceData==null?null:n.invoiceData.loadDetails.quantity,""),v(2),Vi("Vehicle: ",n.invoiceData==null?null:n.invoiceData.loadDetails.vehicleType," (",n.invoiceData==null?null:n.invoiceData.loadDetails.vehicleBody,")"),v(2),we("\u20B9",_l(91,32,(n.invoiceData==null?null:n.invoiceData.amount)/100-(n.invoiceData==null?null:n.invoiceData.platformFee)/100,"1.2-2")," "),v(9),we("\u20B9",_l(100,35,(n.invoiceData==null?null:n.invoiceData.platformFee)/100,"1.2-2"),""),v(7),we(" \u20B9",_l(107,38,(n.invoiceData==null?null:n.invoiceData.amount)/100,"1.2-2")," "),v(4),we("Payment Status: ",n.invoiceData==null?null:n.invoiceData.status,""))},dependencies:[st,Ti,J2]})};var Os=class i{userId;action;closeModal=new ct;deleteItem;onclose(){this.closeModal.emit()}onDelete(){console.log(this.userId),console.log(this.action),console.log("delete clicked"),this.deleteItem(this.userId,this.action),this.onclose()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ye({type:i,selectors:[["app-delete-modal"]],inputs:{userId:"userId",action:"action",deleteItem:"deleteItem"},outputs:{closeModal:"closeModal"},standalone:!0,features:[Xe],decls:18,vars:0,consts:[[1,"fixed","inset-0","flex","items-center","justify-center","z-50","backdrop-blur","confirm-dialog"],[1,"relative","px-4","min-h-screen","md:flex","md:items-center","md:justify-center"],[1,"opacity-25","w-full","h-full","absolute","z-10","inset-0"],[1,"bg-white","rounded-lg","md:max-w-md","md:mx-auto","p-4","fixed","inset-x-0","bottom-0","z-50","mb-4","mx-4","md:relative","shadow-lg"],[1,"md:flex","items-center"],[1,"rounded-full","border","border-gray-300","flex","items-center","justify-center","w-16","h-16","flex-shrink-0","mx-auto"],[1,"bx","bx-error","text-3xl"],[1,"mt-4","md:mt-0","md:ml-6","text-center","md:text-left"],[1,"font-bold"],[1,"text-sm","text-gray-700","mt-1"],[1,"text-center","md:text-right","mt-4","md:flex","md:justify-end","items-center","justify-center"],["id","confirm-delete-btn",1,"block","w-full","md:inline-block","md:w-auto","px-4","py-3","bg-red-200","text-red-700","rounded-lg","font-semibold","text-sm","md:ml-2","md:order-2","flex","items-center","justify-center",3,"click"],["id","confirm-cancel-btn",1,"block","w-full","md:inline-block","md:w-auto","px-4","py-3","bg-gray-200","rounded-lg","font-semibold","text-sm","md:mt-0","md:order-1","flex","items-center","justify-center",3,"click"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1),q(2,"div",2),p(3,"div",3)(4,"div",4)(5,"div",5)(6,"i",6),b(7," \u26A0 "),h()(),p(8,"div",7)(9,"p",8),b(10,"Warning!"),h(),p(11,"p",9),b(12,"You will lose all of your data by deleting this. This action cannot be undone. "),h()()(),p(13,"div",10)(14,"button",11),_e("click",function(){return n.onDelete()}),b(15," Delete "),h(),p(16,"button",12),_e("click",function(){return n.onclose()}),b(17," Cancel "),h()()()()())}})};var o0=class i{baseUrl="http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:4000/";http=ue(tr);constructor(){}inviteDriver(t){return this.http.post(`${this.baseUrl}carrier/invite-driver`,t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};var jF=i=>["w-10 h-10 rounded-full flex items-center justify-center z-10",i],BF=i=>[i];function VF(i,t){i&1&&(p(0,"mat-icon",19),b(1,"done"),h())}function UF(i,t){i&1&&(p(0,"mat-icon",19),b(1,"local_shipping"),h())}function zF(i,t){if(i&1&&(p(0,"span"),b(1),h()),i&2){let e=M().index;v(),Ae(e+1)}}function qF(i,t){if(i&1&&(Xt(0),p(1,"div",15)(2,"div",16),Y(3,VF,2,0,"mat-icon",17)(4,UF,2,0,"mat-icon",17)(5,zF,2,1,"span",13),h(),p(6,"span",18),b(7),h()(),Zt()),i&2){let e=t.$implicit;v(2),C("ngClass",vi(6,jF,e.completed?"bg-indigo-600 text-white":e.current?"bg-white border-2 border-indigo-600 text-indigo-600":"bg-gray-200 text-gray-400")),v(),C("ngIf",e.completed),v(),C("ngIf",e.current),v(),C("ngIf",!e.completed&&!e.current),v(),C("ngClass",vi(8,BF,e.completed?"text-indigo-600":e.current?"text-indigo-800 font-semibold":"text-gray-400")),v(),we(" ",e.label," ")}}function HF(i,t){i&1&&(p(0,"span"),b(1," You have picked the load. Wait for the shipper to confirm the dispatch, then start driving. "),h())}function GF(i,t){i&1&&(p(0,"span"),b(1," Your driver picked the load. Waiting for the shipper to confirm the dispatch. "),h())}function $F(i,t){if(i&1&&(p(0,"div",20)(1,"div",21)(2,"div",22)(3,"mat-icon",23),b(4,"info"),h()(),p(5,"div",24)(6,"p",25),Xt(7,26),Y(8,HF,2,0,"span",27)(9,GF,2,0,"span",27),Zt(),h()()()()),i&2){let e=M();v(7),C("ngSwitch",e.user.role),v(),C("ngSwitchCase","driver"),v(),C("ngSwitchCase","carrierAdmin")}}function WF(i,t){if(i&1&&(p(0,"div",28),b(1),h()),i&2){let e=M();v(),we(" Waiting for delivery ",e.getDeliveryStep(e.loadData.status)," ")}}function YF(i,t){if(i&1){let e=Ge();p(0,"button",30),_e("click",function(){Pe(e);let r=M(2);return Oe(r.cancelShipment(r.loadData._id))}),b(1," Cancel Shipment "),h()}}function XF(i,t){if(i&1&&(Xt(0),Y(1,YF,2,0,"button",29),Zt()),i&2){let e=M();v(),C("ngIf",(e.loadData==null?null:e.loadData.status)==="Assigned")}}function ZF(i,t){if(i&1){let e=Ge();p(0,"button",30),_e("click",function(){Pe(e);let r=M(2);return Oe(r.cancelShipment(r.loadData._id))}),b(1," Cancel Shipment "),h()}}function KF(i,t){if(i&1){let e=Ge();p(0,"button",32),_e("click",function(){Pe(e);let r=M(2);return Oe(r.updateStatus(r.loadData._id,"Dispatched"))}),b(1," Confirm Dispatch "),h()}}function JF(i,t){if(i&1){let e=Ge();Xt(0),p(1,"button",33),_e("click",function(){let r=Pe(e).ngIf,o=M(2);return Oe(o.updateStatus(o.loadData._id,r.nextStatus))}),b(2),h(),Zt()}if(i&2){let e=t.ngIf;v(),er(e.class),v(),we(" ",e.label," ")}}function QF(i,t){if(i&1&&(Xt(0),Y(1,ZF,2,0,"button",29)(2,KF,2,0,"button",31)(3,JF,3,3,"ng-container",13),Zt()),i&2){let e=M();v(),C("ngIf",(e.loadData==null?null:e.loadData.status)==="Assigned"),v(),C("ngIf",(e.loadData==null?null:e.loadData.status)==="Picked"),v(),C("ngIf",e.getShipperAction(e.loadData))}}function e6(i,t){if(i&1){let e=Ge();p(0,"button",32),_e("click",function(){Pe(e);let r=M(2);return Oe(r.updateStatus(r.loadData._id,"Picked"))}),b(1," Confirm Pick-up "),h()}}function t6(i,t){if(i&1){let e=Ge();Xt(0),p(1,"button",33),_e("click",function(){let r=Pe(e).$implicit,o=M(2);return Oe(o.updateStatus(o.loadData._id,r.nextStatus))}),b(2),h(),Zt()}if(i&2){let e=t.$implicit;v(),er(e.class),v(),we(" ",e.label," ")}}function i6(i,t){if(i&1&&(Xt(0),Y(1,e6,2,0,"button",31)(2,t6,3,3,"ng-container",7),Zt()),i&2){let e=M();v(),C("ngIf",(e.loadData==null?null:e.loadData.status)==="Assigned"),v(),C("ngForOf",e.getDriverActions(e.loadData))}}var a0=class i{constructor(t,e,n){this.dialog=t;this.dataService=e;this.toastr=n}loadData;user;UserServices=ue(hr);ShipperServices=ue(An);CarrierServices=ue(o0);DriverServices=ue(fr);getDriverActions(t){let e=[];if(!t)return e;let{status:n,dropoffs:r}=t,o="bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded";return n==="Dispatched"&&r===1?e.push({label:"Confirm Delivery",nextStatus:"Delivered",class:o}):n==="Dispatched"&&r>1?e.push({label:"Confirm Delivery 1",nextStatus:"Delivered1-Partial",class:o}):n==="Delivered1"&&r===2?e.push({label:"Complete Delivery",nextStatus:"Delivered",class:o}):n==="Delivered1"&&r===3?e.push({label:"Confirm Delivery 2",nextStatus:"Delivered2-Partial",class:o}):n==="Delivered2"&&r===3&&e.push({label:"Complete Delivery",nextStatus:"Delivered",class:o}),e}getShipperAction(t){if(!t)return null;let{status:e,dropoffs:n}=t,r="bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded";return e==="Delivered"&&n===1?{label:"Complete Delivery",nextStatus:"Completed",class:r}:e==="Delivered1-Partial"||e==="Delivered1"?{label:"Confirm Delivery 1",nextStatus:"Delivered1",class:r}:e==="Delivered2-Partial"?{label:"Confirm Delivery 2",nextStatus:"Delivered2",class:r}:e==="Delivered"&&n>1?{label:"Complete Delivery",nextStatus:"Completed",class:r}:null}isWaitingForDelivery(t){return t?["Dispatched","Delivered1-Partial","Delivered2-Partial"].includes(t.status):!1}getDeliveryStep(t){return{Dispatched:"1","Delivered1-Partial":"2","Delivered2-Partial":"3"}[t]||""}getProgressWidth(){let t=this.getSteps(),e=t.findIndex(n=>n.current);return e===-1?"0%":`${e/(t.length-1)*100}%`}getSteps(){let t=[{label:"Assigned",status:"Assigned",completed:!1,current:!1},{label:"Picked",status:"Picked",completed:!1,current:!1},{label:"Dispatched",status:"Dispatched",completed:!1,current:!1}];if(this.loadData?.dropoffs>0)for(let n=1;n<=this.loadData.dropoffs;n++)n<this.loadData.dropoffs?t.push({label:`Delivery ${n}`,status:`Delivered${n}`,completed:!1,current:!1}):(t.push({label:`Delivery ${n}`,status:`Delivered${n}`,completed:!1,current:!1}),t.push({label:"Delivered",status:"Delivered",completed:!1,current:!1}));t.push({label:"Completed",status:"Completed",completed:!1,current:!1});let e=this.getCurrentStatusIndex(t);return t.map((n,r)=>Fe(de({},n),{completed:r<e,current:r===e}))}getCurrentStatusIndex(t){if(!this.loadData?.status)return 0;if(this.loadData.status.includes("-Partial")){let e=this.loadData.status.split("-")[0];return t.findIndex(n=>n.status===e)}return t.findIndex(e=>e.status===this.loadData.status)}cancelShipment(t){}updateStatus(t,e){console.log("button clicked"),this.user.role==="driver"&&this.DriverServices.updateLoadInfo(t,{id:e}).subscribe({next:n=>{n.success?(this.toastr.success("Shipment updated successfully!","Success"),this.dataService.sendData("Shipments")):this.toastr.error(n.message,"Error")},error:n=>{console.error("Error updating shipment:",n),this.toastr.error("Failed to update shipment. Please try again.","Error")}}),this.user.role==="shipperAdmin"&&this.ShipperServices.updateLoadInfo(t,{id:e}).subscribe({next:n=>{n.success?(this.toastr.success("Shipment updated successfully!","Success"),this.dataService.sendData("Shipments")):this.toastr.error(n.message,"Error")},error:n=>{console.error("Error updating shipment:",n),this.toastr.error("Failed to update shipment. Please try again.","Error")}})}toggleExpand(){}static \u0275fac=function(e){return new(e||i)(le(ka),le(xi),le(En))};static \u0275cmp=Ye({type:i,selectors:[["app-tracker"]],inputs:{loadData:"loadData",user:"user"},standalone:!0,features:[Xe],decls:20,vars:8,consts:[[1,"bg-white","p-6","rounded-lg","shadow-md","w-full"],[1,"mb-8"],[1,"text-xl","font-bold","text-gray-900","mb-6"],[1,"relative"],[1,"absolute","top-5","left-0","w-full","h-1","bg-gray-200"],[1,"absolute","h-full","bg-indigo-600","transition-all","duration-500"],[1,"relative","flex","justify-between"],[4,"ngFor","ngForOf"],[1,"mt-12"],[1,"text-xl","font-bold","text-gray-900","mb-4"],["class","bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",4,"ngIf"],["class","text-gray-600 mb-4",4,"ngIf"],[1,"flex","flex-wrap","gap-3"],[4,"ngIf"],[1,"px-4","py-2","rounded-md","text-white","bg-gray-500","hover:bg-gray-600","transition","duration-150","shadow-sm",3,"click"],[1,"flex","flex-col","items-center","relative"],[3,"ngClass"],["class","text-sm",4,"ngIf"],[1,"absolute","mt-12","text-sm","font-medium","whitespace-nowrap",3,"ngClass"],[1,"text-sm"],[1,"bg-yellow-50","border-l-4","border-yellow-400","p-4","mb-4"],[1,"flex"],[1,"flex-shrink-0"],[1,"text-yellow-400"],[1,"ml-3"],[1,"text-sm","text-yellow-700"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"text-gray-600","mb-4"],["class","px-4 py-2 rounded-md text-white bg-red-500 hover:bg-red-600 transition duration-150 shadow-sm",3,"click",4,"ngIf"],[1,"px-4","py-2","rounded-md","text-white","bg-red-500","hover:bg-red-600","transition","duration-150","shadow-sm",3,"click"],["class","px-4 py-2 rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition duration-150 shadow-sm",3,"click",4,"ngIf"],[1,"px-4","py-2","rounded-md","text-white","bg-indigo-600","hover:bg-indigo-700","transition","duration-150","shadow-sm",3,"click"],[3,"click"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"h2",2),b(3,"Shipment Progress"),h(),p(4,"div",3)(5,"div",4),q(6,"div",5),h(),p(7,"div",6),Y(8,qF,8,10,"ng-container",7),h()()(),p(9,"div",8)(10,"h2",9),b(11,"Actions"),h(),Y(12,$F,10,3,"div",10)(13,WF,2,1,"div",11),p(14,"div",12),Y(15,XF,2,1,"ng-container",13)(16,QF,4,3,"ng-container",13)(17,i6,3,2,"ng-container",13),p(18,"button",14),_e("click",function(){return n.toggleExpand()}),b(19," Cancel "),h()()()()),e&2&&(v(6),ls("width",n.getProgressWidth()),v(2),C("ngForOf",n.getSteps()),v(4),C("ngIf",(n.loadData==null?null:n.loadData.status)==="Picked"),v(),C("ngIf",n.isWaitingForDelivery(n.loadData)),v(2),C("ngIf",n.user.role==="appAdmin"),v(),C("ngIf",n.user.role==="shipperAdmin"),v(),C("ngIf",n.user.role==="driver"))},dependencies:[st,Li,Ti,Ct,X2,Z2,_s]})};var s0=class i{ShipperServices=ue(An);constructor(){}loadRazorpayScript(){return new Promise((t,e)=>{if(typeof Razorpay<"u"){t();return}let n=document.createElement("script");n.src="https://checkout.razorpay.com/v1/checkout.js",n.onload=()=>t(),n.onerror=()=>e("Failed to load Razorpay script"),document.head.appendChild(n)})}openPaymentModal(t){return Fo(this,null,function*(){console.log("Opening payment modal with order data:",t);try{return yield this.loadRazorpayScript(),new Promise((e,n)=>{let r={key:"rzp_test_rPRBTE14c1zUpK",amount:t.amount,currency:"INR",order_id:t.receipt,handler:a=>Fo(this,null,function*(){console.log("Payment response received:",a);try{let s={razorpay_payment_id:a.razorpay_payment_id,razorpay_order_id:a.razorpay_order_id,razorpay_signature:a.razorpay_signature,loadId:t.loadId},l=yield xu(this.ShipperServices.verifyPayment(s));console.log("Payment verification result:",l),l.success?(alert("Payment Successful!"),e(!0)):(alert("Payment Verification Failed!"),e(!1))}catch(s){console.error("Error during payment verification:",s),e(!1)}}),prefill:{name:"John Doe",email:"john.doe@example.com",contact:"9999999999"},theme:{color:"#F37254"},modal:{ondismiss:()=>{console.log("Payment modal dismissed"),e(!1)}}},o=new Razorpay(r);o.on("payment.failed",a=>{console.error("Payment Failed:",a),alert("Payment Failed. Please try again."),e(!1)}),o.open()})}catch(e){return console.error("Error in payment process:",e),!1}})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};var So=Object.create(null);So.open="0";So.close="1";So.ping="2";So.pong="3";So.message="4";So.upgrade="5";So.noop="6";var Uh=Object.create(null);Object.keys(So).forEach(i=>{Uh[So[i]]=i});var zh={type:"error",data:"parser error"};var fS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",mS=typeof ArrayBuffer=="function",gS=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,qh=({type:i,data:t},e,n)=>fS&&t instanceof Blob?e?n(t):hS(t,n):mS&&(t instanceof ArrayBuffer||gS(t))?e?n(t):hS(new Blob([t]),n):n(So[i]+(t||"")),hS=(i,t)=>{let e=new FileReader;return e.onload=function(){let n=e.result.split(",")[1];t("b"+(n||""))},e.readAsDataURL(i)};function pS(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var o1;function vS(i,t){if(fS&&i.data instanceof Blob)return i.data.arrayBuffer().then(pS).then(t);if(mS&&(i.data instanceof ArrayBuffer||gS(i.data)))return t(pS(i.data));qh(i,!1,e=>{o1||(o1=new TextEncoder),t(o1.encode(e))})}var bS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<bS.length;i++)Hh[bS.charCodeAt(i)]=i;var _S=i=>{let t=i.length*.75,e=i.length,n,r=0,o,a,s,l;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);let c=new ArrayBuffer(t),u=new Uint8Array(c);for(n=0;n<e;n+=4)o=Hh[i.charCodeAt(n)],a=Hh[i.charCodeAt(n+1)],s=Hh[i.charCodeAt(n+2)],l=Hh[i.charCodeAt(n+3)],u[r++]=o<<2|a>>4,u[r++]=(a&15)<<4|s>>2,u[r++]=(s&3)<<6|l&63;return c};var r6=typeof ArrayBuffer=="function",Gh=(i,t)=>{if(typeof i!="string")return{type:"message",data:yS(i,t)};let e=i.charAt(0);return e==="b"?{type:"message",data:o6(i.substring(1),t)}:Uh[e]?i.length>1?{type:Uh[e],data:i.substring(1)}:{type:Uh[e]}:zh},o6=(i,t)=>{if(r6){let e=_S(i);return yS(e,t)}else return{base64:!0,data:i}},yS=(i,t)=>{switch(t){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var xS="",CS=(i,t)=>{let e=i.length,n=new Array(e),r=0;i.forEach((o,a)=>{qh(o,!1,s=>{n[a]=s,++r===e&&t(n.join(xS))})})},wS=(i,t)=>{let e=i.split(xS),n=[];for(let r=0;r<e.length;r++){let o=Gh(e[r],t);if(n.push(o),o.type==="error")break}return n};function SS(){return new TransformStream({transform(i,t){vS(i,e=>{let n=e.length,r;if(n<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n);else if(n<65536){r=new Uint8Array(3);let o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{r=new Uint8Array(9);let o=new DataView(r.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}i.data&&typeof i.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(e)})}})}var a1;function l0(i){return i.reduce((t,e)=>t+e.length,0)}function c0(i,t){if(i[0].length===t)return i.shift();let e=new Uint8Array(t),n=0;for(let r=0;r<t;r++)e[r]=i[0][n++],n===i[0].length&&(i.shift(),n=0);return i.length&&n<i[0].length&&(i[0]=i[0].slice(n)),e}function DS(i,t){a1||(a1=new TextDecoder);let e=[],n=0,r=-1,o=!1;return new TransformStream({transform(a,s){for(e.push(a);;){if(n===0){if(l0(e)<1)break;let l=c0(e,1);o=(l[0]&128)===128,r=l[0]&127,r<126?n=3:r===126?n=1:n=2}else if(n===1){if(l0(e)<2)break;let l=c0(e,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(l0(e)<8)break;let l=c0(e,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){s.enqueue(zh);break}r=u*Math.pow(2,32)+c.getUint32(4),n=3}else{if(l0(e)<r)break;let l=c0(e,r);s.enqueue(Gh(o?l:a1.decode(l),t)),n=0}if(r===0||r>i){s.enqueue(zh);break}}}})}var s1=4;function Mi(i){if(i)return a6(i)}function a6(i){for(var t in Mi.prototype)i[t]=Mi.prototype[t];return i}Mi.prototype.on=Mi.prototype.addEventListener=function(i,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(t),this};Mi.prototype.once=function(i,t){function e(){this.off(i,e),t.apply(this,arguments)}return e.fn=t,this.on(i,e),this};Mi.prototype.off=Mi.prototype.removeListener=Mi.prototype.removeAllListeners=Mi.prototype.removeEventListener=function(i,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,r=0;r<e.length;r++)if(n=e[r],n===t||n.fn===t){e.splice(r,1);break}return e.length===0&&delete this._callbacks["$"+i],this};Mi.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+i],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,r=e.length;n<r;++n)e[n].apply(this,t)}return this};Mi.prototype.emitReserved=Mi.prototype.emit;Mi.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};Mi.prototype.hasListeners=function(i){return!!this.listeners(i).length};var Pa=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),nr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),IS="arraybuffer";function d0(i,...t){return t.reduce((e,n)=>(i.hasOwnProperty(n)&&(e[n]=i[n]),e),{})}var s6=nr.setTimeout,l6=nr.clearTimeout;function Oa(i,t){t.useNativeTimers?(i.setTimeoutFn=s6.bind(nr),i.clearTimeoutFn=l6.bind(nr)):(i.setTimeoutFn=nr.setTimeout.bind(nr),i.clearTimeoutFn=nr.clearTimeout.bind(nr))}var c6=1.33;function AS(i){return typeof i=="string"?d6(i):Math.ceil((i.byteLength||i.size)*c6)}function d6(i){let t=0,e=0;for(let n=0,r=i.length;n<r;n++)t=i.charCodeAt(n),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(n++,e+=4);return e}function u0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ES(i){let t="";for(let e in i)i.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return t}function kS(i){let t={},e=i.split("&");for(let n=0,r=e.length;n<r;n++){let o=e[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}var h0=class extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}},Na=class extends Mi{constructor(t){super(),this.writable=!1,Oa(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,n){return super.emitReserved("error",new h0(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let e=Gh(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let e=ES(t);return e.length?"?"+e:""}};var $h=class extends Na{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";let e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};wS(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,CS(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=u0()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}};var TS=!1;try{TS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var MS=TS;function u6(){}var l1=class extends $h{constructor(t){if(super(t),typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,e){let n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(r,o)=>{this.onError("xhr post error",r,o)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=t}},p0=(()=>{class i extends Mi{constructor(e,n,r){super(),this.createRequest=e,Oa(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;let n=d0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=i.requestsCount++,i.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=u6,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",PS);else if(typeof addEventListener=="function"){let i="onpagehide"in nr?"pagehide":"unload";addEventListener(i,PS,!1)}}function PS(){for(let i in p0.requests)p0.requests.hasOwnProperty(i)&&p0.requests[i].abort()}var h6=function(){let i=OS({xdomain:!1});return i&&i.responseType!==null}(),Ns=class extends l1{constructor(t){super(t);let e=t&&t.forceBase64;this.supportsBinary=h6&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new p0(OS,this.uri(),t)}};function OS(i){let t=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||MS))return new XMLHttpRequest}catch{}if(!t)try{return new nr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var NS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",d1=class extends Na{get name(){return"websocket"}doOpen(){let t=this.uri(),e=this.opts.protocols,n=NS?{}:d0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let n=t[e],r=e===t.length-1;qh(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}r&&Pa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=u0()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}},c1=nr.WebSocket||nr.MozWebSocket,Ls=class extends d1{createSocket(t,e,n){return NS?new c1(t,e,n):e?new c1(t,e):new c1(t)}doWrite(t,e){this.ws.send(e)}};var fd=class extends Na{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{let e=DS(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),r=SS();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();let o=()=>{n.read().then(({done:s,value:l})=>{s||(this.onPacket(l),o())}).catch(s=>{})};o();let a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let n=t[e],r=e===t.length-1;this._writer.write(n).then(()=>{r&&Pa(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};var u1={websocket:Ls,webtransport:fd,polling:Ns};var p6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,f6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function md(i){if(i.length>8e3)throw"URI too long";let t=i,e=i.indexOf("["),n=i.indexOf("]");e!=-1&&n!=-1&&(i=i.substring(0,e)+i.substring(e,n).replace(/:/g,";")+i.substring(n,i.length));let r=p6.exec(i||""),o={},a=14;for(;a--;)o[f6[a]]=r[a]||"";return e!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=m6(o,o.path),o.queryKey=g6(o,o.query),o}function m6(i,t){let e=/\/{2,9}/g,n=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function g6(i,t){let e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,o){r&&(e[r]=o)}),e}var h1=typeof addEventListener=="function"&&typeof removeEventListener=="function",f0=[];h1&&addEventListener("offline",()=>{f0.forEach(i=>i())},!1);var m0=(()=>{class i extends Mi{constructor(e,n){if(super(),this.binaryType=IS,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){let r=md(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=md(n.host).host);Oa(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{let o=r.prototype.name;this.transports.push(o),this._transportsByName[o]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kS(this.opts.query)),h1&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},f0.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let n=Object.assign({},this.opts.query);n.EIO=s1,n.transport=e,this.id&&(n.sid=this.id);let r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){let o=this.writeBuffer[r].data;if(o&&(n+=AS(o)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Pa(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let a={type:e,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),o&&this.once("flush",o),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),h1&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let r=f0.indexOf(this._offlineEventListener);r!==-1&&f0.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}return i.protocol=s1,i})(),g0=class extends m0{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),n=!1;m0.priorWebsocketSuccess=!1;let r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;m0.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let y=new Error("probe error");y.transport=e.name,this.emitReserved("upgradeError",y)}}))};function o(){n||(n=!0,u(),e.close(),e=null)}let a=f=>{let y=new Error("probe error: "+f);y.transport=e.name,o(),this.emitReserved("upgradeError",y)};function s(){a("transport closed")}function l(){a("socket closed")}function c(f){e&&f.name!==e.name&&o()}let u=()=>{e.removeListener("open",r),e.removeListener("error",a),e.removeListener("close",s),this.off("close",l),this.off("upgrading",c)};e.once("open",r),e.once("error",a),e.once("close",s),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){let e=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}},gd=class extends g0{constructor(t,e={}){let n=typeof t=="object"?t:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(r=>u1[r]).filter(r=>!!r)),super(t,n)}};var are=gd.protocol;function LS(i,t="",e){let n=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),n=md(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+t,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}var b1={};A3(b1,{Decoder:()=>g1,Encoder:()=>m1,PacketType:()=>Ht,protocol:()=>VS});var b6=typeof ArrayBuffer=="function",_6=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,RS=Object.prototype.toString,y6=typeof Blob=="function"||typeof Blob<"u"&&RS.call(Blob)==="[object BlobConstructor]",x6=typeof File=="function"||typeof File<"u"&&RS.call(File)==="[object FileConstructor]";function Yh(i){return b6&&(i instanceof ArrayBuffer||_6(i))||y6&&i instanceof Blob||x6&&i instanceof File}function Wh(i,t){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,n=i.length;e<n;e++)if(Wh(i[e]))return!0;return!1}if(Yh(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Wh(i.toJSON(),!0);for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&Wh(i[e]))return!0;return!1}function FS(i){let t=[],e=i.data,n=i;return n.data=p1(e,t),n.attachments=t.length,{packet:n,buffers:t}}function p1(i,t){if(!i)return i;if(Yh(i)){let e={_placeholder:!0,num:t.length};return t.push(i),e}else if(Array.isArray(i)){let e=new Array(i.length);for(let n=0;n<i.length;n++)e[n]=p1(i[n],t);return e}else if(typeof i=="object"&&!(i instanceof Date)){let e={};for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=p1(i[n],t));return e}return i}function jS(i,t){return i.data=f1(i.data,t),delete i.attachments,i}function f1(i,t){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<t.length)return t[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=f1(i[e],t);else if(typeof i=="object")for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=f1(i[e],t));return i}var C6=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],VS=5,Ht=function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i}(Ht||{}),m1=class{constructor(t){this.replacer=t}encode(t){return(t.type===Ht.EVENT||t.type===Ht.ACK)&&Wh(t)?this.encodeAsBinary({type:t.type===Ht.EVENT?Ht.BINARY_EVENT:Ht.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===Ht.BINARY_EVENT||t.type===Ht.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){let e=FS(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}};function BS(i){return Object.prototype.toString.call(i)==="[object Object]"}var g1=class i extends Mi{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);let n=e.type===Ht.BINARY_EVENT;n||e.type===Ht.BINARY_ACK?(e.type=n?Ht.EVENT:Ht.ACK,this.reconstructor=new v1(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(Yh(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0,n={type:Number(t.charAt(0))};if(Ht[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ht.BINARY_EVENT||n.type===Ht.BINARY_ACK){let o=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);let a=t.substring(o,e);if(a!=Number(a)||t.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(t.charAt(e+1)==="/"){let o=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););n.nsp=t.substring(o,e)}else n.nsp="/";let r=t.charAt(e+1);if(r!==""&&Number(r)==r){let o=e+1;for(;++e;){let a=t.charAt(e);if(a==null||Number(a)!=a){--e;break}if(e===t.length)break}n.id=Number(t.substring(o,e+1))}if(t.charAt(++e)){let o=this.tryParse(t.substr(e));if(i.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case Ht.CONNECT:return BS(e);case Ht.DISCONNECT:return e===void 0;case Ht.CONNECT_ERROR:return typeof e=="string"||BS(e);case Ht.EVENT:case Ht.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&C6.indexOf(e[0])===-1);case Ht.ACK:case Ht.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},v1=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let e=jS(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Nr(i,t,e){return i.on(t,e),function(){i.off(t,e)}}var w6=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),vd=class extends Mi{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[Nr(t,"open",this.onopen.bind(this)),Nr(t,"packet",this.onpacket.bind(this)),Nr(t,"error",this.onerror.bind(this)),Nr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,r,o;if(w6.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let a={type:Ht.EVENT,data:e};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let u=this.ids++,f=e.pop();this._registerAckCallback(u,f),a.id=u}let s=(r=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||r===void 0?void 0:r.writable,l=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!s||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(t,e){var n;let r=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(r===void 0){this.acks[t]=e;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===t&&this.sendBuffer.splice(s,1);e.call(this,new Error("operation has timed out"))},r),a=(...s)=>{this.io.clearTimeoutFn(o),e.apply(this,s)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...e){return new Promise((n,r)=>{let o=(a,s)=>a?r(a):n(s);o.withError=!0,e.push(o),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...o)=>n!==this._queue[0]?void 0:(r!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(r)):(this._queue.shift(),e&&e(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ht.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){let n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ht.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ht.EVENT:case Ht.BINARY_EVENT:this.onevent(t);break;case Ht.ACK:case Ht.BINARY_ACK:this.onack(t);break;case Ht.DISCONNECT:this.ondisconnect();break;case Ht.CONNECT_ERROR:this.destroy();let n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){let e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let e=this,n=!1;return function(...r){n||(n=!0,e.packet({type:Ht.ACK,id:t,data:r}))}}onack(t){let e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ht.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let n of e)n.apply(this,t.data)}}};function Vl(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Vl.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*i);i=Math.floor(t*10)&1?i+e:i-e}return Math.min(i,this.max)|0};Vl.prototype.reset=function(){this.attempts=0};Vl.prototype.setMin=function(i){this.ms=i};Vl.prototype.setMax=function(i){this.max=i};Vl.prototype.setJitter=function(i){this.jitter=i};var bd=class extends Mi{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Oa(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Vl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;let r=e.parser||b1;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new gd(this.uri,this.opts);let e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let r=Nr(e,"open",function(){n.onopen(),t&&t()}),o=s=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s),t?t(s):this.maybeReconnectOnOpen()},a=Nr(e,"error",o);if(this._timeout!==!1){let s=this._timeout,l=this.setTimeoutFn(()=>{r(),o(new Error("timeout")),e.close()},s);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(Nr(t,"ping",this.onping.bind(this)),Nr(t,"data",this.ondata.bind(this)),Nr(t,"error",this.onerror.bind(this)),Nr(t,"close",this.onclose.bind(this)),Nr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Pa(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new vd(this,t,e),this.nsps[t]=n),n}_destroy(t){let e=Object.keys(this.nsps);for(let n of e)if(this.nsps[n].active)return;this._close()}_packet(t){let e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var Xh={};function Ul(i,t){typeof i=="object"&&(t=i,i=void 0),t=t||{};let e=LS(i,t.path||"/socket.io"),n=e.source,r=e.id,o=e.path,a=Xh[r]&&o in Xh[r].nsps,s=t.forceNew||t["force new connection"]||t.multiplex===!1||a,l;return s?l=new bd(n,t):(Xh[r]||(Xh[r]=new bd(n,t)),l=Xh[r]),e.query&&!t.query&&(t.query=e.queryKey),l.socket(e.path,t)}Object.assign(Ul,{Manager:bd,Socket:vd,io:Ul,connect:Ul});var v0={production:!0,SOCKET_ENDPOINT:"http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:3000",SOCKET_ENDPOINT2:"http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:5001"};var b0=class i{socket;connectionStatus=new qi(!1);lowestBidSubject=new qi(null);lowestBid$=this.lowestBidSubject.asObservable();constructor(){this.setupSocketConnection()}setupSocketConnection(){try{this.socket&&this.socket.disconnect(),this.socket=Ul(v0.SOCKET_ENDPOINT2,{transports:["websocket","polling"],upgrade:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,timeout:2e4,withCredentials:!0,extraHeaders:{"Content-Type":"application/json"}}),this.socket.on("connect",()=>{console.log("Socket connected successfully"),this.connectionStatus.next(!0)}),this.socket.on("connect_error",t=>{console.error("Socket connection error:",t),this.connectionStatus.next(!1)}),this.socket.on("lowestBidUpdate",t=>{console.log("Lowest bid updated:",t),this.lowestBidSubject.next(t)}),this.socket.on("disconnect",t=>{console.log("Socket disconnected:",t),this.connectionStatus.next(!1)})}catch(t){console.error("Error setting up socket connection:",t),this.connectionStatus.next(!1)}}disconnect(){this.socket&&(this.socket.disconnect(),this.connectionStatus.next(!1))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};var D6=i=>({active:i}),_1=(i,t)=>({"bg-green-500":i,"bg-red-500":t}),I6=(i,t)=>({"bg-blue-50":i,"hover:bg-gray-50":t}),A6=i=>({"opacity-50 cursor-not-allowed":i}),E6=i=>({"font-bold":i});function k6(i,t){if(i&1){let e=Ge();p(0,"button",35),_e("click",function(){Pe(e);let r=M();return Oe(r.openModal())}),Hi(),p(1,"svg",36),q(2,"path",37),h(),b(3),h()}if(i&2){let e=M();v(3),we(" ",e.tabledata.button," ")}}function T6(i,t){i&1&&q(0,"div",41)}function M6(i,t){if(i&1){let e=Ge();p(0,"li",38),_e("click",function(){let r=Pe(e).$implicit,o=M();return Oe(o.setActiveStatus(r))}),p(1,"div",39),b(2),h(),Y(3,T6,1,0,"div",40),h()}if(i&2){let e=t.$implicit,n=M();C("ngClass",vi(4,D6,e===n.activeStatus)),pn("data-value",e.toLowerCase()),v(2),we(" \xA0\xA0",e,"\xA0\xA0 "),v(),C("ngIf",e===n.activeStatus)}}function P6(i,t){if(i&1&&(p(0,"th",42),b(1),h()),i&2){let e=t.$implicit;v(),we(" ",e," ")}}function O6(i,t){if(i&1&&(p(0,"td",45),q(1,"app-edit-delete-view",49),h()),i&2){let e=M(2).$implicit,n=M();v(),C("id",e.id)("item",n.tabledata.title)}}function N6(i,t){if(i&1&&(p(0,"td",45),q(1,"app-edit-delete-view",49),h()),i&2){let e=M(2).$implicit;v(),C("id",e.id)("item","Trucks")}}function L6(i,t){if(i&1&&(p(0,"tr",44)(1,"td",45),b(2),h(),p(3,"td",45),b(4),h(),p(5,"td",45),b(6),h(),p(7,"td",45)(8,"div",46),q(9,"div",47),b(10),h()(),p(11,"td",45),b(12),h(),p(13,"td",45),b(14),h(),p(15,"td",45),b(16),h(),Y(17,O6,2,2,"td",48)(18,N6,2,2,"td",48),h()),i&2){let e=M().$implicit,n=M();v(2),Ae(n.Object.values(e)[0]),v(2),Ae(n.Object.values(e)[1]),v(2),Ae(n.Object.values(e)[2]),v(4),we(" ",n.Object.values(e)[3]," "),v(2),Ae(n.Object.values(e)[4]),v(2),Ae(n.Object.values(e)[5]),v(2),Ae(n.Object.values(e)[6]),v(),C("ngIf",n.tabledata.title!=="All Bids"&&n.tabledata.title!=="All Loads"&&n.tabledata.title!=="All Trucks"),v(),C("ngIf",n.tabledata.title=="All Trucks")}}function R6(i,t){if(i&1&&(Xt(0),Y(1,L6,19,9,"tr",43),Zt()),i&2){let e=t.$implicit,n=M();v(),C("ngIf",n.Object.values(e)[3]===n.activeStatus&&(n.user.role==="appAdmin"||n.user.role==="carrierAdmin"))}}function F6(i,t){if(i&1&&(p(0,"tr",44)(1,"td",45),b(2),h(),p(3,"td",45),b(4),h(),p(5,"td",45),b(6),h(),p(7,"td",45)(8,"div",46),q(9,"div",47),b(10),h()(),p(11,"td",45),b(12),h(),p(13,"td",45),b(14),h(),p(15,"td",45),b(16),h()()),i&2){let e=M().$implicit,n=M();v(2),Ae(n.Object.values(e)[0]),v(2),Ae(n.Object.values(e)[1]),v(2),Ae(n.Object.values(e)[2]),v(4),we(" ",n.Object.values(e)[3]," "),v(2),Ae(n.Object.values(e)[4]),v(2),Ae(n.Object.values(e)[5]),v(2),Ae(n.Object.values(e)[6])}}function j6(i,t){if(i&1&&(Xt(0),Y(1,F6,17,7,"tr",43),Zt()),i&2){let e=M();v(),C("ngIf",e.tabledata.title==="All Trucks"&&e.user.role==="!appAdmin")}}function B6(i,t){if(i&1&&(p(0,"div")(1,"div",46),q(2,"div",53),b(3),h()()),i&2){let e=M(2).$implicit,n=M(2).$implicit;v(2),C("ngClass",bn(2,_1,n[e]==="Open",n[e]==="Closed")),v(),we(" ",n[e]," ")}}function V6(i,t){if(i&1&&b(0),i&2){let e=M(2).$implicit,n=M(2).$implicit;we(" ",n[e]," ")}}function U6(i,t){if(i&1&&(p(0,"td",45),Y(1,B6,4,5,"div",52)(2,V6,1,1,"ng-template",null,0,Ou),h()),i&2){let e=Pu(3),n=M().$implicit;v(),C("ngIf",n==="status")("ngIfElse",e)}}function z6(i,t){if(i&1&&(Xt(0),Y(1,U6,4,2,"td",48),Zt()),i&2){let e=t.$implicit;v(),C("ngIf",e!=="_id")}}function q6(i,t){if(i&1){let e=Ge();p(0,"button",54),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.toggleExpand(r))}),p(1,"mat-icon"),b(2,"keyboard_arrow_right"),h()()}}function H6(i,t){if(i&1){let e=Ge();p(0,"button",54),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.toggleExpand(r))}),p(1,"mat-icon"),b(2,"keyboard_arrow_up"),h()()}}function G6(i,t){if(i&1){let e=Ge();p(0,"button",55),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.makeBid(r))}),b(1," Bid "),h()}}function $6(i,t){if(i&1){let e=Ge();p(0,"button",55),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.getPayment(r))}),b(1," Invoice "),h()}}function W6(i,t){if(i&1&&(p(0,"td",45),q(1,"app-edit-delete-view",49),h()),i&2){let e=M(2).$implicit,n=M();v(),C("id",e.id)("item",n.tabledata.title)}}function Y6(i,t){if(i&1&&(p(0,"tr",44),Y(1,z6,2,1,"ng-container",25),p(2,"td",45),Y(3,q6,3,0,"button",50)(4,H6,3,0,"button",50)(5,G6,2,0,"button",51)(6,$6,2,0,"button",51),h(),Y(7,W6,2,2,"td",48),h()),i&2){let e=M().$implicit,n=M();v(),C("ngForOf",n.getObjectKeys(e)),v(2),C("ngIf",(n.tabledata.title=="All Bids"||n.tabledata.title=="All Shipments")&&!e.expanded),v(),C("ngIf",(n.tabledata.title=="All Bids"||n.tabledata.title=="All Shipments")&&e.expanded),v(),C("ngIf",n.tabledata.title=="All Loads"),v(),C("ngIf",n.tabledata.title=="All Payments"),v(),C("ngIf",n.tabledata.title!=="All Bids"&&n.tabledata.title!=="All Loads"&&n.tabledata.title!=="All Shipments"&&n.tabledata.title!=="All Payments")}}function X6(i,t){if(i&1&&(Xt(0),Y(1,Y6,8,6,"tr",43),Zt()),i&2){let e=t.$implicit,n=M();v(),C("ngIf",n.user.role!=="appAdmin"&&n.user.role!=="carrierAdmin"&&n.shouldShowRow(e))}}function Z6(i,t){if(i&1&&(p(0,"div")(1,"div",46),q(2,"div",53),b(3),h()()),i&2){let e=M(2).$implicit,n=M(2).$implicit;v(2),C("ngClass",bn(2,_1,n[e]==="Open",n[e]==="Closed")),v(),we(" ",n[e]," ")}}function K6(i,t){if(i&1&&b(0),i&2){let e=M(2).$implicit,n=M(2).$implicit;we(" ",n[e]," ")}}function J6(i,t){if(i&1&&(p(0,"td",45),Y(1,Z6,4,5,"div",52)(2,K6,1,1,"ng-template",null,0,Ou),h()),i&2){let e=Pu(3),n=M().$implicit;v(),C("ngIf",n==="status")("ngIfElse",e)}}function Q6(i,t){if(i&1&&(Xt(0),Y(1,J6,4,2,"td",48),Zt()),i&2){let e=t.$implicit;v(),C("ngIf",e!=="_id")}}function e8(i,t){if(i&1){let e=Ge();p(0,"button",55),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.getPayment(r))}),b(1," Invoice "),h()}}function t8(i,t){if(i&1&&(p(0,"tr",44),Y(1,Q6,2,1,"ng-container",25),p(2,"td",45),Y(3,e8,2,0,"button",51),h()()),i&2){let e=M().$implicit,n=M();v(),C("ngForOf",n.getObjectKeys(e)),v(2),C("ngIf",n.tabledata.title=="All Payments")}}function i8(i,t){if(i&1&&(Xt(0),Y(1,t8,4,2,"tr",43),Zt()),i&2){let e=t.$implicit,n=M();v(),C("ngIf",(n.user.role==="carrierAdmin"||n.user.role==="appAdmin")&&n.shouldShowRow(e)&&n.tabledata.title==="All Payments")}}function n8(i,t){if(i&1){let e=Ge();p(0,"button",54),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.toggleExpand(r))}),p(1,"mat-icon"),b(2,"keyboard_arrow_right"),h()()}}function r8(i,t){if(i&1){let e=Ge();p(0,"button",54),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.toggleExpand(r))}),p(1,"mat-icon"),b(2,"keyboard_arrow_up"),h()()}}function o8(i,t){if(i&1){let e=Ge();p(0,"button",55),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.makeBid(r))}),b(1," Bid "),h()}}function a8(i,t){if(i&1){let e=Ge();p(0,"button",55),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.makeBid(r))}),b(1," Bid Again "),h()}}function s8(i,t){if(i&1&&(p(0,"td",45),q(1,"app-edit-delete-view",49),h()),i&2){let e=M(2).$implicit,n=M();v(),C("id",e.id)("item",n.tabledata.title)}}function l8(i,t){if(i&1&&(p(0,"tr",44)(1,"td",45),b(2),h(),p(3,"td",45),b(4),h(),p(5,"td",45),b(6),h(),p(7,"td",45)(8,"div",46),b(9),h()(),p(10,"td",45),b(11),h(),p(12,"td",45),b(13),h(),p(14,"td",45),b(15),h(),p(16,"td",45),Y(17,n8,3,0,"button",50)(18,r8,3,0,"button",50)(19,o8,2,0,"button",51)(20,a8,2,0,"button",51),h(),Y(21,s8,2,2,"td",48),h()),i&2){let e=M().$implicit,n=M();v(2),Ae(n.Object.values(e)[0]),v(2),Ae(n.Object.values(e)[1]),v(2),Ae(n.Object.values(e)[2]),v(3),we(" ",n.Object.values(e)[3]," "),v(2),Ae(n.Object.values(e)[4]),v(2),Ae(n.Object.values(e)[5]),v(2),Ae(n.Object.values(e)[6]),v(2),C("ngIf",!e.expanded&&n.tabledata.title!=="All Loads"&&n.tabledata.title!=="Active Bids"),v(),C("ngIf",e.expanded&&n.tabledata.title!=="All Loads"&&n.tabledata.title!=="Active Bids"),v(),C("ngIf",n.tabledata.title=="All Loads"),v(),C("ngIf",n.tabledata.title=="Active Bids"),v(),C("ngIf",n.tabledata.title!=="All Loads"&&n.tabledata.title!=="All Shipments"&&n.tabledata.title!=="Active Bids")}}function c8(i,t){if(i&1&&(Xt(0),Y(1,l8,22,12,"tr",43),Zt()),i&2){let e=t.$implicit,n=M();v(),C("ngIf",n.shouldShowRow(e)&&(n.tabledata.title=="All Loads"||n.tabledata.title=="All Shipments"||n.tabledata.title=="Active Bids")&&(n.user.role==="carrierAdmin"||n.user.role==="Driver"||n.user.role==="appAdmin"))}}function d8(i,t){if(i&1&&(p(0,"div")(1,"div",46),q(2,"div",53),b(3),h()()),i&2){let e=M(2).$implicit,n=M(2).$implicit;v(2),C("ngClass",bn(2,_1,n[e]==="Open",n[e]==="Closed")),v(),we(" ",n[e]," ")}}function u8(i,t){if(i&1&&b(0),i&2){let e=M(2).$implicit,n=M(2).$implicit;we(" ",n[e]," ")}}function h8(i,t){if(i&1&&(p(0,"td",45),Y(1,d8,4,5,"div",52)(2,u8,1,1,"ng-template",null,0,Ou),h()),i&2){let e=Pu(3),n=M().$implicit;v(),C("ngIf",n==="status")("ngIfElse",e)}}function p8(i,t){if(i&1&&(Xt(0),Y(1,h8,4,2,"td",48),Zt()),i&2){let e=t.$implicit;v(),C("ngIf",e!=="_id")}}function f8(i,t){if(i&1){let e=Ge();p(0,"button",54),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.toggleExpand(r))}),p(1,"mat-icon"),b(2,"keyboard_arrow_right"),h()()}}function m8(i,t){if(i&1){let e=Ge();p(0,"button",54),_e("click",function(){Pe(e);let r=M(2).$implicit,o=M();return Oe(o.toggleExpand(r))}),p(1,"mat-icon"),b(2,"keyboard_arrow_up"),h()()}}function g8(i,t){if(i&1&&(p(0,"tr",44),Y(1,p8,2,1,"ng-container",25),p(2,"td",45),Y(3,f8,3,0,"button",50)(4,m8,3,0,"button",50),h()()),i&2){let e=M().$implicit,n=M();v(),C("ngForOf",n.getObjectKeys(e)),v(2),C("ngIf",!e.expanded),v(),C("ngIf",e.expanded)}}function v8(i,t){if(i&1&&(Xt(0),Y(1,g8,5,3,"tr",43),Zt()),i&2){let e=t.$implicit,n=M();v(),C("ngIf",n.shouldShowRow(e)&&n.tabledata.title==="All Bids"&&n.user.role==="appAdmin")}}function b8(i,t){if(i&1&&(p(0,"div",64)(1,"span",65),b(2,"D1"),h(),p(3,"div",66),b(4),q(5,"br"),b(6),q(7,"br"),b(8),q(9,"br"),b(10),q(11,"br"),p(12,"span"),b(13),h(),q(14,"br"),p(15,"span"),b(16),h(),q(17,"br"),h()()),i&2){let e=M(3);v(4),Vi(" ",e.loadData.dropoff1==null?null:e.loadData.dropoff1.companyName,", ",e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.addressLine1,","),v(2),we(" ",(e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.addressLine2)||"",","),v(2),Vi(" ",e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.city,", ",(e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.state)||"",","),v(2),we(" ",(e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.postalCode)||"",","),v(3),we("Appointment Date: ",e.getAppointmentDateTime(e.loadData.appointment1).date,""),v(3),we("Appointment Time: ",e.getAppointmentDateTime(e.loadData.appointment1).time,"")}}function _8(i,t){if(i&1&&(p(0,"div",64)(1,"span",65),b(2,"D2"),h(),p(3,"div",66),b(4),q(5,"br"),b(6),q(7,"br"),b(8),q(9,"br"),b(10),q(11,"br"),b(12),q(13,"br"),p(14,"span"),b(15),h(),q(16,"br"),p(17,"span"),b(18),h(),q(19,"br"),h()()),i&2){let e=M(3);v(4),we(" ",e.loadData.dropoff2==null?null:e.loadData.dropoff2.companyName,","),v(2),we(" ",e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.addressLine1,","),v(2),we(" ",(e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.addressLine2)||"",","),v(2),Vi(" ",e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.city,", ",(e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.state)||"",","),v(2),we(" ",(e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.postalCode)||"",","),v(3),we("Appointment Date: ",e.getAppointmentDateTime(e.loadData.appointment2).date,""),v(3),we("Appointment Time: ",e.getAppointmentDateTime(e.loadData.appointment2).time,"")}}function y8(i,t){if(i&1&&(p(0,"div",81)(1,"span",65),b(2,"D3"),h(),p(3,"div",66),b(4),q(5,"br"),b(6),q(7,"br"),b(8),q(9,"br"),b(10),q(11,"br"),b(12),q(13,"br"),p(14,"span"),b(15),h(),q(16,"br"),p(17,"span"),b(18),h(),q(19,"br"),h()()),i&2){let e=M(3);v(4),we(" ",e.loadData.dropoff3==null?null:e.loadData.dropoff3.companyName,","),v(2),we(" ",e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.addressLine1,","),v(2),we(" ",(e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.addressLine2)||"",","),v(2),Vi(" ",e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.city,", ",(e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.state)||"",","),v(2),we(" ",(e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.postalCode)||"",","),v(3),we("Appointment Date: ",e.getAppointmentDateTime(e.loadData.appointment3).date,""),v(3),we("Appointment Time: ",e.getAppointmentDateTime(e.loadData.appointment3).time,"")}}function x8(i,t){if(i&1){let e=Ge();p(0,"tr",82),_e("click",function(){let r=Pe(e).$implicit,o=M(3);return Oe(o.onBidderSelection(r))}),p(1,"td",83),b(2),h(),p(3,"td",83),b(4),h(),p(5,"td",83),b(6),h(),p(7,"td",83),b(8),h()()}if(i&2){let e=t.$implicit,n=M(3);C("ngClass",bn(5,I6,n.loadData.selectedBidder===e._id,n.loadData.selectedBidder!==e._id)),v(2),Ae(e.companyName),v(2),Ae(e.firstName),v(2),Ae(e.companyPhone),v(2),Ae(e.bid)}}function C8(i,t){if(i&1){let e=Ge();p(0,"div",84)(1,"button",85),_e("click",function(){Pe(e);let r=M(3);return Oe(r.onSubmit())}),b(2," Assign Load "),h()()}if(i&2){let e=M(3);v(),C("disabled",!e.loadData.selectedBidder)("ngClass",vi(2,A6,!e.loadData.selectedBidder))}}function w8(i,t){if(i&1&&(p(0,"tr")(1,"td",57)(2,"div",58)(3,"div",59)(4,"div",60)(5,"div",61)(6,"h2",62),b(7),h(),p(8,"div",63)(9,"div",64)(10,"span",65),b(11,"P1"),h(),p(12,"div",66),b(13),q(14,"br"),b(15),q(16,"br"),b(17),q(18,"br"),b(19),q(20,"br"),b(21),q(22,"br"),p(23,"span"),b(24),h(),q(25,"br"),p(26,"span"),b(27),h(),q(28,"br"),h()(),Y(29,b8,18,8,"div",67)(30,_8,20,8,"div",67)(31,y8,20,8,"div",68),h()(),p(32,"div",69)(33,"h2",62),b(34,"Load Details"),h(),p(35,"div",70)(36,"div",71)(37,"p",72),b(38,"Agent Name"),h(),p(39,"p",73),b(40),h()(),p(41,"div",71)(42,"p",72),b(43,"Agent Contact"),h(),p(44,"p",73),b(45),h()(),p(46,"div",71)(47,"p",72),b(48,"Material"),h(),p(49,"p",73),b(50),h()(),p(51,"div",71)(52,"p",72),b(53,"Vehicle Type"),h(),p(54,"p",73),b(55),h()(),p(56,"div",71)(57,"p",72),b(58,"Vehicle Body"),h(),p(59,"p",73),b(60),h()(),p(61,"div",71)(62,"p",72),b(63,"LoadData Weight"),h(),p(64,"p",73),b(65),h()()()()(),p(66,"div",74)(67,"h2",75),b(68," Last 5 Bidders "),h(),p(69,"div",76)(70,"table",77)(71,"thead")(72,"tr")(73,"th",78),b(74,"Company"),h(),p(75,"th",78),b(76,"Contact Person"),h(),p(77,"th",78),b(78,"Contact Number"),h(),p(79,"th",78),b(80,"Bid Amount"),h()()(),p(81,"tbody"),Y(82,x8,9,8,"tr",79),h()()(),Y(83,C8,3,4,"div",80),h()()()()()),i&2){let e=M(2);v(7),we("Stops (1 Pick - ",e.loadData.dropoffs," Drop)"),v(6),we(" ",e.loadData.pickupLocation==null?null:e.loadData.pickupLocation.companyName,","),v(2),we(" ",e.loadData.pickupLocation==null||e.loadData.pickupLocation.address==null?null:e.loadData.pickupLocation.address.addressLine1,","),v(2),we(" ",(e.loadData.pickupLocation==null||e.loadData.pickupLocation.address==null?null:e.loadData.pickupLocation.address.addressLine2)||"",","),v(2),Vi(" ",e.loadData.pickupLocation==null||e.loadData.pickupLocation.address==null?null:e.loadData.pickupLocation.address.city,", ",(e.loadData.pickupLocation==null||e.loadData.pickupLocation.address==null?null:e.loadData.pickupLocation.address.state)||"",","),v(2),we(" ",(e.loadData.pickupLocation==null||e.loadData.pickupLocation.address==null?null:e.loadData.pickupLocation.address.postalCode)||"",","),v(3),we("Dispatch Date: ",e.getAppointmentDateTime(e.loadData.dispatchDateTime).date,""),v(3),we("Dispatch Time: ",e.getAppointmentDateTime(e.loadData.dispatchDateTime).time,""),v(2),C("ngIf",e.loadData.dropoff1),v(),C("ngIf",e.loadData.dropoff2),v(),C("ngIf",e.loadData.dropoff3),v(9),Ae(e.loadData.agentName||"--"),v(5),Ae(e.loadData.agentContact||"--"),v(5),Ae(e.loadData.material||"--"),v(5),Ae(e.loadData.vehicleType||"--"),v(5),Ae(e.loadData.vehicleBody||"--"),v(5),we("",e.loadData.quantity?e.loadData.quantity+" tons":"--"," "),v(17),C("ngForOf",e.loadData.bids),v(),C("ngIf",e.loadData.bids&&e.loadData.bids.length>0)}}function S8(i,t){if(i&1&&(Xt(0),Y(1,w8,84,20,"tr",56),Zt()),i&2){let e=t.$implicit,n=M();v(),C("ngIf",e.expanded&&n.tabledata.title==="All Bids")}}function D8(i,t){if(i&1&&(p(0,"div",64)(1,"span",65),b(2,"D1"),h(),p(3,"div",66),b(4),q(5,"br"),b(6),q(7,"br"),b(8),q(9,"br"),b(10),q(11,"br"),p(12,"span"),b(13),h(),q(14,"br"),p(15,"span"),b(16),h(),q(17,"br"),h()()),i&2){let e=M(3);v(4),Vi(" ",e.loadData.dropoff1==null?null:e.loadData.dropoff1.companyName,", ",e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.addressLine1,","),v(2),we(" ",(e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.addressLine2)||"",","),v(2),Vi(" ",e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.city,", ",(e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.state)||"",","),v(2),we(" ",(e.loadData.dropoff1==null||e.loadData.dropoff1.address==null?null:e.loadData.dropoff1.address.postalCode)||"",","),v(3),we("Appointment Date: ",e.getAppointmentDateTime(e.loadData.appointment1).date,""),v(3),we("Appointment Time: ",e.getAppointmentDateTime(e.loadData.appointment1).time,"")}}function I8(i,t){if(i&1&&(p(0,"div",64)(1,"span",65),b(2,"D2"),h(),p(3,"div",66),b(4),q(5,"br"),b(6),q(7,"br"),b(8),q(9,"br"),b(10),q(11,"br"),b(12),q(13,"br"),p(14,"span"),b(15),h(),q(16,"br"),p(17,"span"),b(18),h(),q(19,"br"),h()()),i&2){let e=M(3);v(4),we(" ",e.loadData.dropoff2==null?null:e.loadData.dropoff2.companyName,","),v(2),we(" ",e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.addressLine1,","),v(2),we(" ",(e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.addressLine2)||"",","),v(2),Vi(" ",e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.city,", ",(e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.state)||"",","),v(2),we(" ",(e.loadData.dropoff2==null||e.loadData.dropoff2.address==null?null:e.loadData.dropoff2.address.postalCode)||"",","),v(3),we("Appointment Date: ",e.getAppointmentDateTime(e.loadData.appointment2).date,""),v(3),we("Appointment Time: ",e.getAppointmentDateTime(e.loadData.appointment2).time,"")}}function A8(i,t){if(i&1&&(p(0,"div",81)(1,"span",65),b(2,"D3"),h(),p(3,"div",66),b(4),q(5,"br"),b(6),q(7,"br"),b(8),q(9,"br"),b(10),q(11,"br"),b(12),q(13,"br"),p(14,"span"),b(15),h(),q(16,"br"),p(17,"span"),b(18),h(),q(19,"br"),h()()),i&2){let e=M(3);v(4),we(" ",e.loadData.dropoff3==null?null:e.loadData.dropoff3.companyName,","),v(2),we(" ",e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.addressLine1,","),v(2),we(" ",(e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.addressLine2)||"",","),v(2),Vi(" ",e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.city,", ",(e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.state)||"",","),v(2),we(" ",(e.loadData.dropoff3==null||e.loadData.dropoff3.address==null?null:e.loadData.dropoff3.address.postalCode)||"",","),v(3),we("Appointment Date: ",e.getAppointmentDateTime(e.loadData.appointment3).date,""),v(3),we("Appointment Time: ",e.getAppointmentDateTime(e.loadData.appointment3).time,"")}}function E8(i,t){if(i&1&&(p(0,"div",98)(1,"h2",62),b(2,"Carrier Details"),h(),p(3,"div",89)(4,"div",71)(5,"p",72),b(6,"Carrier Name"),h(),p(7,"p",73),b(8),h()(),p(9,"div",71)(10,"p",72),b(11,"Carrier Email"),h(),p(12,"p",73),b(13),h()(),p(14,"div",71)(15,"p",72),b(16,"Carrier Phone"),h(),p(17,"p",73),b(18),h()(),p(19,"div",71)(20,"p",72),b(21,"Carrier Address"),h(),p(22,"p",73),b(23),q(24,"br"),b(25),q(26,"br"),b(27),h()()()()),i&2){let e=M(3);v(8),we(" ",e.loadData.selectedBidDetails.companyDetails.companyDetails.companyName," "),v(5),we(" ",e.loadData.selectedBidDetails.companyDetails.companyDetails.companyEmail," "),v(5),we(" ",e.loadData.selectedBidDetails.companyDetails.companyDetails.companyPhone," "),v(5),we(" ",e.loadData.selectedBidDetails.companyDetails.companyDetails.address.addressLine1,""),v(2),we(" ",e.loadData.selectedBidDetails.companyDetails.companyDetails.address.addressLine2||"",""),v(2),us(" ",e.loadData.selectedBidDetails.companyDetails.companyDetails.address.city,", ",e.loadData.selectedBidDetails.companyDetails.companyDetails.address.state," ",e.loadData.selectedBidDetails.companyDetails.companyDetails.address.postalCode," ")}}function k8(i,t){i&1&&(p(0,"h4",99),b(1," You have picked the load. Wait for the shipper to confirm the dispatch, then start driving."),h())}function T8(i,t){i&1&&(p(0,"h4",99),b(1,"Your driver picked the load. Waiting for the shipper to confirm the dispatch."),h())}function M8(i,t){if(i&1){let e=Ge();p(0,"button",102),_e("click",function(){Pe(e);let r=M(4);return Oe(r.cancelShipment(r.loadData._id))}),b(1," Cancel Shipment "),h()}}function P8(i,t){if(i&1){let e=Ge();p(0,"div",103)(1,"button",104),_e("click",function(){Pe(e);let r=M(4);return Oe(r.updateStatus(r.loadData._id,"Picked"))}),b(2," Confirm Pick-up "),h()()}}function O8(i,t){if(i&1&&(p(0,"div",96),Y(1,M8,2,0,"button",100)(2,P8,3,0,"div",101),h()),i&2){let e=M(3);v(),C("ngIf",e.user.role==="carrierAdmin"||e.user.role==="shipperAdmin"),v(),C("ngIf",e.user.role==="driver")}}function N8(i,t){if(i&1){let e=Ge();p(0,"div",103)(1,"button",104),_e("click",function(){Pe(e);let r=M(4);return Oe(r.updateStatus(r.loadData._id,"Dispatched"))}),b(2," Confirm Dispatch "),h()()}}function L8(i,t){if(i&1&&(p(0,"div",96),Y(1,N8,3,0,"div",101),h()),i&2){let e=M(3);v(),C("ngIf",e.user.role==="shipperAdmin")}}function R8(i,t){if(i&1&&(p(0,"span",107),b(1),h()),i&2){let e=M(4);v(),we(" Waiting for delivery ",e.getDeliveryStep(e.loadData.status)," ")}}function F8(i,t){if(i&1){let e=Ge();p(0,"button",108),_e("click",function(){let r=Pe(e).ngIf,o=M(4);return Oe(o.updateStatus(o.loadData._id,r.nextStatus))}),b(1),h()}if(i&2){let e=t.ngIf;C("ngClass",e.class),v(),we(" ",e.label," ")}}function j8(i,t){if(i&1&&(Xt(0),Y(1,R8,2,1,"span",105)(2,F8,2,2,"button",106),Zt()),i&2){let e=M(3);v(),C("ngIf",e.isWaitingForDelivery(e.loadData)),v(),C("ngIf",e.getShipperAction(e.loadData))}}function B8(i,t){if(i&1){let e=Ge();p(0,"button",108),_e("click",function(){let r=Pe(e).$implicit,o=M(4);return Oe(o.updateStatus(o.loadData._id,r.nextStatus))}),b(1),h()}if(i&2){let e=t.$implicit;C("ngClass",e.class),v(),we(" ",e.label," ")}}function V8(i,t){if(i&1&&Y(0,B8,2,2,"button",109),i&2){let e=M(3);C("ngForOf",e.getDriverActions(e.loadData))}}function U8(i,t){if(i&1){let e=Ge();p(0,"tr")(1,"td",86)(2,"div",58)(3,"div",59)(4,"div",60)(5,"div",61)(6,"h2",62),b(7),h(),p(8,"div",63)(9,"div",64)(10,"span",65),b(11,"P1"),h(),p(12,"div",66),b(13),q(14,"br"),b(15),q(16,"br"),b(17),q(18,"br"),b(19),q(20,"br"),b(21),q(22,"br"),p(23,"span"),b(24),h(),q(25,"br"),p(26,"span"),b(27),h(),q(28,"br"),h()(),Y(29,D8,18,8,"div",67)(30,I8,20,8,"div",67)(31,A8,20,8,"div",68),h()(),p(32,"div",69)(33,"h2",62),b(34,"Load Details"),h(),p(35,"div",70)(36,"div",71)(37,"p",72),b(38,"Agent Name"),h(),p(39,"p",73),b(40),h()(),p(41,"div",71)(42,"p",72),b(43,"Agent Contact"),h(),p(44,"p",73),b(45),h()(),p(46,"div",71)(47,"p",72),b(48,"Material"),h(),p(49,"p",73),b(50),h()(),p(51,"div",71)(52,"p",72),b(53,"Vehicle Type"),h(),p(54,"p",73),b(55),h()(),p(56,"div",71)(57,"p",72),b(58,"Vehicle Body"),h(),p(59,"p",73),b(60),h()(),p(61,"div",71)(62,"p",72),b(63,"LoadData Weight"),h(),p(64,"p",73),b(65),h()()()()(),Y(66,E8,28,8,"div",87),p(67,"div",88)(68,"h2",62),b(69,"Driver Details"),h(),p(70,"div",89)(71,"div",71)(72,"p",72),b(73,"Driver Name"),h(),p(74,"p",73),b(75),h()(),p(76,"div",71)(77,"p",72),b(78,"Driver Email"),h(),p(79,"p",73),b(80),h()(),p(81,"div",71)(82,"p",72),b(83,"Emergency Contact Name"),h(),p(84,"p",73),b(85),h()(),p(86,"div",71)(87,"p",72),b(88,"Emergency Contact Phone"),h(),p(89,"p",73),b(90),h()()()(),p(91,"div",90)(92,"h2",62),b(93,"Vehicle Details"),h(),p(94,"div",89)(95,"div",71)(96,"p",72),b(97,"Vehicle Type"),h(),p(98,"p",73),b(99),h()(),p(100,"div",71)(101,"p",72),b(102,"Registration Number"),h(),p(103,"p",73),b(104),h()(),p(105,"div",71)(106,"p",72),b(107,"Vehicle Color"),h(),p(108,"p",73),b(109),h()(),p(110,"div",71)(111,"p",72),b(112,"Year of Manufacture"),h(),p(113,"p",73),b(114),h()(),p(115,"div",71)(116,"p",72),b(117,"Inspection Status"),h(),p(118,"p",73),b(119),h()(),p(120,"div",71)(121,"p",72),b(122,"Make & Model"),h(),p(123,"p",73),b(124),h()(),p(125,"div",71)(126,"p",72),b(127,"Vehicle Capacity (kg)"),h(),p(128,"p",73),b(129),h()(),p(130,"div",71)(131,"p",72),b(132,"Insurance Provider"),h(),p(133,"p",73),b(134),h()()()(),p(135,"div",91),q(136,"app-tracker",92),p(137,"h2",62),b(138,"Actions"),h(),Y(139,k8,2,0,"h4",93)(140,T8,2,0,"h4",93),p(141,"div",94),Y(142,O8,3,2,"div",95)(143,L8,2,1,"div",95),p(144,"div",96),Y(145,j8,3,2,"ng-container",52)(146,V8,1,1,"ng-template",null,1,Ou),h(),p(148,"div",96)(149,"button",97),_e("click",function(){Pe(e);let r=M().$implicit,o=M();return Oe(o.toggleExpand(r))}),b(150," Cancel "),h()()()()()()()()}if(i&2){let e=Pu(147),n=M(2);v(7),we("Stops (1 Pick - ",n.loadData.dropoffs," Drop)"),v(6),we(" ",n.loadData.pickupLocation==null?null:n.loadData.pickupLocation.companyName,","),v(2),we(" ",n.loadData.pickupLocation==null||n.loadData.pickupLocation.address==null?null:n.loadData.pickupLocation.address.addressLine1,","),v(2),we(" ",(n.loadData.pickupLocation==null||n.loadData.pickupLocation.address==null?null:n.loadData.pickupLocation.address.addressLine2)||"",","),v(2),Vi(" ",n.loadData.pickupLocation==null||n.loadData.pickupLocation.address==null?null:n.loadData.pickupLocation.address.city,", ",(n.loadData.pickupLocation==null||n.loadData.pickupLocation.address==null?null:n.loadData.pickupLocation.address.state)||"",","),v(2),we(" ",(n.loadData.pickupLocation==null||n.loadData.pickupLocation.address==null?null:n.loadData.pickupLocation.address.postalCode)||"",","),v(3),we("Dispatch Date: ",n.getAppointmentDateTime(n.loadData.dispatchDateTime).date,""),v(3),we("Dispatch Time: ",n.getAppointmentDateTime(n.loadData.dispatchDateTime).time,""),v(2),C("ngIf",n.loadData.dropoff1),v(),C("ngIf",n.loadData.dropoff2),v(),C("ngIf",n.loadData.dropoff3),v(9),Ae(n.loadData.agentName||"--"),v(5),Ae(n.loadData.agentContact||"--"),v(5),Ae(n.loadData.material||"--"),v(5),Ae(n.loadData.vehicleType||"--"),v(5),Ae(n.loadData.vehicleBody||"--"),v(5),we("",n.loadData.quantity?n.loadData.quantity+" tons":"--"," "),v(),C("ngIf",n.user.role==="shipperAdmin"),v(9),Vi(" ",n.loadData.selectedBidDetails.driverDetails.name.firstName," ",n.loadData.selectedBidDetails.driverDetails.name.lastName," "),v(5),we("",n.loadData.selectedBidDetails.driverDetails.email," "),v(5),we(" ",n.loadData.selectedBidDetails.driverDetails.personalDetails.emergencyContact.name," "),v(5),we(" ",n.loadData.selectedBidDetails.driverDetails.personalDetails.emergencyContact.phoneNumber," "),v(9),Ae(n.loadData.selectedBidDetails.truckDetails.VehicleType),v(5),Ae(n.loadData.selectedBidDetails.truckDetails.VehicleRegistrationNumber),v(5),Ae(n.loadData.selectedBidDetails.truckDetails.VehicleColor),v(5),Ae(n.loadData.selectedBidDetails.truckDetails.YearOfManufacture),v(5),Ae(n.loadData.selectedBidDetails.truckDetails.VehicleInspectionStatus),v(5),Ae(n.loadData.selectedBidDetails.truckDetails.MakeAndModel),v(5),Ae(n.loadData.selectedBidDetails.truckDetails.VehicleCapacity),v(5),Ae(n.loadData.selectedBidDetails.truckDetails.InsuranceProvider),v(2),C("loadData",n.loadData)("user",n.user),v(3),C("ngIf",n.user.role==="driver"&&(n.loadData==null?null:n.loadData.status)==="Picked"),v(),C("ngIf",n.user.role==="carrierAdmin"&&(n.loadData==null?null:n.loadData.status)==="Picked"),v(2),C("ngIf",(n.loadData==null?null:n.loadData.status)==="Assigned"),v(),C("ngIf",(n.loadData==null?null:n.loadData.status)==="Picked"),v(2),C("ngIf",n.user.role==="shipperAdmin")("ngIfElse",e)}}function z8(i,t){if(i&1&&(Xt(0),Y(1,U8,151,40,"tr",56),Zt()),i&2){let e=t.$implicit,n=M();v(),C("ngIf",e.expanded&&n.tabledata.title==="All Shipments")}}function q8(i,t){if(i&1){let e=Ge();p(0,"span",110),_e("click",function(){let r=Pe(e).$implicit,o=M();return Oe(o.goToPage(r))}),b(1),h()}if(i&2){let e=t.$implicit,n=M();C("ngClass",vi(2,E6,e===n.currentPage)),v(),we(" ",e," ")}}function H8(i,t){if(i&1){let e=Ge();p(0,"app-adress-modal",111),_e("closeModal",function(){Pe(e);let r=M();return Oe(r.closeClientModal())})("onSave",function(r){Pe(e);let o=M();return Oe(o.saveClient(r))})("onClose",function(){Pe(e);let r=M();return Oe(r.closeClientModal())}),h()}if(i&2){let e=M();C("modalHeading",e.modalHeading)}}function G8(i,t){if(i&1){let e=Ge();p(0,"app-adress-modal",111),_e("closeModal",function(){Pe(e);let r=M();return Oe(r.closePickupModal())})("onSave",function(r){Pe(e);let o=M();return Oe(o.savePickup(r))})("onClose",function(){Pe(e);let r=M();return Oe(r.closePickupModal())}),h()}if(i&2){let e=M();C("modalHeading",e.modalHeading)}}function $8(i,t){if(i&1){let e=Ge();p(0,"app-delete-modal",112),_e("closeModal",function(){Pe(e);let r=M();return Oe(r.closeDeleteModal())}),h()}if(i&2){let e=M();C("action",e.target)("userId",e.targetId)("deleteItem",e.deleteResource.bind(e))}}var Zo=class i{constructor(t,e,n,r,o,a,s){this.dialog=t;this.toastr=e;this.dataService=n;this.cdr=r;this.router=o;this.razorpayService=a;this.bidpriceSocketService=s}Object=Object;localStorageServices=ue(on);user;id="";showTable=!1;filteredData;showDeleteModal=!1;target;targetId;tabledata={title:"",button:"",statuses:[],tableHeads:[],tableData:[],paginatedData:[]};getProcessedTableData(){return this.tabledata.tableData.map(t=>Object.values(t).flatMap(e=>typeof e=="object"&&e!==null?Object.values(e):e))}driverInvitation=new ct;loadCreation=new ct;UserServices=ue(hr);ShipperServices=ue(An);CarrierServices=ue(pr);DriverServices=ue(fr);updateResource;showClientModal;modalHeading="";tableExpanded=!1;loadData;selectedBidData;currentExpandedRow=null;itemsPerPage=10;currentPage=1;searchQuery="";showNoContentMessage;originalTableData=[];bidSubscription;activeStatus="Active";setActiveStatus(t){this.activeStatus=t}openModal(){console.log("initaiated",this.tabledata.title);let t;this.tabledata.title==="Drivers"?(t={heading:"Invite A Driver"},this.dialog.open(qm,{width:"600px",data:t,panelClass:"custom-dialog-container"}).afterClosed().subscribe(n=>{let r;n.formHeading==="Invite A Driver"&&(console.log(n.user),r=Fe(de({},n.user),{companyRefId:this.user.companyRefId}),console.log(r),this.driverInvitation.emit(r))})):this.tabledata.title==="All Bids"?(t={heading:"Create Load"},this.dialog.open(id,{maxWidth:"1000px",maxHeight:"100vh",data:t,panelClass:"custom-dialog-container",disableClose:!0}).afterClosed().subscribe(n=>{let r;n.formHeading==="Create Load"&&(console.log(n.user),r=Fe(de({},n.user),{companyRefId:this.user.companyRefId}),console.log(r),this.loadCreation.emit("success"))})):this.tabledata.title==="All Clients"?(console.log("tanle daat is ",this.tabledata.title),this.openClientModal()):this.tabledata.title==="All Pickups"?(console.log("tanle daat is ",this.tabledata.title),this.openPickupModal()):this.tabledata.title==="All Trucks"&&(t={heading:"Add Truck"},this.dialog.open(nd,{minWidth:"800px",maxHeight:"100vh",data:t,panelClass:"custom-dialog-container"}).afterClosed().subscribe(n=>{let r;n.formHeading==="Add Truck"&&(console.log(n.user),r=Fe(de({},n.user),{companyRefId:this.user.companyRefId}),console.log(r),this.loadCreation.emit("success"))}))}ngOnInit(){let t=this.router.url;console.log(this.tabledata),t.includes("/carrier/admin/dashboard")?this.user=this.localStorageServices.getCarrierAdminData():t.includes("/carrier/driver/dashboard")?this.user=this.localStorageServices.getDriverData():t.includes("/shipper/admin/dashboard")?this.user=this.localStorageServices.getShipperAdminData():t.includes("/admin/dashboard")&&(this.user=this.localStorageServices.getAppAdminData()),console.log("the data is ",this.getProcessedTableData()),console.log(this.tabledata),this.originalTableData=[...this.tabledata.tableData],this.updatePaginatedData(),this.tabledata?.statuses.length===0&&(this.showNoContentMessage=!0),this.setActiveStatus(this.tabledata.statuses[0]),this.establishSocketConnection()}ngOnChanges(t){t.tabledata&&t.tabledata.currentValue&&(console.log("tabledata changed",t.tabledata.currentValue),this.originalTableData=[...this.tabledata.tableData],this.updatePaginatedData(),this.tabledata?.statuses.length===0?this.showNoContentMessage=!0:this.showNoContentMessage=!1)}updatePaginatedData(){let t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;this.tabledata.paginatedData=this.tabledata.tableData.reverse().slice(t,e),console.log("Paginated data:",this.tabledata.paginatedData)}goToNextPage(){this.currentPage*this.itemsPerPage<this.tabledata.tableData.length&&(this.currentPage++,this.updatePaginatedData())}establishSocketConnection(){this.bidSubscription=this.bidpriceSocketService.lowestBid$.subscribe(t=>{if(console.log("Received updated bid:",t),!t){console.log("No new bid data received, table data remains unchanged.");return}if(this.tabledata.title==="All Bids"||this.tabledata.title==="All Loads"||this.tabledata.title==="Active Bids"){console.log(t.newBid);let e=this.tabledata.tableData.map(n=>n._id===t.newBid.loadRefId?Fe(de({},n),{lowestBid:t.newBid.bid}):n);console.log(e),this.tabledata=Fe(de({},this.tabledata),{tableData:e})}})}goToPreviousPage(){this.currentPage>1&&(this.currentPage--,this.updatePaginatedData())}getPageNumbers(){return Array(Math.ceil(this.tabledata.tableData.length/this.itemsPerPage)).fill(0).map((t,e)=>e+1)}goToPage(t){t>0&&t<=this.getPageNumbers().length&&(this.currentPage=t,this.updatePaginatedData())}getStartIndex(){return(this.currentPage-1)*this.itemsPerPage}getEndIndex(){let t=this.currentPage*this.itemsPerPage;return t>this.tabledata.tableData.length?this.tabledata.tableData.length:t}openClientModal(){this.modalHeading="Add a Client",this.showClientModal=!0}onSearch(){this.searchQuery&&this.searchQuery.trim()!==""?this.tabledata.tableData=this.originalTableData.filter(t=>Object.values(t).some(e=>e?e.toString().toLowerCase().includes(this.searchQuery.toLowerCase()):!1)):this.tabledata.tableData=[...this.originalTableData],this.updatePaginatedData()}closeClientModal(){this.showClientModal=!1,this.dataService.sendData("Customers")}openPickupModal(){this.modalHeading="Add a Pick-up Location",this.showClientModal=!0}closePickupModal(){this.showClientModal=!1,this.dataService.sendData("Pick-up Locations")}openInvoiceModal(t){this.dialog.open(pd,{width:"90%",height:"90vh",data:t,panelClass:"custom-dialog-container"}).afterClosed().subscribe(n=>{console.log("The dialog was closed",n)})}saveClient(t){if(console.log("save client initiated"),console.log(this.user),this.user){let e=this.user._id;this.handleClientData(e),this.updateResource("Client Details")}this.closeClientModal()}savePickup(t){if(console.log("save pickup initiated"),console.log(this.user),this.user){let e=this.user._id;this.handlePickupData(e),this.updateResource("Pickup Details")}this.closePickupModal()}handleClientData(t){this.ShipperServices.getAllClients(t).subscribe(e=>{console.log(e),this.cdr.detectChanges()})}handlePickupData(t){this.ShipperServices.getAllPickups(t).subscribe(e=>{console.log(e),this.cdr.detectChanges()})}refreshTableData(){if(this.user){let t=this.user._id;this.ShipperServices.getAllClients(t).subscribe(e=>{this.tabledata.tableData=e,this.cdr.detectChanges()})}}toggleExpand(t){let e=this.router.url;console.log("Current Route:",e),e==="/carrier/admin/dashboard"?(console.log(t._id),this.CarrierServices.getLoadInfo(t._id).subscribe(n=>{console.log(n.load),this.showTable=!0,this.loadData=n.load,this.currentExpandedRow&&this.currentExpandedRow!==t&&(this.currentExpandedRow.expanded=!1),t.expanded=!t.expanded,this.currentExpandedRow=t.expanded?t:null})):e==="/carrier/driver/dashboard"?(console.log(t._id),this.DriverServices.getLoadInfo(t._id).subscribe(n=>{console.log(n.load),this.showTable=!0,this.loadData=n.load,this.currentExpandedRow&&this.currentExpandedRow!==t&&(this.currentExpandedRow.expanded=!1),t.expanded=!t.expanded,this.currentExpandedRow=t.expanded?t:null})):e==="/admin/dashboard"?(console.log(t._id),this.UserServices.getLoadInfo(t._id).subscribe(n=>{console.log(n.load),this.showTable=!0,this.loadData=n.load,this.currentExpandedRow&&this.currentExpandedRow!==t&&(this.currentExpandedRow.expanded=!1),t.expanded=!t.expanded,this.currentExpandedRow=t.expanded?t:null})):(console.log(t._id),this.ShipperServices.getLoadInfo(t._id).subscribe(n=>{console.log(n.load),this.showTable=!0,this.loadData=n.load,this.currentExpandedRow&&this.currentExpandedRow!==t&&(this.currentExpandedRow.expanded=!1),t.expanded=!t.expanded,this.currentExpandedRow=t.expanded?t:null}))}getAppointmentDateTime(t){let[e,n]=t.split("T");return{date:e,time:n}}makeBid(t){let e={type:"Bid",data:t._id};this.dataService.sendData(e)}makeBidAgain(t){let e={type:"BidAgain",data:t._id};this.dataService.sendData(e)}getPayment(t){console.log(t);let e=this.router.url;e.includes("/carrier/admin/dashboard")?this.CarrierServices.getPayment(t.id).subscribe(n=>{console.log(n),this.openInvoiceModal(n.payments)}):e.includes("/shipper/admin/dashboard")?this.ShipperServices.getPayment(t.id).subscribe(n=>{this.openInvoiceModal(n.payments)}):e.includes("/admin/dashboard")&&this.UserServices.getPayment(t.id).subscribe(n=>{this.openInvoiceModal(n.payments)})}onBidderSelection(t){this.loadData.selectedBidder=t._id,this.selectedBidData=t}getObjectKeys(t){return Object.keys(t).filter(e=>e!=="_id"&&e!=="expanded"&&e!=="id")}onSubmit(){return Fo(this,null,function*(){try{if(!this.loadData.selectedBidder){console.log("No selected bidder");return}let t=yield xu(this.ShipperServices.createRazorpayOrder(this.selectedBidData.bid,this.loadData._id,this.loadData.shipperRefId,this.selectedBidData.companyRefId));if(!t.success){console.error("Failed to create order");return}console.log("Order created:",t);let e=yield this.razorpayService.openPaymentModal(t.orderData);if(console.log("Payment process completed:",e),e)try{let n=yield xu(this.ShipperServices.updateLoadInfo(this.loadData._id,{id:this.loadData.selectedBidder}));console.log("Load updated successfully:",n)}catch(n){console.error("Error updating load info:",n)}}catch(t){console.error("Error in submit process:",t)}})}cancelShipment(t){this.targetId=t,this.target="Cancelled",this.showDeleteModal=!0}deleteResource(t,e){console.log(t,e),this.user.role==="carrierAdmin"&&this.CarrierServices.updateLoadInfo(t,{id:e}).subscribe({next:n=>{n.success?(this.toastr.success("Shipment cancelled successfully!","Success"),this.dataService.sendData("Shipments")):this.toastr.error(n.message,"Error")},error:n=>{console.error("Error cancelling shipment:",n),this.toastr.error("Failed to cancel shipment. Please try again.","Error")}}),this.user.role==="shipperAdmin"&&this.ShipperServices.updateLoadInfo(t,{id:e}).subscribe({next:n=>{n.success?(this.toastr.success("Shipment cancelled successfully!","Success"),this.dataService.sendData("Shipments")):this.toastr.error(n.message,"Error")},error:n=>{console.error("Error cancelling shipment:",n),this.toastr.error("Failed to cancel shipment. Please try again.","Error")}})}updateStatus(t,e){console.log("button clicked"),this.user.role==="driver"&&this.DriverServices.updateLoadInfo(t,{id:e}).subscribe({next:n=>{n.success?(this.toastr.success("Shipment updated successfully!","Success"),this.dataService.sendData("Shipments")):this.toastr.error(n.message,"Error")},error:n=>{console.error("Error updating shipment:",n),this.toastr.error("Failed to update shipment. Please try again.","Error")}}),this.user.role==="shipperAdmin"&&this.ShipperServices.updateLoadInfo(t,{id:e}).subscribe({next:n=>{n.success?(this.toastr.success("Shipment updated successfully!","Success"),this.dataService.sendData("Shipments")):this.toastr.error(n.message,"Error")},error:n=>{console.error("Error updating shipment:",n),this.toastr.error("Failed to update shipment. Please try again.","Error")}})}closeDeleteModal(){this.showDeleteModal=!1}updateStatusToDelivered(){}shouldShowRow(t){let e=t.status?.trim().toLowerCase()||"",n=this.activeStatus?.trim().toLowerCase()||"";return e?(console.log("the row status is ",e),console.log("the active status is ",n),n==="active"?e==="assigned"||e==="open":n==="assigned"?e==="picked"||e==="assigned":n==="dispatched"?e==="picked"||e==="delivered1"||e==="delivered2"||e==="delivered3"||e==="delivered"||e==="delivered1-partial"||e==="delivered2-partial"||e==="delivered3-partial"||e==="dispatched":n==="delivered"?e==="completed":e===n):!0}getDriverActions(t){let e=[];if(!t)return e;let{status:n,dropoffs:r}=t,o="bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded";return n==="Dispatched"&&r===1?e.push({label:"Confirm Delivery",nextStatus:"Delivered",class:o}):n==="Dispatched"&&r>1?e.push({label:"Confirm Delivery 1",nextStatus:"Delivered1-Partial",class:o}):n==="Delivered1"&&r===2?e.push({label:"Complete Delivery",nextStatus:"Delivered",class:o}):n==="Delivered1"&&r===3?e.push({label:"Confirm Delivery 2",nextStatus:"Delivered2-Partial",class:o}):n==="Delivered2"&&r===3&&e.push({label:"Complete Delivery",nextStatus:"Delivered",class:o}),e}getShipperAction(t){if(!t)return null;let{status:e,dropoffs:n}=t,r="bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded";return e==="Delivered"&&n===1?{label:"Complete Delivery",nextStatus:"Completed",class:r}:e==="Delivered1-Partial"||e==="Delivered1"?{label:"Confirm Delivery 1",nextStatus:"Delivered1",class:r}:e==="Delivered2-Partial"?{label:"Confirm Delivery 2",nextStatus:"Delivered2",class:r}:e==="Delivered"&&n>1?{label:"Complete Delivery",nextStatus:"Completed",class:r}:null}isWaitingForDelivery(t){return t?["Dispatched","Delivered1-Partial","Delivered2-Partial"].includes(t.status):!1}getDeliveryStep(t){return{Dispatched:"1","Delivered1-Partial":"2","Delivered2-Partial":"3"}[t]||""}static \u0275fac=function(e){return new(e||i)(le(ka),le(En),le(xi),le(Dn),le(fi),le(s0),le(b0))};static \u0275cmp=Ye({type:i,selectors:[["app-table"]],inputs:{tabledata:"tabledata",updateResource:"updateResource"},outputs:{driverInvitation:"driverInvitation",loadCreation:"loadCreation"},standalone:!0,features:[ki,Xe],decls:51,vars:22,consts:[["normalCell",""],["driverActions",""],[1,"relative","flex","flex-col","w-full","h-full","text-gray-700","bg-white","shadow-md","rounded-xl","bg-clip-border"],[1,"relative","mx-4","mt-4","overflow-hidden","text-gray-700","bg-white","rounded-none","bg-clip-border"],[1,"flex","items-center","justify-between","gap-8","mb-8"],[1,"block","font-sans","text-xl","antialiased","font-semibold","leading-snug","tracking-normal","text-blue-gray-900"],[1,"block","mt-1","font-sans","text-base","antialiased","font-normal","leading-relaxed","text-gray-700"],[1,"flex","flex-col","gap-2","shrink-0","sm:flex-row"],["class","flex select-none items-center gap-3 rounded-lg bg-gray-900 py-2 px-4 text-center align-middle font-sans text-xs font-bold uppercase text-white shadow-md shadow-gray-900/10 transition-all hover:shadow-lg hover:shadow-gray-900/20 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none","type","button",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","justify-between","gap-4","md:flex-row"],[1,"block","w-full","overflow-hidden","md:w-max"],["role","tablist",1,"relative","flex","flex-row","p-1","rounded-lg","bg-blue-gray-50","bg-opacity-60"],["class","relative flex items-center justify-center w-full h-full px-2 py-1 font-sans text-base antialiased font-normal leading-relaxed text-center bg-transparent cursor-pointer select-none text-blue-gray-900",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"w-full","md:w-72"],[1,"relative","h-10","w-full","min-w-[200px]"],[1,"absolute","inset-y-0","right-3","flex","items-center","pointer-events-none","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],["type","text","placeholder","Search",1,"peer","h-full","w-full","rounded-lg","border","border-gray-300","px-4","py-2","pr-10","text-sm","text-gray-700","placeholder-transparent","transition-all","focus:border-gray-700","focus:outline-none",3,"ngModelChange","input","ngModel"],[1,"absolute","left-4","top-1.5","text-sm","text-gray-600","transition-all","peer-placeholder-shown:top-1.5","peer-placeholder-shown:text-sm","peer-placeholder-shown:text-gray-400","peer-focus:top-0","peer-focus:text-xs","peer-focus:text-gray-700"],[1,"p-6","px-0","overflow-scroll"],[1,"relative","flex","flex-col","w-full","h-full","overflow-scroll","bg-white","shadow-md","rounded-lg","bg-clip-border"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400","table-fixed"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col","class","px-6 py-3 text-center",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"w-full","flex","flex-col","items-center","justify-center","p-4","border-t","border-blue-gray-50"],["id","dataInfo",1,"block","font-sans","text-sm","antialiased","font-normal","leading-normal","text-blue-gray-900","mb-2"],[1,"flex","gap-2"],["id","prevBtn","type","button",1,"select-none","rounded-lg","border","border-gray-900","py-2","px-4","text-center","align-middle","font-sans","text-xs","font-bold","uppercase","text-gray-900","transition-all","hover:opacity-75","focus:ring","focus:ring-gray-300","active:opacity-[0.85]","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"click","disabled"],["id","paginationNumbers",1,"flex","gap-2"],["class","cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],["id","nextBtn","type","button",1,"select-none","rounded-lg","border","border-gray-900","py-2","px-4","text-center","align-middle","font-sans","text-xs","font-bold","uppercase","text-gray-900","transition-all","hover:opacity-75","focus:ring","focus:ring-gray-300","active:opacity-[0.85]","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"click","disabled"],[3,"modalHeading","closeModal","onSave","onClose",4,"ngIf"],[3,"action","userId","deleteItem","closeModal",4,"ngIf"],["type","button",1,"flex","select-none","items-center","gap-3","rounded-lg","bg-gray-900","py-2","px-4","text-center","align-middle","font-sans","text-xs","font-bold","uppercase","text-white","shadow-md","shadow-gray-900/10","transition-all","hover:shadow-lg","hover:shadow-gray-900/20","focus:opacity-[0.85]","focus:shadow-none","active:opacity-[0.85]","active:shadow-none","disabled:pointer-events-none","disabled:opacity-50","disabled:shadow-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor","aria-hidden","true","stroke-width","2",1,"w-4","h-4"],["d","M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z"],[1,"relative","flex","items-center","justify-center","w-full","h-full","px-2","py-1","font-sans","text-base","antialiased","font-normal","leading-relaxed","text-center","bg-transparent","cursor-pointer","select-none","text-blue-gray-900",3,"click","ngClass"],[1,"z-20","text-inherit"],["class","absolute inset-0 z-10 h-full bg-white rounded-md shadow",4,"ngIf"],[1,"absolute","inset-0","z-10","h-full","bg-white","rounded-md","shadow"],["scope","col",1,"px-6","py-3","text-center"],["class","w-full bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",4,"ngIf"],[1,"w-full","bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600"],[1,"px-6","py-4","text-center"],[1,"flex","items-center","justify-center"],[1,"h-2.5","w-2.5","rounded-full","bg-green-500","me-2"],["class","px-6 py-4 text-center",4,"ngIf"],[3,"id","item"],[3,"click",4,"ngIf"],["class","bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"h-2.5","w-2.5","rounded-full","me-2",3,"ngClass"],[3,"click"],[1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded",3,"click"],[4,"ngIf"],["colspan","8",1,"p-4","min-w-max"],[1,"bg-gray-100","p-4"],[1,"w-full","h-auto","flex","flex-col","items-start","justify-start"],[1,"w-full","flex","flex-row","gap-4"],[1,"stops-section","w-1/2","relative","border-b-2","border-gray-800","pb-2","flex-wrap"],[1,"text-lg","font-bold","text-gray-800","uppercase"],[1,"stop-details","mt-4","flex","flex-wrap"],[1,"stop-item","flex","items-start","mb-4","w-1/2"],[1,"stop-label","text-3xl","text-black/90","mr-4"],[1,"stop-info","text-sm","text-black/90"],["class","stop-item flex items-start mb-4 w-1/2",4,"ngIf"],["class","stop-item flex items-start w-1/2",4,"ngIf"],[1,"additional-details-section","w-1/2","relative","border-b-2","border-gray-800","pb-2"],[1,"details-grid","grid","grid-cols-2","gap-4","mt-4"],[1,"detail-item"],[1,"text-sm","font-bold","text-gray-800"],[1,"text-sm","text-black/90"],[1,"bidders-section","w-full","mt-6"],[1,"text-lg","font-bold","text-gray-800","uppercase","mt-8","border-b-2","border-gray-800"],[1,"overflow-x-auto","mt-4"],[1,"min-w-full","border","border-gray-300"],[1,"px-4","py-2","border-b","border-gray-300"],["class","border-t border-gray-200 cursor-pointer transition-colors duration-150",3,"ngClass","click",4,"ngFor","ngForOf"],["class","mt-4 text-right",4,"ngIf"],[1,"stop-item","flex","items-start","w-1/2"],[1,"border-t","border-gray-200","cursor-pointer","transition-colors","duration-150",3,"click","ngClass"],[1,"px-4","py-2"],[1,"mt-4","text-right"],[1,"bg-blue-500","text-white","px-4","py-2","rounded","hover:bg-blue-600",3,"click","disabled","ngClass"],["colspan","8",1,"p-4"],["class","carrier-details-section w-full border-b-2 border-gray-800 pb-2 mt-4",4,"ngIf"],[1,"driver-details-section","w-full","border-b-2","border-gray-800","pb-2","mt-4"],[1,"details-grid","grid","grid-cols-4","gap-4","mt-4"],[1,"vehicle-details-section","w-full","border-b-2","border-gray-800","pb-2","mt-4"],[1,"action-buttons-section","w-full","mt-4"],[3,"loadData","user"],["class","text-red-600 text-base",4,"ngIf"],[1,"flex","flex-col","md:flex-row","gap-4","mt-4"],["class","flex flex-col md:flex-row gap-4",4,"ngIf"],[1,"flex","flex-col","md:flex-row","gap-4"],[1,"bg-gray-500","hover:bg-green-600","text-white","py-2","px-4","rounded",3,"click"],[1,"carrier-details-section","w-full","border-b-2","border-gray-800","pb-2","mt-4"],[1,"text-red-600","text-base"],["class","bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded",3,"click",4,"ngIf"],["class","flex items-center gap-4",4,"ngIf"],[1,"bg-red-500","hover:bg-red-600","text-white","py-2","px-4","rounded",3,"click"],[1,"flex","items-center","gap-4"],[1,"bg-blue-500","hover:bg-blue-600","text-white","py-2","px-4","rounded",3,"click"],["class","text-gray-500",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"text-gray-500"],[3,"click","ngClass"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"click","ngClass"],[3,"closeModal","onSave","onClose","modalHeading"],[3,"closeModal","action","userId","deleteItem"]],template:function(e,n){e&1&&(p(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"h5",5),b(5),h(),p(6,"p",6),b(7," See information about all members "),h()(),p(8,"div",7),Y(9,k6,4,1,"button",8),h()(),p(10,"div",9)(11,"div",10)(12,"nav")(13,"ul",11),Y(14,M6,4,6,"li",12),h()()(),p(15,"div",13)(16,"div",14)(17,"div",15),Hi(),p(18,"svg",16),q(19,"path",17),h()(),nn(),p(20,"input",18),Df("ngModelChange",function(o){return Sf(n.searchQuery,o)||(n.searchQuery=o),o}),_e("input",function(){return n.onSearch()}),h(),p(21,"label",19),b(22," Search "),h()()()()(),p(23,"div",20)(24,"div",21)(25,"table",22)(26,"thead",23)(27,"tr"),Y(28,P6,2,1,"th",24),h()(),p(29,"tbody"),Y(30,R6,2,1,"ng-container",25)(31,j6,2,1,"ng-container",25)(32,X6,2,1,"ng-container",25)(33,i8,2,1,"ng-container",25)(34,c8,2,1,"ng-container",25)(35,v8,2,1,"ng-container",25)(36,S8,2,1,"ng-container",25)(37,z8,2,1,"ng-container",25),h()()()(),p(38,"div",26)(39,"p",27),b(40),h(),p(41,"div",28)(42,"button",29),_e("click",function(){return n.goToPreviousPage()}),b(43," Previous "),h(),p(44,"div",30),Y(45,q8,2,4,"span",31),h(),p(46,"button",32),_e("click",function(){return n.goToNextPage()}),b(47," Next "),h()()()(),Y(48,H8,1,1,"app-adress-modal",33)(49,G8,1,1,"app-adress-modal",33)(50,$8,1,3,"app-delete-modal",34)),e&2&&(v(5),we(" ",n.tabledata.title," "),v(4),C("ngIf",n.tabledata.button!==""),v(5),C("ngForOf",n.tabledata.statuses),v(6),wf("ngModel",n.searchQuery),v(8),C("ngForOf",n.tabledata.tableHeads),v(2),C("ngForOf",n.tabledata.paginatedData),v(),C("ngForOf",n.tabledata.paginatedData),v(),C("ngForOf",n.tabledata.paginatedData),v(),C("ngForOf",n.tabledata.paginatedData),v(),C("ngForOf",n.tabledata.paginatedData),v(),C("ngForOf",n.tabledata.paginatedData),v(),C("ngForOf",n.tabledata.paginatedData),v(),C("ngForOf",n.tabledata.paginatedData),v(3),us(" Showing ",n.getStartIndex()+1," - ",n.getEndIndex()," of ",n.tabledata.tableData.length," items "),v(2),C("disabled",n.currentPage===1),v(3),C("ngForOf",n.getPageNumbers()),v(),C("disabled",n.currentPage*n.itemsPerPage>=n.tabledata.tableData.length),v(2),C("ngIf",n.showClientModal),v(),C("ngIf",n.showClientModal),v(),C("ngIf",n.showDeleteModal))},dependencies:[st,Li,Ti,Ct,Hm,di,li,_i,Es,Kr,_s,fn,Th,Os,a0],styles:[".mat-mdc-dialog-surface[_ngcontent-%COMP%]{background-color:#f0f1f2;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}.active-tab[_ngcontent-%COMP%]{font-weight:700;color:#007bff}.hidden[_ngcontent-%COMP%]{display:none}.table-fixed[_ngcontent-%COMP%]{table-layout:auto;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word}"]})};var W8=(i,t)=>({"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500":i,"bg-gray-300 text-gray-800 cursor-not-allowed focus:ring-gray-500":t});function Y8(i,t){i&1&&(p(0,"small",13),b(1," This field is required "),h())}function X8(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid format "),h())}function Z8(i,t){i&1&&(p(0,"small",13),b(1," Only letters and spaces, minimum 3 characters. "),h())}function K8(i,t){if(i&1&&(p(0,"div",12),Y(1,Y8,2,0,"small",11)(2,X8,2,0,"small",11)(3,Z8,2,0,"small",11),h()),i&2){let e,n,r,o=M().$implicit,a=M();v(),C("ngIf",(e=a.formGroup.get(o.id))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=a.formGroup.get(o.id))==null||n.errors==null?null:n.errors.pattern),v(),C("ngIf",(r=a.formGroup.get(o.id))==null||r.errors==null?null:r.errors.invalidName)}}function J8(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid Indian phone number. "),h())}function Q8(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid email. "),h())}function e7(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",9),Y(4,K8,4,3,"div",10)(5,J8,2,0,"small",11)(6,Q8,2,0,"small",11),h()),i&2){let e,n,r,o=t.$implicit,a=M();v(),C("for",o.id),v(),Ae(o.label),v(),C("id",o.id)("type",o.type)("formControlName",o.id)("placeholder",o.placeholder)("disabled",o.disabled||!1),v(),C("ngIf",((e=a.formGroup.get(o.id))==null?null:e.invalid)&&(((e=a.formGroup.get(o.id))==null?null:e.dirty)||((e=a.formGroup.get(o.id))==null?null:e.touched))),v(),C("ngIf",(n=a.formGroup.get(o.id))==null||n.errors==null?null:n.errors.invalidPhoneNumber),v(),C("ngIf",(r=a.formGroup.get(o.id))==null||r.errors==null?null:r.errors.email)}}function t7(i,t){i&1&&q(0,"hr",14)}function i7(i,t){i&1&&(p(0,"small",13),b(1," This field is required. "),h())}function n7(i,t){i&1&&(p(0,"small",13),b(1," Only letters and spaces, minimum 3 characters. "),h())}function r7(i,t){i&1&&(p(0,"small",13),b(1," Invalid format. Please check the input. "),h())}function o7(i,t){i&1&&(p(0,"small",13),b(1," The date must be in the future. "),h())}function a7(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid Indian phone number. "),h())}function s7(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid email. "),h())}function l7(i,t){i&1&&(p(0,"small",13),b(1," Minimum length requirement not met. "),h())}function c7(i,t){i&1&&(p(0,"small",13),b(1," Maximum length exceeded. "),h())}function d7(i,t){i&1&&(p(0,"small",13),b(1," Date of birth is required. "),h())}function u7(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid Indian driver's license number (Format: AB1234567890123). "),h())}function h7(i,t){i&1&&(p(0,"small",13),b(1," You must be at least 18 years old. "),h())}function p7(i,t){i&1&&(p(0,"small",13),b(1," You must be at least 18 years old. "),h())}function f7(i,t){if(i&1&&(p(0,"div",12),Y(1,i7,2,0,"small",11)(2,n7,2,0,"small",11)(3,r7,2,0,"small",11)(4,o7,2,0,"small",11)(5,a7,2,0,"small",11)(6,s7,2,0,"small",11)(7,l7,2,0,"small",11)(8,c7,2,0,"small",11)(9,d7,2,0,"small",11)(10,u7,2,0,"small",11)(11,h7,2,0,"small",11)(12,p7,2,0,"small",11),h()),i&2){let e,n,r,o,a,s,l,c,u,f,y,g,S=M().$implicit,w=M(2);v(),C("ngIf",(e=w.formGroup.get(S.id))==null?null:e.hasError("required")),v(),C("ngIf",(n=w.formGroup.get(S.id))==null||n.errors==null?null:n.errors.invalidName),v(),C("ngIf",(r=w.formGroup.get(S.id))==null?null:r.hasError("pattern")),v(),C("ngIf",(o=w.formGroup.get(S.id))==null?null:o.hasError("pastDate")),v(),C("ngIf",(a=w.formGroup.get(S.id))==null||a.errors==null?null:a.errors.invalidPhoneNumber),v(),C("ngIf",(s=w.formGroup.get(S.id))==null||s.errors==null?null:s.errors.email),v(),C("ngIf",(l=w.formGroup.get(S.id))==null?null:l.hasError("minlength")),v(),C("ngIf",(c=w.formGroup.get(S.id))==null?null:c.hasError("maxlength")),v(),C("ngIf",(u=w.formGroup.get("dateOfBirth"))==null?null:u.hasError("required")),v(),C("ngIf",(f=w.formGroup.get(S.id))==null||f.errors==null?null:f.errors.invalidDriversLicense),v(),C("ngIf",(y=w.formGroup.get(S.id))==null||y.errors==null?null:y.errors.invalidAge),v(),C("ngIf",(g=w.formGroup.get("dateOfBirth"))==null?null:g.hasError("underAge"))}}function m7(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,f7,13,12,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function g7(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Additional Information"),h(),p(3,"div",3),Y(4,m7,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.additionalInformation)}}function v7(i,t){i&1&&(p(0,"small",13),b(1," This field is required. "),h())}function b7(i,t){i&1&&(p(0,"small",13),b(1," Invalid format. Please check the input. "),h())}function _7(i,t){i&1&&(p(0,"small",13),b(1," The date must be in the future. "),h())}function y7(i,t){i&1&&(p(0,"small",13),b(1," Minimum length requirement not met. "),h())}function x7(i,t){i&1&&(p(0,"small",13),b(1," Maximum length exceeded. "),h())}function C7(i,t){i&1&&(p(0,"small",13),b(1," Date of birth is required. "),h())}function w7(i,t){i&1&&(p(0,"small",13),b(1," You must be at least 18 years old. "),h())}function S7(i,t){if(i&1&&(p(0,"div",12),Y(1,v7,2,0,"small",11)(2,b7,2,0,"small",11)(3,_7,2,0,"small",11)(4,y7,2,0,"small",11)(5,x7,2,0,"small",11)(6,C7,2,0,"small",11)(7,w7,2,0,"small",11),h()),i&2){let e,n,r,o,a,s,l,c=M().$implicit,u=M(2);v(),C("ngIf",(e=u.formGroup.get(c.id))==null?null:e.hasError("required")),v(),C("ngIf",(n=u.formGroup.get(c.id))==null?null:n.hasError("pattern")),v(),C("ngIf",(r=u.formGroup.get(c.id))==null?null:r.hasError("pastDate")),v(),C("ngIf",(o=u.formGroup.get(c.id))==null?null:o.hasError("minlength")),v(),C("ngIf",(a=u.formGroup.get(c.id))==null?null:a.hasError("maxlength")),v(),C("ngIf",(s=u.formGroup.get("dateOfBirth"))==null?null:s.hasError("required")),v(),C("ngIf",(l=u.formGroup.get("dateOfBirth"))==null?null:l.hasError("underAge"))}}function D7(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,S7,8,7,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function I7(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Vehicle Details"),h(),p(3,"div",3),Y(4,D7,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.vehicleDetails)}}function A7(i,t){i&1&&(p(0,"small",13),b(1," This field is required. "),h())}function E7(i,t){i&1&&(p(0,"small",13),b(1," Invalid format. Please check the input. "),h())}function k7(i,t){i&1&&(p(0,"small",13),b(1," The date must be in the future. "),h())}function T7(i,t){i&1&&(p(0,"small",13),b(1," Minimum length requirement not met. "),h())}function M7(i,t){i&1&&(p(0,"small",13),b(1," Maximum length exceeded. "),h())}function P7(i,t){i&1&&(p(0,"small",13),b(1," Date of birth is required. "),h())}function O7(i,t){i&1&&(p(0,"small",13),b(1," You must be at least 18 years old. "),h())}function N7(i,t){if(i&1&&(p(0,"div",12),Y(1,A7,2,0,"small",11)(2,E7,2,0,"small",11)(3,k7,2,0,"small",11)(4,T7,2,0,"small",11)(5,M7,2,0,"small",11)(6,P7,2,0,"small",11)(7,O7,2,0,"small",11),h()),i&2){let e,n,r,o,a,s,l,c=M().$implicit,u=M(2);v(),C("ngIf",(e=u.formGroup.get(c.id))==null?null:e.hasError("required")),v(),C("ngIf",(n=u.formGroup.get(c.id))==null?null:n.hasError("pattern")),v(),C("ngIf",(r=u.formGroup.get(c.id))==null?null:r.hasError("pastDate")),v(),C("ngIf",(o=u.formGroup.get(c.id))==null?null:o.hasError("minlength")),v(),C("ngIf",(a=u.formGroup.get(c.id))==null?null:a.hasError("maxlength")),v(),C("ngIf",(s=u.formGroup.get("dateOfBirth"))==null?null:s.hasError("required")),v(),C("ngIf",(l=u.formGroup.get("dateOfBirth"))==null?null:l.hasError("underAge"))}}function L7(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,N7,8,7,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function R7(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Vehicle Specification"),h(),p(3,"div",3),Y(4,L7,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.vehicleSpecifications)}}function F7(i,t){i&1&&(p(0,"small",13),b(1," This field is required. "),h())}function j7(i,t){i&1&&(p(0,"small",13),b(1," Invalid format. Please check the input. "),h())}function B7(i,t){i&1&&(p(0,"small",13),b(1," The date must be in the future. "),h())}function V7(i,t){i&1&&(p(0,"small",13),b(1," Minimum length requirement not met. "),h())}function U7(i,t){i&1&&(p(0,"small",13),b(1," Maximum length exceeded. "),h())}function z7(i,t){i&1&&(p(0,"small",13),b(1," Date of birth is required. "),h())}function q7(i,t){i&1&&(p(0,"small",13),b(1," You must be at least 18 years old. "),h())}function H7(i,t){if(i&1&&(p(0,"div",12),Y(1,F7,2,0,"small",11)(2,j7,2,0,"small",11)(3,B7,2,0,"small",11)(4,V7,2,0,"small",11)(5,U7,2,0,"small",11)(6,z7,2,0,"small",11)(7,q7,2,0,"small",11),h()),i&2){let e,n,r,o,a,s,l,c=M().$implicit,u=M(2);v(),C("ngIf",(e=u.formGroup.get(c.id))==null?null:e.hasError("required")),v(),C("ngIf",(n=u.formGroup.get(c.id))==null?null:n.hasError("pattern")),v(),C("ngIf",(r=u.formGroup.get(c.id))==null?null:r.hasError("pastDate")),v(),C("ngIf",(o=u.formGroup.get(c.id))==null?null:o.hasError("minlength")),v(),C("ngIf",(a=u.formGroup.get(c.id))==null?null:a.hasError("maxlength")),v(),C("ngIf",(s=u.formGroup.get("dateOfBirth"))==null?null:s.hasError("required")),v(),C("ngIf",(l=u.formGroup.get("dateOfBirth"))==null?null:l.hasError("underAge"))}}function G7(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,H7,8,7,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function $7(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Vehicle Registration and License"),h(),p(3,"div",3),Y(4,G7,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.registrationAndLicensing)}}function W7(i,t){i&1&&(p(0,"small",13),b(1," This field is required. "),h())}function Y7(i,t){i&1&&(p(0,"small",13),b(1," Invalid format. Please check the input. "),h())}function X7(i,t){i&1&&(p(0,"small",13),b(1," The date must be in the future. "),h())}function Z7(i,t){i&1&&(p(0,"small",13),b(1," Minimum length requirement not met. "),h())}function K7(i,t){i&1&&(p(0,"small",13),b(1," Maximum length exceeded. "),h())}function J7(i,t){i&1&&(p(0,"small",13),b(1," Date of birth is required. "),h())}function Q7(i,t){i&1&&(p(0,"small",13),b(1," You must be at least 18 years old. "),h())}function ej(i,t){if(i&1&&(p(0,"div",12),Y(1,W7,2,0,"small",11)(2,Y7,2,0,"small",11)(3,X7,2,0,"small",11)(4,Z7,2,0,"small",11)(5,K7,2,0,"small",11)(6,J7,2,0,"small",11)(7,Q7,2,0,"small",11),h()),i&2){let e,n,r,o,a,s,l,c=M().$implicit,u=M(2);v(),C("ngIf",(e=u.formGroup.get(c.id))==null?null:e.hasError("required")),v(),C("ngIf",(n=u.formGroup.get(c.id))==null?null:n.hasError("pattern")),v(),C("ngIf",(r=u.formGroup.get(c.id))==null?null:r.hasError("pastDate")),v(),C("ngIf",(o=u.formGroup.get(c.id))==null?null:o.hasError("minlength")),v(),C("ngIf",(a=u.formGroup.get(c.id))==null?null:a.hasError("maxlength")),v(),C("ngIf",(s=u.formGroup.get("dateOfBirth"))==null?null:s.hasError("required")),v(),C("ngIf",(l=u.formGroup.get("dateOfBirth"))==null?null:l.hasError("underAge"))}}function tj(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,ej,8,7,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function ij(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Vehicle Insurance "),h(),p(3,"div",3),Y(4,tj,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.insuranceDetails)}}function nj(i,t){i&1&&(p(0,"small",13),b(1," This field is required. "),h())}function rj(i,t){i&1&&(p(0,"small",13),b(1," Invalid format. Please check the input. "),h())}function oj(i,t){i&1&&(p(0,"small",13),b(1," The date must be in the future. "),h())}function aj(i,t){i&1&&(p(0,"small",13),b(1," Minimum length requirement not met. "),h())}function sj(i,t){i&1&&(p(0,"small",13),b(1," Maximum length exceeded. "),h())}function lj(i,t){i&1&&(p(0,"small",13),b(1," Date of birth is required. "),h())}function cj(i,t){i&1&&(p(0,"small",13),b(1," You must be at least 18 years old. "),h())}function dj(i,t){if(i&1&&(p(0,"div",12),Y(1,nj,2,0,"small",11)(2,rj,2,0,"small",11)(3,oj,2,0,"small",11)(4,aj,2,0,"small",11)(5,sj,2,0,"small",11)(6,lj,2,0,"small",11)(7,cj,2,0,"small",11),h()),i&2){let e,n,r,o,a,s,l,c=M().$implicit,u=M(2);v(),C("ngIf",(e=u.formGroup.get(c.id))==null?null:e.hasError("required")),v(),C("ngIf",(n=u.formGroup.get(c.id))==null?null:n.hasError("pattern")),v(),C("ngIf",(r=u.formGroup.get(c.id))==null?null:r.hasError("pastDate")),v(),C("ngIf",(o=u.formGroup.get(c.id))==null?null:o.hasError("minlength")),v(),C("ngIf",(a=u.formGroup.get(c.id))==null?null:a.hasError("maxlength")),v(),C("ngIf",(s=u.formGroup.get("dateOfBirth"))==null?null:s.hasError("required")),v(),C("ngIf",(l=u.formGroup.get("dateOfBirth"))==null?null:l.hasError("underAge"))}}function uj(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,dj,8,7,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function hj(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Vehicle Status "),h(),p(3,"div",3),Y(4,uj,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.statusAndMetadata)}}function pj(i,t){i&1&&(p(0,"small",13),b(1," This field is required "),h())}function fj(i,t){if(i&1&&(p(0,"div",12),Y(1,pj,2,0,"small",11),h()),i&2){let e,n=M().$implicit,r=M(2);v(),C("ngIf",(e=r.formGroup.get(n.id))==null||e.errors==null?null:e.errors.required)}}function mj(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,fj,2,1,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function gj(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Company Information"),h(),p(3,"div",3),Y(4,mj,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.companyInformation)}}function vj(i,t){i&1&&(p(0,"small",13),b(1," This field is required. "),h())}function bj(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid Indian postal code. "),h())}function _j(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid city name with only letters and spaces between words. "),h())}function yj(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid address with letters and numbers. "),h())}function xj(i,t){if(i&1&&(p(0,"div",12),Y(1,vj,2,0,"small",11)(2,bj,2,0,"small",11)(3,_j,2,0,"small",11)(4,yj,2,0,"small",11),h()),i&2){let e,n,r,o,a=M().$implicit,s=M(2);v(),C("ngIf",(e=s.formGroup.get(a.id))==null||e.errors==null?null:e.errors.required),v(),C("ngIf",(n=s.formGroup.get(a.id))==null||n.errors==null?null:n.errors.invalidPostalCode),v(),C("ngIf",(r=s.formGroup.get(a.id))==null||r.errors==null?null:r.errors.invalidCityName),v(),C("ngIf",(o=s.formGroup.get(a.id))==null||o.errors==null?null:o.errors.invalidAddress)}}function Cj(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,xj,5,4,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function wj(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Address"),h(),p(3,"div",3),Y(4,Cj,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.address)}}function Sj(i,t){i&1&&(p(0,"small",13),b(1," This field is required. "),h())}function Dj(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid IFSC code (Format: ABCD0123456). "),h())}function Ij(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid account number (9 to 18 digits). "),h())}function Aj(i,t){if(i&1&&(p(0,"div",12),Y(1,Sj,2,0,"small",11)(2,Dj,2,0,"small",11)(3,Ij,2,0,"small",11),h()),i&2){let e,n,r,o=M().$implicit,a=M(2);v(),C("ngIf",(e=a.formGroup.get(o.id))==null?null:e.hasError("required")),v(),C("ngIf",(n=a.formGroup.get(o.id))==null?null:n.hasError("invalidIFSC")),v(),C("ngIf",(r=a.formGroup.get(o.id))==null?null:r.hasError("invalidAccountNumber"))}}function Ej(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,Aj,4,3,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function kj(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Bank Details"),h(),p(3,"div",3),Y(4,Ej,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.bankDetails)}}function Tj(i,t){i&1&&(p(0,"small",13),b(1," This field is required. "),h())}function Mj(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid IFSC code (Format: ABCD0123456). "),h())}function Pj(i,t){i&1&&(p(0,"small",13),b(1," Please enter a valid account number (9 to 18 digits). "),h())}function Oj(i,t){if(i&1&&(p(0,"div",12),Y(1,Tj,2,0,"small",11)(2,Mj,2,0,"small",11)(3,Pj,2,0,"small",11),h()),i&2){let e,n,r,o=M().$implicit,a=M(2);v(),C("ngIf",(e=a.formGroup.get(o.id))==null?null:e.hasError("required")),v(),C("ngIf",(n=a.formGroup.get(o.id))==null?null:n.hasError("invalidIFSC")),v(),C("ngIf",(r=a.formGroup.get(o.id))==null?null:r.hasError("invalidAccountNumber"))}}function Nj(i,t){if(i&1&&(p(0,"div")(1,"label",8),b(2),h(),q(3,"input",15),Y(4,Oj,4,3,"div",10),h()),i&2){let e,n=t.$implicit,r=M(2);v(),C("for",n.id),v(),Ae(n.label),v(),C("id",n.id)("type",n.type)("formControlName",n.id)("placeholder",n.placeholder),v(),C("ngIf",((e=r.formGroup.get(n.id))==null?null:e.invalid)&&(((e=r.formGroup.get(n.id))==null?null:e.dirty)||((e=r.formGroup.get(n.id))==null?null:e.touched)))}}function Lj(i,t){if(i&1&&(p(0,"div")(1,"h2",2),b(2,"Bank Details"),h(),p(3,"div",3),Y(4,Nj,5,7,"div",4),h(),q(5,"hr",14),h()),i&2){let e=M();v(4),C("ngForOf",e.bankDetails)}}function Rj(i,t){if(i&1){let e=Ge();Xt(0),p(1,"button",16),_e("click",function(){Pe(e);let r=M();return Oe(r.toggleBoarding())}),b(2),h(),Zt()}if(i&2){let e=M();v(),C("ngClass",bn(2,W8,!(e.buttonText==="Submit"&&(e.formGroup.invalid||e.formGroup.pristine)),e.formGroup.invalid||e.formGroup.pristine)),v(),we(" ",e.buttonText==="Submit"?"Submit":"Start On-Boarding"," ")}}function Fj(i,t){if(i&1){let e=Ge();p(0,"button",19),_e("click",function(){Pe(e);let r=M(2);return Oe(r.onUpdate())}),b(1," Update "),h()}if(i&2){let e=M(2);C("hidden",!e.formGroup.dirty)}}function jj(i,t){if(i&1){let e=Ge();p(0,"button",19),_e("click",function(){Pe(e);let r=M(2);return Oe(r.onUpdate())}),b(1," Update "),h()}if(i&2){let e=M(2);C("hidden",!e.formGroup.dirty)}}function Bj(i,t){if(i&1){let e=Ge();Xt(0),Y(1,Fj,2,1,"button",17)(2,jj,2,1,"button",17),p(3,"button",18),_e("click",function(){Pe(e);let r=M();return Oe(r.onCancel())}),b(4," Cancel "),h(),Zt()}if(i&2){let e=M();v(),C("ngIf",e.action==="edit"),v(),C("ngIf",e.dataToShow==="Carrier Company Details")}}function Vj(i,t){if(i&1){let e=Ge();p(0,"button",19),_e("click",function(){Pe(e);let r=M(2);return Oe(r.onUpdate())}),b(1," Update "),h()}if(i&2){let e=M(2);C("hidden",!e.formGroup.dirty)}}function Uj(i,t){if(i&1){let e=Ge();p(0,"button",21),_e("click",function(){Pe(e);let r=M(2);return Oe(r.onDelete())}),b(1," Delete "),h()}}function zj(i,t){if(i&1){let e=Ge();Xt(0),Y(1,Vj,2,1,"button",17)(2,Uj,2,0,"button",20),p(3,"button",18),_e("click",function(){Pe(e);let r=M();return Oe(r.onCancel())}),b(4," Cancel "),h(),Zt()}if(i&2){let e=M();v(),C("ngIf",e.action==="edit"||e.dataToShow==="Company Details"),v(),C("ngIf",e.role!=="shipperAdmin")}}function qj(i,t){if(i&1){let e=Ge();Xt(0),p(1,"button",22),_e("click",function(){Pe(e);let r=M();return Oe(r.onApprove())}),b(2," Approve Request "),h(),p(3,"button",21),_e("click",function(){Pe(e);let r=M();return Oe(r.onReject())}),b(4," Reject Request "),h(),p(5,"button",18),_e("click",function(){Pe(e);let r=M();return Oe(r.onCancel())}),b(6," Cancel "),h(),Zt()}}function Hj(i,t){if(i&1){let e=Ge();Xt(0),p(1,"button",23),_e("click",function(){Pe(e);let r=M();return Oe(r.onUpdate())}),b(2," Waiting for Approval "),h(),p(3,"button",18),_e("click",function(){Pe(e);let r=M();return Oe(r.onCancel())}),b(4," Cancel "),h(),Zt()}}var Ko=class i{constructor(t,e,n,r){this.fb=t;this.dataService=e;this.router=n;this.toastr=r}driverData=ue(fr);carrierService=ue(pr);userData=ue(hr);localstorage=ue(on);buttonText="Start On-Boarding";isBoardingActive=!1;userId;localStorageServices=ue(on);user;role="";personalInformation=[];companyInformation=[];additionalInformation=[];bankDetails=[];formTitle="";address=[];formGroup;isOn_BoardingSuccess=new ct;isDriver=!0;userStatus;vehicleStatus;action;dataToShow;vehicleDetails=[];vehicleSpecifications=[];registrationAndLicensing=[];insuranceDetails=[];statusAndMetadata=[];get vehicleId(){return this.formGroup.get("_id")?.value}get companyRefId(){return this.formGroup.get("companyRefId")?.value}ngOnInit(){console.log("the data to show is ",this.dataToShow),this.dataToShow==="Trucks"&&(this.addControls(this.vehicleDetails),this.addControls(this.vehicleSpecifications),this.addControls(this.registrationAndLicensing),this.addControls(this.insuranceDetails),this.addControls(this.statusAndMetadata));let t=this.router.url;t.includes("/carrier/admin/dashboard")?this.user=this.localStorageServices.getCarrierAdminData():t.includes("/carrier/driver/dashboard")?this.user=this.localStorageServices.getDriverData():t.includes("/shipper/admin/dashboard")?this.user=this.localStorageServices.getShipperAdminData():t.includes("/admin/dashboard")&&(this.user=this.localStorageServices.getAppAdminData()),this.userId=this.user._id,this.formGroup&&this.addControls(this.personalInformation),this.checkIfDriver(),console.log(this.userId),console.log(this.userStatus),console.log(this.role)}addControls(t){t.forEach(e=>{let n=this.fb.control({value:"",disabled:e.disabled||!1},j.required);this.formGroup.contains(e.id)||this.formGroup.addControl(e.id,n)})}futureDateValidator(t){let e=new Date;return new Date(t.value)<=e?{futureDate:!0}:null}toggleBoarding(){this.buttonText==="Start On-Boarding"?(this.addControls(this.additionalInformation),this.addControls(this.bankDetails),this.addControls(this.address),this.buttonText="Submit",this.isBoardingActive=!0):this.onSubmit()}onSubmit(){this.formGroup.valid?(console.log("Form data:",this.formGroup.value),this.driverData.driverOnboardingInfo(this.formGroup.value,this.userId).subscribe(t=>{t.success?this.isOn_BoardingSuccess.emit("success"):this.isOn_BoardingSuccess.emit("error")})):console.log("Form is invalid")}checkIfDriver(){this.isDriver||this.toggleBoarding()}ngOnChanges(t){t.userStatus&&(console.log("user status changed"),this.updateFormStatus())}updateFormStatus(){this.userStatus==="Pending"&&this.role==="carrierAdmin"?Object.keys(this.formGroup.controls).forEach(t=>{let e=this.formGroup.get(t);e&&e.disable(),e?.value||e?.setValue("Value not available")}):Object.keys(this.formGroup.controls).forEach(t=>{let e=this.formGroup.get(t);e&&e.enable()})}onUpdate(){let t=this.formGroup.value;if(console.log(t),!t._id&&this.dataToShow!=="Company Details"){this.toastr.error("Update operation cannot proceed without an ID.","Error"),console.error("ID is missing in form value. Update operation cannot proceed.");return}let e=(r,o)=>{r.success?(console.log(`${o} updated successfully`,r),console.log(o),this.dataService.sendData(o),this.toastr.success(`${o} updated successfully`,"Success")):(console.error(`${o} update failed:`,r.text),this.toastr.error(r.text||"An error occurred while updating.","Error"))},n=r=>{console.error("An error occurred during the update operation:",r),this.toastr.error("An unexpected error occurred. Please try again later.","Error")};this.formTitle==="Driver Details"?(this.formGroup.patchValue({status:"Active"}),console.log("Updating Driver:",t._id),this.driverData.updateDriverInfo(t,t._id).subscribe({next:r=>e(r,"Drivers"),error:n})):this.formTitle==="Truck Details"?(console.log("Updating Truck:",t._id),this.driverData.updateTruckInfo(t,t._id).subscribe({next:r=>e(r,"Trucks"),error:n})):this.formTitle==="My Details"?(console.log("Updating Driver details:",t._id),this.driverData.updateDriverInfo(t,t._id).subscribe({next:r=>e(r,"Driver"),error:n})):this.dataToShow==="Company Details"?(console.log("Updating company:",this.userId),this.driverData.updateTruckInfo(t,t._id).subscribe({next:r=>e(r,"Trucks"),error:n})):this.dataToShow==="Carrier Company Details"?(console.log("Updating company:",t),this.carrierService.updateCompanyInfo(this.userId,t).subscribe({next:r=>e(r,"Dashboard"),error:n})):(console.log("Updating Default Entity (Driver):",t._id),this.driverData.updateDriverInfo(t,t._id).subscribe({next:r=>e(r,"Driver"),error:n}))}onDelete(){console.log("Delete action")}onCancel(){this.formTitle==="Truck Details"&&this.dataService.sendData("Trucks"),this.formTitle==="Driver Details"&&this.dataService.sendData("Drivers"),this.dataToShow==="Company Details"&&this.dataService.sendData("Dashboard"),this.formTitle==="My Details"&&this.dataService.sendData("My Details")}onApprove(){let t=this.router.url.includes("/carrier/admin");if(this.formGroup.get("LicensePlateNumber")?.value){this.formGroup.patchValue({Status:"Active"}),this.formGroup.patchValue({isActive:!0}),this.formGroup.patchValue({companyRefId:this.companyRefId});let e=this.formGroup.value;console.log("the form data is",e),console.log(this.companyRefId),(t?this.driverData:this.userData).updateTruckInfo(e,this.vehicleId).subscribe(r=>{console.log("Vehicle updated successfully")})}else{this.formGroup.patchValue({status:"Active"}),this.formGroup.patchValue({isActive:!0}),this.formGroup.patchValue({companyRefId:this.companyRefId});let e=this.formGroup.value;console.log("the form data is",e),console.log(this.formGroup.value.id),(t?this.driverData:this.userData).updateDriverInfo(e,this.formGroup.value.id).subscribe(r=>{console.log("Driver updated successfully")})}}onReject(){}static \u0275fac=function(e){return new(e||i)(le(qt),le(xi),le(fi),le(En))};static \u0275cmp=Ye({type:i,selectors:[["app-form"]],inputs:{role:"role",personalInformation:"personalInformation",companyInformation:"companyInformation",additionalInformation:"additionalInformation",bankDetails:"bankDetails",formTitle:"formTitle",address:"address",formGroup:"formGroup",isDriver:"isDriver",userStatus:"userStatus",vehicleStatus:"vehicleStatus",action:"action",dataToShow:"dataToShow",vehicleDetails:"vehicleDetails",vehicleSpecifications:"vehicleSpecifications",registrationAndLicensing:"registrationAndLicensing",insuranceDetails:"insuranceDetails",statusAndMetadata:"statusAndMetadata"},outputs:{isOn_BoardingSuccess:"isOn_BoardingSuccess"},standalone:!0,features:[ki,Xe],decls:23,vars:19,consts:[[1,"max-w-6xl","mx-auto","bg-white","shadow-md","rounded-lg","p-6"],[1,"w-full",3,"formGroup"],[1,"text-xl","font-semibold","mb-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[4,"ngFor","ngForOf"],["class","my-6",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","gap-4","mt-8"],[1,"block","font-medium","mb-2",3,"for"],[1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-blue-500","focus:border-blue-500",3,"id","type","formControlName","placeholder","disabled"],["class","mt-1",4,"ngIf"],["class","text-red-600",4,"ngIf"],[1,"mt-1"],[1,"text-red-600"],[1,"my-6"],[1,"w-full","border-gray-300","rounded-md","shadow-sm","focus:ring-blue-500","focus:border-blue-500",3,"id","type","formControlName","placeholder"],["type","button",1,"w-1/2","py-3","px-4","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-offset-2",3,"click","ngClass"],["type","button","class","w-1/3 bg-yellow-600 text-white py-3 rounded-md shadow-sm hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2",3,"hidden","click",4,"ngIf"],["type","button",1,"w-1/3","bg-gray-600","text-white","py-3","rounded-md","shadow-sm","hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-gray-500","focus:ring-offset-2",3,"click"],["type","button",1,"w-1/3","bg-yellow-600","text-white","py-3","rounded-md","shadow-sm","hover:bg-yellow-700","focus:outline-none","focus:ring-2","focus:ring-yellow-500","focus:ring-offset-2",3,"click","hidden"],["type","button","class","w-1/3 bg-red-600 text-white py-3 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",3,"click",4,"ngIf"],["type","button",1,"w-1/3","bg-red-600","text-white","py-3","rounded-md","shadow-sm","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2",3,"click"],["type","button",1,"w-1/3","bg-yellow-600","text-white","py-3","rounded-md","shadow-sm","hover:bg-yellow-700","focus:outline-none","focus:ring-2","focus:ring-yellow-500","focus:ring-offset-2",3,"click"],["type","button","disabled","",1,"w-1/2","bg-gray-600","text-white","py-3","rounded-md","shadow-sm","hover:bg-yellow-700","focus:outline-none","focus:ring-2","focus:ring-yellow-500","focus:ring-offset-2",3,"click"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"form",1)(2,"h2",2),b(3),h(),p(4,"div",3),Y(5,e7,7,10,"div",4),h(),Y(6,t7,1,0,"hr",5)(7,g7,6,1,"div",6)(8,I7,6,1,"div",6)(9,R7,6,1,"div",6)(10,$7,6,1,"div",6)(11,ij,6,1,"div",6)(12,hj,6,1,"div",6)(13,gj,6,1,"div",6)(14,wj,6,1,"div",6)(15,kj,6,1,"div",6)(16,Lj,6,1,"div",6),p(17,"div",7),Y(18,Rj,3,5,"ng-container",6)(19,Bj,5,2,"ng-container",6)(20,zj,5,2,"ng-container",6)(21,qj,7,0,"ng-container",6)(22,Hj,5,0,"ng-container",6),h()()()),e&2&&(v(),C("formGroup",n.formGroup),v(2),Ae(n.formTitle),v(2),C("ngForOf",n.personalInformation),v(),C("ngIf",n.isBoardingActive),v(),C("ngIf",n.isBoardingActive&&n.role!=="shipperAdmin"&&n.dataToShow!=="Trucks"),v(),C("ngIf",n.dataToShow==="Trucks"),v(),C("ngIf",n.dataToShow==="Trucks"),v(),C("ngIf",n.dataToShow==="Trucks"),v(),C("ngIf",n.dataToShow==="Trucks"),v(),C("ngIf",n.dataToShow==="Trucks"),v(),C("ngIf",n.isBoardingActive&&n.role==="shipperAdmin"),v(),C("ngIf",n.isBoardingActive&&n.dataToShow!=="Trucks"),v(),C("ngIf",n.dataToShow==="Carrier Company Details"&&n.role==="carrierAdmin"&&n.userStatus!=="Pending"),v(),C("ngIf",n.isBoardingActive&&n.dataToShow!=="Trucks"&&n.dataToShow!=="Company Details"&&n.role!=="carrierAdmin"&&n.userStatus!=="Pending"),v(2),C("ngIf",n.isDriver),v(),C("ngIf",(n.role==="appAdmin"||n.role==="carrierAdmin"||n.role==="driver")&&(n.userStatus==="Active"||n.vehicleStatus==="Active")),v(),C("ngIf",n.role==="carrierAdmin"&&n.vehicleStatus==="Pending"||n.role==="shipperAdmin"),v(),C("ngIf",n.role==="appAdmin"&&(n.userStatus==="Pending"||n.vehicleStatus==="Pending")),v(),C("ngIf",n.role==="carrierAdmin"&&n.userStatus==="Pending"))},dependencies:[di,Ui,li,_i,yi,ci,Ri,st,Li,Ti,Ct,fn],styles:[".error-message[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]{background-color:#00f;color:#fff;padding:10px;border:none;cursor:pointer;margin-top:10px}.submit-btn[_ngcontent-%COMP%]:hover:enabled{background-color:#00008b}"]})};var Rs=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=jt({type:i})}static{this.\u0275inj=Ft({imports:[dr,aw,dr]})}}return i})();function Jh(i){return i+.5|0}var Fs=(i,t,e)=>Math.max(Math.min(i,e),t);function Zh(i){return Fs(Jh(i*2.55),0,255)}function js(i){return Fs(Jh(i*255),0,255)}function La(i){return Fs(Jh(i/2.55)/100,0,1)}function US(i){return Fs(Jh(i*100),0,100)}var Jr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},x1=[..."0123456789ABCDEF"],Gj=i=>x1[i&15],$j=i=>x1[(i&240)>>4]+x1[i&15],_0=i=>(i&240)>>4===(i&15),Wj=i=>_0(i.r)&&_0(i.g)&&_0(i.b)&&_0(i.a);function Yj(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Jr[i[1]]*17,g:255&Jr[i[2]]*17,b:255&Jr[i[3]]*17,a:t===5?Jr[i[4]]*17:255}:(t===7||t===9)&&(e={r:Jr[i[1]]<<4|Jr[i[2]],g:Jr[i[3]]<<4|Jr[i[4]],b:Jr[i[5]]<<4|Jr[i[6]],a:t===9?Jr[i[7]]<<4|Jr[i[8]]:255})),e}var Xj=(i,t)=>i<255?t(i):"";function Zj(i){var t=Wj(i)?Gj:$j;return i?"#"+t(i.r)+t(i.g)+t(i.b)+Xj(i.a,t):void 0}var Kj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GS(i,t,e){let n=t*Math.min(e,1-e),r=(o,a=(o+i/30)%12)=>e-n*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function Jj(i,t,e){let n=(r,o=(r+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function Qj(i,t,e){let n=GS(i,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)n[r]*=1-t-e,n[r]+=t;return n}function eB(i,t,e,n,r){return i===r?(t-e)/n+(t<e?6:0):t===r?(e-i)/n+2:(i-t)/n+4}function C1(i){let e=i.r/255,n=i.g/255,r=i.b/255,o=Math.max(e,n,r),a=Math.min(e,n,r),s=(o+a)/2,l,c,u;return o!==a&&(u=o-a,c=s>.5?u/(2-o-a):u/(o+a),l=eB(e,n,r,u,o),l=l*60+.5),[l|0,c||0,s]}function w1(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(js)}function S1(i,t,e){return w1(GS,i,t,e)}function tB(i,t,e){return w1(Qj,i,t,e)}function iB(i,t,e){return w1(Jj,i,t,e)}function $S(i){return(i%360+360)%360}function nB(i){let t=Kj.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Zh(+t[5]):js(+t[5]));let r=$S(+t[2]),o=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?n=tB(r,o,a):t[1]==="hsv"?n=iB(r,o,a):n=S1(r,o,a),{r:n[0],g:n[1],b:n[2],a:e}}function rB(i,t){var e=C1(i);e[0]=$S(e[0]+t),e=S1(e),i.r=e[0],i.g=e[1],i.b=e[2]}function oB(i){if(!i)return;let t=C1(i),e=t[0],n=US(t[1]),r=US(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${r}%, ${La(i.a)})`:`hsl(${e}, ${n}%, ${r}%)`}var zS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function aB(){let i={},t=Object.keys(qS),e=Object.keys(zS),n,r,o,a,s;for(n=0;n<t.length;n++){for(a=s=t[n],r=0;r<e.length;r++)o=e[r],s=s.replace(o,zS[o]);o=parseInt(qS[a],16),i[s]=[o>>16&255,o>>8&255,o&255]}return i}var y0;function sB(i){y0||(y0=aB(),y0.transparent=[0,0,0,0]);let t=y0[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var lB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cB(i){let t=lB.exec(i),e=255,n,r,o;if(t){if(t[7]!==n){let a=+t[7];e=t[8]?Zh(a):Fs(a*255,0,255)}return n=+t[1],r=+t[3],o=+t[5],n=255&(t[2]?Zh(n):Fs(n,0,255)),r=255&(t[4]?Zh(r):Fs(r,0,255)),o=255&(t[6]?Zh(o):Fs(o,0,255)),{r:n,g:r,b:o,a:e}}}function dB(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${La(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var y1=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,_d=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function uB(i,t,e){let n=_d(La(i.r)),r=_d(La(i.g)),o=_d(La(i.b));return{r:js(y1(n+e*(_d(La(t.r))-n))),g:js(y1(r+e*(_d(La(t.g))-r))),b:js(y1(o+e*(_d(La(t.b))-o))),a:i.a+e*(t.a-i.a)}}function x0(i,t,e){if(i){let n=C1(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=S1(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function WS(i,t){return i&&Object.assign(t||{},i)}function HS(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=js(i[3]))):(t=WS(i,{r:0,g:0,b:0,a:1}),t.a=js(t.a)),t}function hB(i){return i.charAt(0)==="r"?cB(i):nB(i)}var Kh=class i{constructor(t){if(t instanceof i)return t;let e=typeof t,n;e==="object"?n=HS(t):e==="string"&&(n=Yj(t)||sB(t)||hB(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=WS(this._rgb);return t&&(t.a=La(t.a)),t}set rgb(t){this._rgb=HS(t)}rgbString(){return this._valid?dB(this._rgb):void 0}hexString(){return this._valid?Zj(this._rgb):void 0}hslString(){return this._valid?oB(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,r=t.rgb,o,a=e===o?.5:e,s=2*a-1,l=n.a-r.a,c=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;o=1-c,n.r=255&c*n.r+o*r.r+.5,n.g=255&c*n.g+o*r.g+.5,n.b=255&c*n.b+o*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=uB(this._rgb,t._rgb,e)),this}clone(){return new i(this.rgb)}alpha(t){return this._rgb.a=js(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Jh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return x0(this._rgb,2,t),this}darken(t){return x0(this._rgb,2,-t),this}saturate(t){return x0(this._rgb,1,t),this}desaturate(t){return x0(this._rgb,1,-t),this}rotate(t){return rB(this._rgb,t),this}};function ea(){}var rD=(()=>{let i=0;return()=>i++})();function $t(i){return i==null}function Pi(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ut(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function $i(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function vr(i,t){return $i(i)?i:t}function Mt(i,t){return typeof i>"u"?t:i}var oD=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,E1=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Di(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function ui(i,t,e,n){let r,o,a;if(Pi(i))if(o=i.length,n)for(r=o-1;r>=0;r--)t.call(e,i[r],r);else for(r=0;r<o;r++)t.call(e,i[r],r);else if(Ut(i))for(a=Object.keys(i),o=a.length,r=0;r<o;r++)t.call(e,i[a[r]],a[r])}function tp(i,t){let e,n,r,o;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(r=i[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function D0(i){if(Pi(i))return i.map(D0);if(Ut(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,r=0;for(;r<n;++r)t[e[r]]=D0(i[e[r]]);return t}return i}function aD(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function pB(i,t,e,n){if(!aD(i))return;let r=t[i],o=e[i];Ut(r)&&Ut(o)?xd(r,o,n):t[i]=D0(o)}function xd(i,t,e){let n=Pi(t)?t:[t],r=n.length;if(!Ut(i))return i;e=e||{};let o=e.merger||pB,a;for(let s=0;s<r;++s){if(a=n[s],!Ut(a))continue;let l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)o(l[c],i,a,e)}return i}function wd(i,t){return xd(i,t,{merger:fB})}function fB(i,t,e){if(!aD(i))return;let n=t[i],r=e[i];Ut(n)&&Ut(r)?wd(n,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=D0(r))}var YS={"":i=>i,x:i=>i.x,y:i=>i.y};function mB(i){let t=i.split("."),e=[],n="";for(let r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function gB(i){let t=mB(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function ja(i,t){return(YS[t]||(YS[t]=gB(t)))(i)}function k0(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Sd=i=>typeof i<"u",Ra=i=>typeof i=="function",k1=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function sD(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var Oi=Math.PI,Ni=2*Oi,vB=Ni+Oi,I0=Number.POSITIVE_INFINITY,bB=Oi/180,Ji=Oi/2,zl=Oi/4,XS=Oi*2/3,Fa=Math.log10,Do=Math.sign;function Dd(i,t,e){return Math.abs(i-t)<e}function T1(i){let t=Math.round(i);i=Dd(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(Fa(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function lD(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function Gl(i){return!isNaN(parseFloat(i))&&isFinite(i)}function cD(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function M1(i,t,e){let n,r,o;for(n=0,r=i.length;n<r;n++)o=i[n][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Qr(i){return i*(Oi/180)}function T0(i){return i*(180/Oi)}function P1(i){if(!$i(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function O1(i,t){let e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n),o=Math.atan2(n,e);return o<-.5*Oi&&(o+=Ni),{angle:o,distance:r}}function A0(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function _B(i,t){return(i-t+vB)%Ni-Oi}function gr(i){return(i%Ni+Ni)%Ni}function Id(i,t,e,n){let r=gr(i),o=gr(t),a=gr(e),s=gr(o-r),l=gr(a-r),c=gr(r-o),u=gr(r-a);return r===o||r===a||n&&o===a||s>l&&c<u}function _n(i,t,e){return Math.max(t,Math.min(e,i))}function dD(i){return _n(i,-32768,32767)}function ta(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function M0(i,t,e){e=e||(a=>i[a]<t);let n=i.length-1,r=0,o;for(;n-r>1;)o=r+n>>1,e(o)?r=o:n=o;return{lo:r,hi:n}}var Jo=(i,t,e,n)=>M0(i,e,n?r=>{let o=i[r][t];return o<e||o===e&&i[r+1][t]===e}:r=>i[r][t]<e),uD=(i,t,e)=>M0(i,e,n=>i[n][t]>=e);function hD(i,t,e){let n=0,r=i.length;for(;n<r&&i[n]<t;)n++;for(;r>n&&i[r-1]>e;)r--;return n>0||r<i.length?i.slice(n,r):i}var pD=["push","pop","shift","splice","unshift"];function fD(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),pD.forEach(e=>{let n="_onData"+k0(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){let a=r.apply(this,o);return i._chartjs.listeners.forEach(s=>{typeof s[n]=="function"&&s[n](...o)}),a}})})}function N1(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(pD.forEach(o=>{delete i[o]}),delete i._chartjs)}function L1(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var R1=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function F1(i,t){let e=[],n=!1;return function(...r){e=r,n||(n=!0,R1.call(window,()=>{n=!1,i.apply(t,e)}))}}function mD(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var P0=i=>i==="start"?"left":i==="end"?"right":"center",Nn=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,gD=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function j1(i,t,e){let n=t.length,r=0,o=n;if(i._sorted){let{iScale:a,_parsed:s}=i,l=a.axis,{min:c,max:u,minDefined:f,maxDefined:y}=a.getUserBounds();f&&(r=_n(Math.min(Jo(s,l,c).lo,e?n:Jo(t,l,a.getPixelForValue(c)).lo),0,n-1)),y?o=_n(Math.max(Jo(s,a.axis,u,!0).hi+1,e?0:Jo(t,l,a.getPixelForValue(u),!0).hi+1),r,n)-r:o=n-r}return{start:r,count:o}}function B1(i){let{xScale:t,yScale:e,_scaleRanges:n}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=r,!0;let o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),o}var C0=i=>i===0||i===1,ZS=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*Ni/e)),KS=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*Ni/e)+1,yd={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Ji)+1,easeOutSine:i=>Math.sin(i*Ji),easeInOutSine:i=>-.5*(Math.cos(Oi*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>C0(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>C0(i)?i:ZS(i,.075,.3),easeOutElastic:i=>C0(i)?i:KS(i,.075,.3),easeInOutElastic(i){return C0(i)?i:i<.5?.5*ZS(i*2,.1125,.45):.5+.5*KS(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-yd.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?yd.easeInBounce(i*2)*.5:yd.easeOutBounce(i*2-1)*.5+.5};function V1(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function U1(i){return V1(i)?i:new Kh(i)}function D1(i){return V1(i)?i:new Kh(i).saturate(.5).darken(.1).hexString()}var yB=["x","y","borderWidth","radius","tension"],xB=["color","borderColor","backgroundColor"];function CB(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:xB},numbers:{type:"number",properties:yB}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function wB(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var JS=new Map;function SB(i,t){t=t||{};let e=i+JSON.stringify(t),n=JS.get(e);return n||(n=new Intl.NumberFormat(i,t),JS.set(e,n)),n}function Ad(i,t,e){return SB(t,e).format(i)}var vD={values(i){return Pi(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,r,o=i;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),o=DB(i,e)}let a=Fa(Math.abs(o)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Ad(i,n,l)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(Fa(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?vD.numeric.call(this,i,t,e):""}};function DB(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var ip={formatters:vD};function IB(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ip.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Vs=Object.create(null),O0=Object.create(null);function Qh(i,t){if(!t)return i;let e=t.split(".");for(let n=0,r=e.length;n<r;++n){let o=e[n];i=i[o]||(i[o]=Object.create(null))}return i}function I1(i,t,e){return typeof t=="string"?xd(Qh(i,t),e):xd(Qh(i,""),t)}var A1=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>D1(r.backgroundColor),this.hoverBorderColor=(n,r)=>D1(r.borderColor),this.hoverColor=(n,r)=>D1(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return I1(this,t,e)}get(t){return Qh(this,t)}describe(t,e){return I1(O0,t,e)}override(t,e){return I1(Vs,t,e)}route(t,e,n,r){let o=Qh(this,t),a=Qh(this,n),s="_"+e;Object.defineProperties(o,{[s]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[s],c=a[r];return Ut(l)?Object.assign({},c,l):Mt(l,c)},set(l){this[s]=l}}})}apply(t){t.forEach(e=>e(this))}},Ii=new A1({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[CB,wB,IB]);function AB(i){return!i||$t(i.size)||$t(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function ep(i,t,e,n,r){let o=t[r];return o||(o=t[r]=i.measureText(r).width,e.push(r)),o>n&&(n=o),n}function bD(i,t,e,n){n=n||{};let r=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},o=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let a=0,s=e.length,l,c,u,f,y;for(l=0;l<s;l++)if(f=e[l],f!=null&&!Pi(f))a=ep(i,r,o,a,f);else if(Pi(f))for(c=0,u=f.length;c<u;c++)y=f[c],y!=null&&!Pi(y)&&(a=ep(i,r,o,a,y));i.restore();let g=o.length/2;if(g>e.length){for(l=0;l<g;l++)delete r[o[l]];o.splice(0,g)}return a}function Us(i,t,e){let n=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*n)/n+r}function z1(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function N0(i,t,e,n){q1(i,t,e,n,null)}function q1(i,t,e,n,r){let o,a,s,l,c,u,f,y,g=t.pointStyle,S=t.rotation,w=t.radius,I=(S||0)*bB;if(g&&typeof g=="object"&&(o=g.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(I),i.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),i.restore();return}if(!(isNaN(w)||w<=0)){switch(i.beginPath(),g){default:r?i.ellipse(e,n,r/2,w,0,0,Ni):i.arc(e,n,w,0,Ni),i.closePath();break;case"triangle":u=r?r/2:w,i.moveTo(e+Math.sin(I)*u,n-Math.cos(I)*w),I+=XS,i.lineTo(e+Math.sin(I)*u,n-Math.cos(I)*w),I+=XS,i.lineTo(e+Math.sin(I)*u,n-Math.cos(I)*w),i.closePath();break;case"rectRounded":c=w*.516,l=w-c,a=Math.cos(I+zl)*l,f=Math.cos(I+zl)*(r?r/2-c:l),s=Math.sin(I+zl)*l,y=Math.sin(I+zl)*(r?r/2-c:l),i.arc(e-f,n-s,c,I-Oi,I-Ji),i.arc(e+y,n-a,c,I-Ji,I),i.arc(e+f,n+s,c,I,I+Ji),i.arc(e-y,n+a,c,I+Ji,I+Oi),i.closePath();break;case"rect":if(!S){l=Math.SQRT1_2*w,u=r?r/2:l,i.rect(e-u,n-l,2*u,2*l);break}I+=zl;case"rectRot":f=Math.cos(I)*(r?r/2:w),a=Math.cos(I)*w,s=Math.sin(I)*w,y=Math.sin(I)*(r?r/2:w),i.moveTo(e-f,n-s),i.lineTo(e+y,n-a),i.lineTo(e+f,n+s),i.lineTo(e-y,n+a),i.closePath();break;case"crossRot":I+=zl;case"cross":f=Math.cos(I)*(r?r/2:w),a=Math.cos(I)*w,s=Math.sin(I)*w,y=Math.sin(I)*(r?r/2:w),i.moveTo(e-f,n-s),i.lineTo(e+f,n+s),i.moveTo(e+y,n-a),i.lineTo(e-y,n+a);break;case"star":f=Math.cos(I)*(r?r/2:w),a=Math.cos(I)*w,s=Math.sin(I)*w,y=Math.sin(I)*(r?r/2:w),i.moveTo(e-f,n-s),i.lineTo(e+f,n+s),i.moveTo(e+y,n-a),i.lineTo(e-y,n+a),I+=zl,f=Math.cos(I)*(r?r/2:w),a=Math.cos(I)*w,s=Math.sin(I)*w,y=Math.sin(I)*(r?r/2:w),i.moveTo(e-f,n-s),i.lineTo(e+f,n+s),i.moveTo(e+y,n-a),i.lineTo(e-y,n+a);break;case"line":a=r?r/2:Math.cos(I)*w,s=Math.sin(I)*w,i.moveTo(e-a,n-s),i.lineTo(e+a,n+s);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(I)*(r?r/2:w),n+Math.sin(I)*w);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Qo(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function np(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function rp(i){i.restore()}function _D(i,t,e,n,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){let o=(t.x+e.x)/2;i.lineTo(o,t.y),i.lineTo(o,e.y)}else r==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function yD(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function EB(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),$t(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function kB(i,t,e,n,r){if(r.strikethrough||r.underline){let o=i.measureText(n),a=t-o.actualBoundingBoxLeft,s=t+o.actualBoundingBoxRight,l=e-o.actualBoundingBoxAscent,c=e+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(a,u),i.lineTo(s,u),i.stroke()}}function TB(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function zs(i,t,e,n,r,o={}){let a=Pi(t)?t:[t],s=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(i.save(),i.font=r.string,EB(i,o),l=0;l<a.length;++l)c=a[l],o.backdrop&&TB(i,o.backdrop),s&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),$t(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(c,e,n,o.maxWidth)),i.fillText(c,e,n,o.maxWidth),kB(i,e,n,c,o),n+=Number(r.lineHeight);i.restore()}function Ed(i,t){let{x:e,y:n,w:r,h:o,radius:a}=t;i.arc(e+a.topLeft,n+a.topLeft,a.topLeft,1.5*Oi,Oi,!0),i.lineTo(e,n+o-a.bottomLeft),i.arc(e+a.bottomLeft,n+o-a.bottomLeft,a.bottomLeft,Oi,Ji,!0),i.lineTo(e+r-a.bottomRight,n+o),i.arc(e+r-a.bottomRight,n+o-a.bottomRight,a.bottomRight,Ji,0,!0),i.lineTo(e+r,n+a.topRight),i.arc(e+r-a.topRight,n+a.topRight,a.topRight,0,-Ji,!0),i.lineTo(e+a.topLeft,n)}var MB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,PB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OB(i,t){let e=(""+i).match(MB);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var NB=i=>+i||0;function L0(i,t){let e={},n=Ut(t),r=n?Object.keys(t):t,o=Ut(i)?n?a=>Mt(i[a],i[t[a]]):a=>i[a]:()=>i;for(let a of r)e[a]=NB(o(a));return e}function H1(i){return L0(i,{top:"y",right:"x",bottom:"y",left:"x"})}function qs(i){return L0(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Ln(i){let t=H1(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mn(i,t){i=i||{},t=t||Ii.font;let e=Mt(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=Mt(i.style,t.style);n&&!(""+n).match(PB)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:Mt(i.family,t.family),lineHeight:OB(Mt(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:Mt(i.weight,t.weight),string:""};return r.string=AB(r),r}function kd(i,t,e,n){let r=!0,o,a,s;for(o=0,a=i.length;o<a;++o)if(s=i[o],s!==void 0&&(t!==void 0&&typeof s=="function"&&(s=s(t),r=!1),e!==void 0&&Pi(s)&&(s=s[e%s.length],r=!1),s!==void 0))return n&&!r&&(n.cacheable=!1),s}function xD(i,t,e){let{min:n,max:r}=i,o=E1(t,(r-n)/2),a=(s,l)=>e&&s===0?0:s+l;return{min:a(n,-Math.abs(o)),max:a(r,o)}}function Ba(i,t){return Object.assign(Object.create(i),t)}function R0(i,t=[""],e,n,r=()=>i[0]){let o=e||i;typeof n>"u"&&(n=SD("_fallback",i));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:n,_getTarget:r,override:s=>R0([s,...i],t,o,n)};return new Proxy(a,{deleteProperty(s,l){return delete s[l],delete s._keys,delete i[0][l],!0},get(s,l){return CD(s,l,()=>zB(l,t,i,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(s,l){return eD(s).includes(l)},ownKeys(s){return eD(s)},set(s,l,c){let u=s._storage||(s._storage=r());return s[l]=u[l]=c,delete s._keys,!0}})}function Hl(i,t,e,n){let r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:G1(i,n),setContext:o=>Hl(i,o,e,n),override:o=>Hl(i.override(o),t,e,n)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete i[a],!0},get(o,a,s){return CD(o,a,()=>RB(o,a,s))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(i,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,a)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,a){return Reflect.has(i,a)},ownKeys(){return Reflect.ownKeys(i)},set(o,a,s){return i[a]=s,delete o[a],!0}})}function G1(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:n,isScriptable:Ra(e)?e:()=>e,isIndexable:Ra(n)?n:()=>n}}var LB=(i,t)=>i?i+k0(t):t,$1=(i,t)=>Ut(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function CD(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let n=e();return i[t]=n,n}function RB(i,t,e){let{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=i,s=n[t];return Ra(s)&&a.isScriptable(t)&&(s=FB(t,s,i,e)),Pi(s)&&s.length&&(s=jB(t,s,i,a.isIndexable)),$1(t,s)&&(s=Hl(s,r,o&&o[t],a)),s}function FB(i,t,e,n){let{_proxy:r,_context:o,_subProxy:a,_stack:s}=e;if(s.has(i))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+i);s.add(i);let l=t(o,a||n);return s.delete(i),$1(i,l)&&(l=W1(r._scopes,r,i,l)),l}function jB(i,t,e,n){let{_proxy:r,_context:o,_subProxy:a,_descriptors:s}=e;if(typeof o.index<"u"&&n(i))return t[o.index%t.length];if(Ut(t[0])){let l=t,c=r._scopes.filter(u=>u!==l);t=[];for(let u of l){let f=W1(c,r,i,u);t.push(Hl(f,o,a&&a[i],s))}}return t}function wD(i,t,e){return Ra(i)?i(t,e):i}var BB=(i,t)=>i===!0?t:typeof i=="string"?ja(t,i):void 0;function VB(i,t,e,n,r){for(let o of t){let a=BB(e,o);if(a){i.add(a);let s=wD(a._fallback,e,r);if(typeof s<"u"&&s!==e&&s!==n)return s}else if(a===!1&&typeof n<"u"&&e!==n)return null}return!1}function W1(i,t,e,n){let r=t._rootScopes,o=wD(t._fallback,e,n),a=[...i,...r],s=new Set;s.add(n);let l=QS(s,a,e,o||e,n);return l===null||typeof o<"u"&&o!==e&&(l=QS(s,a,o,l,n),l===null)?!1:R0(Array.from(s),[""],r,o,()=>UB(t,e,n))}function QS(i,t,e,n,r){for(;e;)e=VB(i,t,e,n,r);return e}function UB(i,t,e){let n=i._getTarget();t in n||(n[t]={});let r=n[t];return Pi(r)&&Ut(e)?e:r||{}}function zB(i,t,e,n){let r;for(let o of t)if(r=SD(LB(o,i),e),typeof r<"u")return $1(i,r)?W1(e,n,i,r):r}function SD(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function eD(i){let t=i._keys;return t||(t=i._keys=qB(i._scopes)),t}function qB(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function Y1(i,t,e,n){let{iScale:r}=i,{key:o="r"}=this._parsing,a=new Array(n),s,l,c,u;for(s=0,l=n;s<l;++s)c=s+e,u=t[c],a[s]={r:r.parse(ja(u,o),c)};return a}var HB=Number.EPSILON||1e-14,Cd=(i,t)=>t<i.length&&!i[t].skip&&i[t],DD=i=>i==="x"?"y":"x";function GB(i,t,e,n){let r=i.skip?t:i,o=t,a=e.skip?t:e,s=A0(o,r),l=A0(a,o),c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let f=n*c,y=n*u;return{previous:{x:o.x-f*(a.x-r.x),y:o.y-f*(a.y-r.y)},next:{x:o.x+y*(a.x-r.x),y:o.y+y*(a.y-r.y)}}}function $B(i,t,e){let n=i.length,r,o,a,s,l,c=Cd(i,0);for(let u=0;u<n-1;++u)if(l=c,c=Cd(i,u+1),!(!l||!c)){if(Dd(t[u],0,HB)){e[u]=e[u+1]=0;continue}r=e[u]/t[u],o=e[u+1]/t[u],s=Math.pow(r,2)+Math.pow(o,2),!(s<=9)&&(a=3/Math.sqrt(s),e[u]=r*a*t[u],e[u+1]=o*a*t[u])}}function WB(i,t,e="x"){let n=DD(e),r=i.length,o,a,s,l=Cd(i,0);for(let c=0;c<r;++c){if(a=s,s=l,l=Cd(i,c+1),!s)continue;let u=s[e],f=s[n];a&&(o=(u-a[e])/3,s[`cp1${e}`]=u-o,s[`cp1${n}`]=f-o*t[c]),l&&(o=(l[e]-u)/3,s[`cp2${e}`]=u+o,s[`cp2${n}`]=f+o*t[c])}}function YB(i,t="x"){let e=DD(t),n=i.length,r=Array(n).fill(0),o=Array(n),a,s,l,c=Cd(i,0);for(a=0;a<n;++a)if(s=l,l=c,c=Cd(i,a+1),!!l){if(c){let u=c[t]-l[t];r[a]=u!==0?(c[e]-l[e])/u:0}o[a]=s?c?Do(r[a-1])!==Do(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}$B(i,r,o),WB(i,o,t)}function w0(i,t,e){return Math.max(Math.min(i,e),t)}function XB(i,t){let e,n,r,o,a,s=Qo(i[0],t);for(e=0,n=i.length;e<n;++e)a=o,o=s,s=e<n-1&&Qo(i[e+1],t),o&&(r=i[e],a&&(r.cp1x=w0(r.cp1x,t.left,t.right),r.cp1y=w0(r.cp1y,t.top,t.bottom)),s&&(r.cp2x=w0(r.cp2x,t.left,t.right),r.cp2y=w0(r.cp2y,t.top,t.bottom)))}function ID(i,t,e,n,r){let o,a,s,l;if(t.spanGaps&&(i=i.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")YB(i,r);else{let c=n?i[i.length-1]:i[0];for(o=0,a=i.length;o<a;++o)s=i[o],l=GB(c,s,i[Math.min(o+1,a-(n?0:1))%a],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,c=s}t.capBezierPoints&&XB(i,e)}function F0(){return typeof window<"u"&&typeof document<"u"}function j0(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function E0(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var B0=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function ZB(i,t){return B0(i).getPropertyValue(t)}var KB=["top","right","bottom","left"];function ql(i,t,e){let n={};e=e?"-"+e:"";for(let r=0;r<4;r++){let o=KB[r];n[o]=parseFloat(i[t+"-"+o+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var JB=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function QB(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:r,offsetY:o}=n,a=!1,s,l;if(JB(r,o,i.target))s=r,l=o;else{let c=t.getBoundingClientRect();s=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:s,y:l,box:a}}function Hs(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,r=B0(e),o=r.boxSizing==="border-box",a=ql(r,"padding"),s=ql(r,"border","width"),{x:l,y:c,box:u}=QB(i,e),f=a.left+(u&&s.left),y=a.top+(u&&s.top),{width:g,height:S}=t;return o&&(g-=a.width+s.width,S-=a.height+s.height),{x:Math.round((l-f)/g*e.width/n),y:Math.round((c-y)/S*e.height/n)}}function eV(i,t,e){let n,r;if(t===void 0||e===void 0){let o=i&&j0(i);if(!o)t=i.clientWidth,e=i.clientHeight;else{let a=o.getBoundingClientRect(),s=B0(o),l=ql(s,"border","width"),c=ql(s,"padding");t=a.width-c.width-l.width,e=a.height-c.height-l.height,n=E0(s.maxWidth,o,"clientWidth"),r=E0(s.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:n||I0,maxHeight:r||I0}}var S0=i=>Math.round(i*10)/10;function AD(i,t,e,n){let r=B0(i),o=ql(r,"margin"),a=E0(r.maxWidth,i,"clientWidth")||I0,s=E0(r.maxHeight,i,"clientHeight")||I0,l=eV(i,t,e),{width:c,height:u}=l;if(r.boxSizing==="content-box"){let y=ql(r,"border","width"),g=ql(r,"padding");c-=g.width+y.width,u-=g.height+y.height}return c=Math.max(0,c-o.width),u=Math.max(0,n?c/n:u-o.height),c=S0(Math.min(c,a,l.maxWidth)),u=S0(Math.min(u,s,l.maxHeight)),c&&!u&&(u=S0(c/2)),(t!==void 0||e!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=S0(Math.floor(u*n))),{width:c,height:u}}function X1(i,t,e){let n=t||1,r=Math.floor(i.height*n),o=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let a=i.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${i.height}px`,a.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||a.height!==r||a.width!==o?(i.currentDevicePixelRatio=n,a.height=r,a.width=o,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var ED=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};F0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function Z1(i,t){let e=ZB(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Bs(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function kD(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function TD(i,t,e,n){let r={x:i.cp2x,y:i.cp2y},o={x:t.cp1x,y:t.cp1y},a=Bs(i,r,e),s=Bs(r,o,e),l=Bs(o,t,e),c=Bs(a,s,e),u=Bs(s,l,e);return Bs(c,u,e)}var tV=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},iV=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function $l(i,t,e){return i?tV(t,e):iV()}function K1(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function J1(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function MD(i){return i==="angle"?{between:Id,compare:_B,normalize:gr}:{between:ta,compare:(t,e)=>t-e,normalize:t=>t}}function tD({start:i,end:t,count:e,loop:n,style:r}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:r}}function nV(i,t,e){let{property:n,start:r,end:o}=e,{between:a,normalize:s}=MD(n),l=t.length,{start:c,end:u,loop:f}=i,y,g;if(f){for(c+=l,u+=l,y=0,g=l;y<g&&a(s(t[c%l][n]),r,o);++y)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:i.style}}function Q1(i,t,e){if(!e)return[i];let{property:n,start:r,end:o}=e,a=t.length,{compare:s,between:l,normalize:c}=MD(n),{start:u,end:f,loop:y,style:g}=nV(i,t,e),S=[],w=!1,I=null,A,T,V,Z=()=>l(r,V,A)&&s(r,V)!==0,$=()=>s(o,A)===0||l(o,V,A),ne=()=>w||Z(),J=()=>!w||$();for(let U=u,ie=u;U<=f;++U)T=t[U%a],!T.skip&&(A=c(T[n]),A!==V&&(w=l(A,r,o),I===null&&ne()&&(I=s(A,r)===0?U:ie),I!==null&&J()&&(S.push(tD({start:I,end:U,loop:y,count:a,style:g})),I=null),ie=U,V=A));return I!==null&&S.push(tD({start:I,end:f,loop:y,count:a,style:g})),S}function ey(i,t){let e=[],n=i.segments;for(let r=0;r<n.length;r++){let o=Q1(n[r],i.points,t);o.length&&e.push(...o)}return e}function rV(i,t,e,n){let r=0,o=t-1;if(e&&!n)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&i[o%t].skip;)o--;return o%=t,{start:r,end:o}}function oV(i,t,e,n){let r=i.length,o=[],a=t,s=i[t],l;for(l=t+1;l<=e;++l){let c=i[l%r];c.skip||c.stop?s.skip||(n=!1,o.push({start:t%r,end:(l-1)%r,loop:n}),t=a=c.stop?l:null):(a=l,s.skip&&(t=l)),s=c}return a!==null&&o.push({start:t%r,end:a%r,loop:n}),o}function PD(i,t){let e=i.points,n=i.options.spanGaps,r=e.length;if(!r)return[];let o=!!i._loop,{start:a,end:s}=rV(e,r,o,n);if(n===!0)return iD(i,[{start:a,end:s,loop:o}],e,t);let l=s<a?s+r:s,c=!!i._fullLoop&&a===0&&s===r-1;return iD(i,oV(e,a,l,c),e,t)}function iD(i,t,e,n){return!n||!n.setContext||!e?t:aV(i,t,e,n)}function aV(i,t,e,n){let r=i._chart.getContext(),o=nD(i.options),{_datasetIndex:a,options:{spanGaps:s}}=i,l=e.length,c=[],u=o,f=t[0].start,y=f;function g(S,w,I,A){let T=s?-1:1;if(S!==w){for(S+=l;e[S%l].skip;)S-=T;for(;e[w%l].skip;)w+=T;S%l!==w%l&&(c.push({start:S%l,end:w%l,loop:I,style:A}),u=A,f=w%l)}}for(let S of t){f=s?f:S.start;let w=e[f%l],I;for(y=f+1;y<=S.end;y++){let A=e[y%l];I=nD(n.setContext(Ba(r,{type:"segment",p0:w,p1:A,p0DataIndex:(y-1)%l,p1DataIndex:y%l,datasetIndex:a}))),sV(I,u)&&g(f,y-1,S.loop,u),w=A,u=I}f<y-1&&g(f,y-1,S.loop,u)}return c}function nD(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function sV(i,t){if(!t)return!1;let e=[],n=function(r,o){return V1(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(i,n)!==JSON.stringify(t,n)}var uy=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){let o=e.listeners[r],a=e.duration;o.forEach(s=>s({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(n-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=R1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let o=n.items,a=o.length-1,s=!1,l;for(;a>=0;--a)l=o[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),s=!0):(o[a]=o[o.length-1],o.pop());s&&(r.draw(),this._notify(r,n,t,"progress")),o.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Va=new uy,OD="transparent",lV={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=U1(i||OD),r=n.valid&&U1(t||OD);return r&&r.valid?r.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},hy=class{constructor(t,e,n,r){let o=e[n];r=kd([t.to,r,o,t.from]);let a=kd([t.from,o,r]);this._active=!0,this._fn=t.fn||lV[t.type||typeof a],this._easing=yd[t.easing]||yd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let r=this._target[this._prop],o=n-this._start,a=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=kd([t.to,e,r,t.from]),this._from=kd([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,r=this._prop,o=this._from,a=this._loop,s=this._to,l;if(this._active=o!==s&&(a||e<n),!this._active){this._target[r]=s,this._notify(!0);return}if(e<0){this._target[r]=o;return}l=e/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,s,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}},X0=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ut(t))return;let e=Object.keys(Ii.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let o=t[r];if(!Ut(o))return;let a={};for(let s of e)a[s]=o[s];(Pi(o.properties)&&o.properties||[r]).forEach(s=>{(s===r||!n.has(s))&&n.set(s,a)})})}_animateOptions(t,e){let n=e.options,r=dV(t,n);if(!r)return[];let o=this._createAnimations(r,n);return n.$shared&&cV(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,e){let n=this._properties,r=[],o=t.$animations||(t.$animations={}),a=Object.keys(e),s=Date.now(),l;for(l=a.length-1;l>=0;--l){let c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,e));continue}let u=e[c],f=o[c],y=n.get(c);if(f)if(y&&f.active()){f.update(y,u,s);continue}else f.cancel();if(!y||!y.duration){t[c]=u;continue}o[c]=f=new hy(y,t,c,u),r.push(f)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return Va.add(this._chart,n),!0}};function cV(i,t){let e=[],n=Object.keys(t);for(let r=0;r<n.length;r++){let o=i[n[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function dV(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ND(i,t){let e=i&&i.options||{},n=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:n?o:r,end:n?r:o}}function uV(i,t,e){if(e===!1)return!1;let n=ND(i,e),r=ND(t,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function hV(i){let t,e,n,r;return Ut(i)?(t=i.top,e=i.right,n=i.bottom,r=i.left):t=e=n=r=i,{top:t,right:e,bottom:n,left:r,disabled:i===!1}}function OI(i,t){let e=[],n=i._getSortedDatasetMetas(t),r,o;for(r=0,o=n.length;r<o;++r)e.push(n[r].index);return e}function LD(i,t,e,n={}){let r=i.keys,o=n.mode==="single",a,s,l,c;if(t===null)return;let u=!1;for(a=0,s=r.length;a<s;++a){if(l=+r[a],l===e){if(u=!0,n.all)continue;break}c=i.values[l],$i(c)&&(o||t===0||Do(t)===Do(c))&&(t+=c)}return!u&&!n.all?0:t}function pV(i,t){let{iScale:e,vScale:n}=t,r=e.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",a=Object.keys(i),s=new Array(a.length),l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],s[l]={[r]:u,[o]:i[u]};return s}function ty(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function fV(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function mV(i){let{min:t,max:e,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function gV(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function RD(i,t,e,n){for(let r of t.getMatchingVisibleMetas(n).reverse()){let o=i[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function FD(i,t){let{chart:e,_cachedMeta:n}=i,r=e._stacks||(e._stacks={}),{iScale:o,vScale:a,index:s}=n,l=o.axis,c=a.axis,u=fV(o,a,n),f=t.length,y;for(let g=0;g<f;++g){let S=t[g],{[l]:w,[c]:I}=S,A=S._stacks||(S._stacks={});y=A[c]=gV(r,u,w),y[s]=I,y._top=RD(y,a,!0,n.type),y._bottom=RD(y,a,!1,n.type);let T=y._visualValues||(y._visualValues={});T[s]=I}}function iy(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function vV(i,t){return Ba(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function bV(i,t,e){return Ba(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function op(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(let r of t){let o=r._stacks;if(!o||o[n]===void 0||o[n][e]===void 0)return;delete o[n][e],o[n]._visualValues!==void 0&&o[n]._visualValues[e]!==void 0&&delete o[n]._visualValues[e]}}}var ny=i=>i==="reset"||i==="none",jD=(i,t)=>t?i:Object.assign({},i),_V=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:OI(e,!0),values:null},$s=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ty(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&op(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(y,g,S,w)=>y==="x"?g:y==="r"?w:S,a=n.xAxisID=Mt(r.xAxisID,iy(e,"x")),s=n.yAxisID=Mt(r.yAxisID,iy(e,"y")),l=n.rAxisID=Mt(r.rAxisID,iy(e,"r")),c=n.indexAxis,u=n.iAxisID=o(c,a,s,l),f=n.vAxisID=o(c,s,a,l);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&N1(this._data,this),e._stacked&&op(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ut(n)){let o=this._cachedMeta;this._data=pV(n,o)}else if(r!==n){if(r){N1(r,this);let o=this._cachedMeta;op(o),o._parsed=[]}n&&Object.isExtensible(n)&&fD(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let a=n._stacked;n._stacked=ty(n.vScale,n),n.stack!==r.stack&&(o=!0,op(n),n.stack=r.stack),this._resyncElements(e),(o||a!==n._stacked)&&(FD(this,n._parsed),n._stacked=ty(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:s}=r,l=a.axis,c=e===0&&n===o.length?!0:r._sorted,u=e>0&&r._parsed[e-1],f,y,g;if(this._parsing===!1)r._parsed=o,r._sorted=!0,g=o;else{Pi(o[e])?g=this.parseArrayData(r,o,e,n):Ut(o[e])?g=this.parseObjectData(r,o,e,n):g=this.parsePrimitiveData(r,o,e,n);let S=()=>y[l]===null||u&&y[l]<u[l];for(f=0;f<n;++f)r._parsed[f+e]=y=g[f],c&&(S()&&(c=!1),u=y);r._sorted=c}s&&FD(this,g)}parsePrimitiveData(e,n,r,o){let{iScale:a,vScale:s}=e,l=a.axis,c=s.axis,u=a.getLabels(),f=a===s,y=new Array(o),g,S,w;for(g=0,S=o;g<S;++g)w=g+r,y[g]={[l]:f||a.parse(u[w],w),[c]:s.parse(n[w],w)};return y}parseArrayData(e,n,r,o){let{xScale:a,yScale:s}=e,l=new Array(o),c,u,f,y;for(c=0,u=o;c<u;++c)f=c+r,y=n[f],l[c]={x:a.parse(y[0],f),y:s.parse(y[1],f)};return l}parseObjectData(e,n,r,o){let{xScale:a,yScale:s}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(o),f,y,g,S;for(f=0,y=o;f<y;++f)g=f+r,S=n[g],u[f]={x:a.parse(ja(S,l),g),y:s.parse(ja(S,c),g)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){let o=this.chart,a=this._cachedMeta,s=n[e.axis],l={keys:OI(o,!0),values:n._stacks[e.axis]._visualValues};return LD(l,s,a.index,{mode:r})}updateRangeFromParsed(e,n,r,o){let a=r[n.axis],s=a===null?NaN:a,l=o&&r._stacks[n.axis];o&&l&&(o.values=l,s=LD(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,n){let r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,s=o.length,l=this._getOtherScale(e),c=_V(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:y}=mV(l),g,S;function w(){S=o[g];let I=S[l.axis];return!$i(S[e.axis])||f>I||y<I}for(g=0;g<s&&!(!w()&&(this.updateRangeFromParsed(u,e,S,c),a));++g);if(a){for(g=s-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(u,e,S,c);break}}return u}getAllParsedValues(e){let n=this._cachedMeta._parsed,r=[],o,a,s;for(o=0,a=n.length;o<a;++o)s=n[o][e.axis],$i(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,r=n.iScale,o=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=hV(Mt(this.options.clip,uV(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,r=this._cachedMeta,o=r.data||[],a=n.chartArea,s=[],l=this._drawStart||0,c=this._drawCount||o.length-l,u=this.options.drawActiveElementsOnTop,f;for(r.dataset&&r.dataset.draw(e,a,l,c),f=l;f<l+c;++f){let y=o[f];y.hidden||(y.active&&u?s.push(y):y.draw(e,a))}for(f=0;f<s.length;++f)s[f].draw(e,a)}getStyle(e,n){let r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){let o=this.getDataset(),a;if(e>=0&&e<this._cachedMeta.data.length){let s=this._cachedMeta.data[e];a=s.$context||(s.$context=bV(this.getContext(),e,s)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=vV(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){let o=n==="active",a=this._cachedDataOpts,s=e+"-"+n,l=a[s],c=this.enableOptionSharing&&Sd(r);if(l)return jD(l,c);let u=this.chart.config,f=u.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],g=u.getOptionScopes(this.getDataset(),f),S=Object.keys(Ii.elements[e]),w=()=>this.getContext(r,o,n),I=u.resolveNamedOptions(g,S,w,y);return I.$shared&&(I.$shared=c,a[s]=Object.freeze(jD(I,c))),I}_resolveAnimations(e,n,r){let o=this.chart,a=this._cachedDataOpts,s=`animation-${n}`,l=a[s];if(l)return l;let c;if(o.options.animation!==!1){let f=this.chart.config,y=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),y);c=f.createResolver(g,this.getContext(e,r,n))}let u=new X0(o,c&&c.animations);return c&&c._cacheable&&(a[s]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ny(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let r=this.resolveDataElementOptions(e,n),o=this._sharedOptions,a=this.getSharedOptions(r),s=this.includeOptions(n,a)||a!==o;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:s}}updateElement(e,n,r,o){ny(o)?Object.assign(e,r):this._resolveAnimations(n,o).update(e,r)}updateSharedOptions(e,n,r){e&&!ny(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,o){e.active=o;let a=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,r=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let o=r.length,a=n.length,s=Math.min(a,o);s&&this.parse(0,s),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,n,r=!0){let o=this._cachedMeta,a=o.data,s=e+n,l,c=u=>{for(u.length+=n,l=u.length-1;l>=s;l--)u[l]=u[l-n]};for(c(a),l=e;l<s;++l)a[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,o){}_removeElements(e,n){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(e,n);r._stacked&&op(r,o)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,r,o]=e;this[n](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function yV(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),n=[];for(let r=0,o=e.length;r<o;r++)n=n.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=L1(n.sort((r,o)=>r-o))}return i._cache.$bar}function xV(i){let t=i.iScale,e=yV(t,i.type),n=t._length,r,o,a,s,l=()=>{a===32767||a===-32768||(Sd(s)&&(n=Math.min(n,Math.abs(a-s)||n)),s=a)};for(r=0,o=e.length;r<o;++r)a=t.getPixelForValue(e[r]),l();for(s=void 0,r=0,o=t.ticks.length;r<o;++r)a=t.getPixelForTick(r),l();return n}function CV(i,t,e,n){let r=e.barThickness,o,a;return $t(r)?(o=t.min*e.categoryPercentage,a=e.barPercentage):(o=r*n,a=1),{chunk:o/n,ratio:a,start:t.pixels[i]-o/2}}function wV(i,t,e,n){let r=t.pixels,o=r[i],a=i>0?r[i-1]:null,s=i<r.length-1?r[i+1]:null,l=e.categoryPercentage;a===null&&(a=o-(s===null?t.end-t.start:s-o)),s===null&&(s=o+o-a);let c=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/n,ratio:e.barPercentage,start:c}}function SV(i,t,e,n){let r=e.parse(i[0],n),o=e.parse(i[1],n),a=Math.min(r,o),s=Math.max(r,o),l=a,c=s;Math.abs(a)>Math.abs(s)&&(l=s,c=a),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:o,min:a,max:s}}function NI(i,t,e,n){return Pi(i)?SV(i,t,e,n):t[e.axis]=e.parse(i,n),t}function BD(i,t,e,n){let r=i.iScale,o=i.vScale,a=r.getLabels(),s=r===o,l=[],c,u,f,y;for(c=e,u=e+n;c<u;++c)y=t[c],f={},f[r.axis]=s||r.parse(a[c],c),l.push(NI(y,f,o,c));return l}function ry(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function DV(i,t,e){return i!==0?Do(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function IV(i){let t,e,n,r,o;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:n,reverse:t,top:r,bottom:o}}function AV(i,t,e,n){let r=t.borderSkipped,o={};if(!r){i.borderSkipped=o;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:a,end:s,reverse:l,top:c,bottom:u}=IV(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?r=c:(e._bottom||0)===n?r=u:(o[VD(u,a,s,l)]=!0,r=c)),o[VD(r,a,s,l)]=!0,i.borderSkipped=o}function VD(i,t,e,n){return n?(i=EV(i,t,e),i=UD(i,e,t)):i=UD(i,t,e),i}function EV(i,t,e){return i===t?e:i===e?t:i}function UD(i,t,e){return i==="start"?t:i==="end"?e:i}function kV(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var TV=(()=>{class i extends $s{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,o){return BD(e,n,r,o)}parseArrayData(e,n,r,o){return BD(e,n,r,o)}parseObjectData(e,n,r,o){let{iScale:a,vScale:s}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=a.axis==="x"?l:c,f=s.axis==="x"?l:c,y=[],g,S,w,I;for(g=r,S=r+o;g<S;++g)I=n[g],w={},w[a.axis]=a.parse(ja(I,u),g),y.push(NI(ja(I,f),w,s,g));return y}updateRangeFromParsed(e,n,r,o){super.updateRangeFromParsed(e,n,r,o);let a=r._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let n=this._cachedMeta,{iScale:r,vScale:o}=n,a=this.getParsed(e),s=a._custom,l=ry(s)?"["+s.start+", "+s.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,o){let a=o==="reset",{index:s,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),f=this._getRuler(),{sharedOptions:y,includeOptions:g}=this._getSharedOptions(n,o);for(let S=n;S<n+r;S++){let w=this.getParsed(S),I=a||$t(w[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(S),A=this._calculateBarIndexPixels(S,f),T=(w._stacks||{})[l.axis],V={horizontal:u,base:I.base,enableBorderRadius:!T||ry(w._custom)||s===T._top||s===T._bottom,x:u?I.head:A.center,y:u?A.center:I.head,height:u?A.size:Math.abs(I.size),width:u?Math.abs(I.size):A.size};g&&(V.options=y||this.resolveDataElementOptions(S,e[S].active?"active":o));let Z=V.options||e[S].options;AV(V,Z,T,s),kV(V,Z,f.ratio),this.updateElement(e[S],S,V,o)}}_getStacks(e,n){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),a=r.options.stacked,s=[],l=this._cachedMeta.controller.getParsed(n),c=l&&l[r.axis],u=f=>{let y=f._parsed.find(S=>S[r.axis]===c),g=y&&y[f.vScale.axis];if($t(g)||isNaN(g))return!0};for(let f of o)if(!(n!==void 0&&u(f))&&((a===!1||s.indexOf(f.stack)===-1||a===void 0&&f.stack===void 0)&&s.push(f.stack),f.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){let o=this._getStacks(e,r),a=n!==void 0?o.indexOf(n):-1;return a===-1?o.length-1:a}_getRuler(){let e=this.options,n=this._cachedMeta,r=n.iScale,o=[],a,s;for(a=0,s=n.data.length;a<s;++a)o.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));let l=e.barThickness;return{min:l||xV(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:n,_stacked:r,index:o},options:{base:a,minBarLength:s}}=this,l=a||0,c=this.getParsed(e),u=c._custom,f=ry(u),y=c[n.axis],g=0,S=r?this.applyStack(n,c,r):y,w,I;S!==y&&(g=S-y,S=y),f&&(y=u.barStart,S=u.barEnd-u.barStart,y!==0&&Do(y)!==Do(u.barEnd)&&(g=0),g+=y);let A=!$t(a)&&!f?a:g,T=n.getPixelForValue(A);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(g+S):w=T,I=w-T,Math.abs(I)<s){I=DV(I,n,l)*s,y===l&&(T-=I/2);let V=n.getPixelForDecimal(0),Z=n.getPixelForDecimal(1),$=Math.min(V,Z),ne=Math.max(V,Z);T=Math.max(Math.min(T,ne),$),w=T+I,r&&!f&&(c._stacks[n.axis]._visualValues[o]=n.getValueForPixel(w)-n.getValueForPixel(T))}if(T===n.getPixelForValue(l)){let V=Do(I)*n.getLineWidthForValue(l)/2;T+=V,I-=V}return{size:I,base:T,head:w,center:w+I/2}}_calculateBarIndexPixels(e,n){let r=n.scale,o=this.options,a=o.skipNull,s=Mt(o.maxBarThickness,1/0),l,c;if(n.grouped){let u=a?this._getStackCount(e):n.stackCount,f=o.barThickness==="flex"?wV(e,n,o,u):CV(e,n,o,u),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);l=f.start+f.chunk*y+f.chunk/2,c=Math.min(s,f.chunk*f.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(s,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,n=e.vScale,r=e.data,o=r.length,a=0;for(;a<o;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}return i})(),MV=(()=>{class i extends $s{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,o){let a=super.parsePrimitiveData(e,n,r,o);for(let s=0;s<a.length;s++)a[s]._custom=this.resolveDataElementOptions(s+r).radius;return a}parseArrayData(e,n,r,o){let a=super.parseArrayData(e,n,r,o);for(let s=0;s<a.length;s++){let l=n[r+s];a[s]._custom=Mt(l[2],this.resolveDataElementOptions(s+r).radius)}return a}parseObjectData(e,n,r,o){let a=super.parseObjectData(e,n,r,o);for(let s=0;s<a.length;s++){let l=n[r+s];a[s]._custom=Mt(l&&l.r&&+l.r,this.resolveDataElementOptions(s+r).radius)}return a}getMaxOverflow(){let e=this._cachedMeta.data,n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:a}=n,s=this.getParsed(e),l=o.getLabelForValue(s.x),c=a.getLabelForValue(s.y),u=s._custom;return{label:r[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,o){let a=o==="reset",{iScale:s,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(n,o),f=s.axis,y=l.axis;for(let g=n;g<n+r;g++){let S=e[g],w=!a&&this.getParsed(g),I={},A=I[f]=a?s.getPixelForDecimal(.5):s.getPixelForValue(w[f]),T=I[y]=a?l.getBasePixel():l.getPixelForValue(w[y]);I.skip=isNaN(A)||isNaN(T),u&&(I.options=c||this.resolveDataElementOptions(g,S.active?"active":o),a&&(I.options.radius=0)),this.updateElement(S,g,I,o)}}resolveDataElementOptions(e,n){let r=this.getParsed(e),o=super.resolveDataElementOptions(e,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let a=o.radius;return n!=="active"&&(o.radius=0),o.radius+=Mt(r&&r._custom,a),o}}return i})();function PV(i,t,e){let n=1,r=1,o=0,a=0;if(t<Ni){let s=i,l=s+t,c=Math.cos(s),u=Math.sin(s),f=Math.cos(l),y=Math.sin(l),g=(V,Z,$)=>Id(V,s,l,!0)?1:Math.max(Z,Z*e,$,$*e),S=(V,Z,$)=>Id(V,s,l,!0)?-1:Math.min(Z,Z*e,$,$*e),w=g(0,c,f),I=g(Ji,u,y),A=S(Oi,c,f),T=S(Oi+Ji,u,y);n=(w-A)/2,r=(I-T)/2,o=-(w+A)/2,a=-(I+T)/2}return{ratioX:n,ratioY:r,offsetX:o,offsetY:a}}var Py=(()=>{class i extends $s{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return n.labels.map((a,s)=>{let c=e.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let a=c=>+r[c];if(Ut(r[e])){let{key:c="value"}=this._parsing;a=u=>+ja(r[u],c)}let s,l;for(s=e,l=e+n;s<l;++s)o._parsed[s]=a(s)}}_getRotation(){return Qr(this.options.rotation-90)}_getCircumference(){return Qr(this.options.circumference)}_getRotationExtents(){let e=Ni,n=-Ni;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,a=o._getRotation(),s=o._getCircumference();e=Math.min(e,a),n=Math.max(n,a+s)}return{rotation:e,circumference:n-e}}update(e){let n=this.chart,{chartArea:r}=n,o=this._cachedMeta,a=o.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-s)/2,0),c=Math.min(oD(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:f,rotation:y}=this._getRotationExtents(),{ratioX:g,ratioY:S,offsetX:w,offsetY:I}=PV(y,f,c),A=(r.width-s)/g,T=(r.height-s)/S,V=Math.max(Math.min(A,T)/2,0),Z=E1(this.options.radius,V),$=Math.max(Z*c,0),ne=(Z-$)/this._getVisibleDatasetWeightTotal();this.offsetX=w*Z,this.offsetY=I*Z,o.total=this.calculateTotal(),this.outerRadius=Z-ne*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ne*u,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){let r=this.options,o=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*a/Ni)}updateElements(e,n,r,o){let a=o==="reset",s=this.chart,l=s.chartArea,u=s.options.animation,f=(l.left+l.right)/2,y=(l.top+l.bottom)/2,g=a&&u.animateScale,S=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:I,includeOptions:A}=this._getSharedOptions(n,o),T=this._getRotation(),V;for(V=0;V<n;++V)T+=this._circumference(V,a);for(V=n;V<n+r;++V){let Z=this._circumference(V,a),$=e[V],ne={x:f+this.offsetX,y:y+this.offsetY,startAngle:T,endAngle:T+Z,circumference:Z,outerRadius:w,innerRadius:S};A&&(ne.options=I||this.resolveDataElementOptions(V,$.active?"active":o)),T+=Z,this.updateElement($,V,ne,o)}}calculateTotal(){let e=this._cachedMeta,n=e.data,r=0,o;for(o=0;o<n.length;o++){let a=e._parsed[o];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){let n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ni*(Math.abs(e)/n):0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],a=Ad(n._parsed[e],r.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){let n=0,r=this.chart,o,a,s,l,c;if(!e){for(o=0,a=r.data.datasets.length;o<a;++o)if(r.isDatasetVisible(o)){s=r.getDatasetMeta(o),e=s.data,l=s.controller;break}}if(!e)return 0;for(o=0,a=e.length;o<a;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,o=e.length;r<o;++r){let a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Mt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),OV=(()=>{class i extends $s{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let n=this._cachedMeta,{dataset:r,data:o=[],_dataset:a}=n,s=this.chart._animationsDisabled,{start:l,count:c}=j1(n,o,s);this._drawStart=l,this._drawCount=c,B1(n)&&(l=0,c=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=o;let u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:u},e),this.updateElements(o,l,c,e)}updateElements(e,n,r,o){let a=o==="reset",{iScale:s,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:f,includeOptions:y}=this._getSharedOptions(n,o),g=s.axis,S=l.axis,{spanGaps:w,segment:I}=this.options,A=Gl(w)?w:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||a||o==="none",V=n+r,Z=e.length,$=n>0&&this.getParsed(n-1);for(let ne=0;ne<Z;++ne){let J=e[ne],U=T?J:{};if(ne<n||ne>=V){U.skip=!0;continue}let ie=this.getParsed(ne),ge=$t(ie[S]),R=U[g]=s.getPixelForValue(ie[g],ne),B=U[S]=a||ge?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,ie,c):ie[S],ne);U.skip=isNaN(R)||isNaN(B)||ge,U.stop=ne>0&&Math.abs(ie[g]-$[g])>A,I&&(U.parsed=ie,U.raw=u.data[ne]),y&&(U.options=f||this.resolveDataElementOptions(ne,J.active?"active":o)),T||this.updateElement(J,ne,U,o),$=ie}}getMaxOverflow(){let e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return r;let a=o[0].size(this.resolveDataElementOptions(0)),s=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,a,s)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),LI=(()=>{class i extends $s{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return n.labels.map((a,s)=>{let c=e.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],a=Ad(n._parsed[e].r,r.options.locale);return{label:o[e]||"",value:a}}parseObjectData(e,n,r,o){return Y1.bind(this)(e,n,r,o)}update(e){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){let e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,o)=>{let a=this.getParsed(o).r;!isNaN(a)&&this.chart.getDataVisibility(o)&&(a<n.min&&(n.min=a),a>n.max&&(n.max=a))}),n}_updateRadius(){let e=this.chart,n=e.chartArea,r=e.options,o=Math.min(n.right-n.left,n.bottom-n.top),a=Math.max(o/2,0),s=Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0),l=(a-s)/e.getVisibleDatasetCount();this.outerRadius=a-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,r,o){let a=o==="reset",s=this.chart,c=s.options.animation,u=this._cachedMeta.rScale,f=u.xCenter,y=u.yCenter,g=u.getIndexAngle(0)-.5*Oi,S=g,w,I=360/this.countVisibleElements();for(w=0;w<n;++w)S+=this._computeAngle(w,o,I);for(w=n;w<n+r;w++){let A=e[w],T=S,V=S+this._computeAngle(w,o,I),Z=s.getDataVisibility(w)?u.getDistanceFromCenterForValue(this.getParsed(w).r):0;S=V,a&&(c.animateScale&&(Z=0),c.animateRotate&&(T=V=g));let $={x:f,y,innerRadius:0,outerRadius:Z,startAngle:T,endAngle:V,options:this.resolveDataElementOptions(w,A.active?"active":o)};this.updateElement(A,w,$,o)}}countVisibleElements(){let e=this._cachedMeta,n=0;return e.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Qr(this.resolveDataElementOptions(e,n).angle||r):0}}return i})(),NV=(()=>{class i extends Py{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),LV=(()=>{class i extends $s{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,o){return Y1.bind(this)(e,n,r,o)}update(e){let n=this._cachedMeta,r=n.dataset,o=n.data||[],a=n.iScale.getLabels();if(r.points=o,e!=="resize"){let s=this.resolveDatasetElementOptions(e);this.options.showLine||(s.borderWidth=0);let l={_loop:!0,_fullLoop:a.length===o.length,options:s};this.updateElement(r,void 0,l,e)}this.updateElements(o,0,o.length,e)}updateElements(e,n,r,o){let a=this._cachedMeta.rScale,s=o==="reset";for(let l=n;l<n+r;l++){let c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":o),f=a.getPointPositionForValue(l,this.getParsed(l).r),y=s?a.xCenter:f.x,g=s?a.yCenter:f.y,S={x:y,y:g,angle:f.angle,skip:isNaN(y)||isNaN(g),options:u};this.updateElement(c,l,S,o)}}}return i})(),RV=(()=>{class i extends $s{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:a}=n,s=this.getParsed(e),l=o.getLabelForValue(s.x),c=a.getLabelForValue(s.y);return{label:r[e]||"",value:"("+l+", "+c+")"}}update(e){let n=this._cachedMeta,{data:r=[]}=n,o=this.chart._animationsDisabled,{start:a,count:s}=j1(n,r,o);if(this._drawStart=a,this._drawCount=s,B1(n)&&(a=0,s=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,a,s,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,o){let a=o==="reset",{iScale:s,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,f=this.resolveDataElementOptions(n,o),y=this.getSharedOptions(f),g=this.includeOptions(o,y),S=s.axis,w=l.axis,{spanGaps:I,segment:A}=this.options,T=Gl(I)?I:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||a||o==="none",Z=n>0&&this.getParsed(n-1);for(let $=n;$<n+r;++$){let ne=e[$],J=this.getParsed($),U=V?ne:{},ie=$t(J[w]),ge=U[S]=s.getPixelForValue(J[S],$),R=U[w]=a||ie?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,J,c):J[w],$);U.skip=isNaN(ge)||isNaN(R)||ie,U.stop=$>0&&Math.abs(J[S]-Z[S])>T,A&&(U.parsed=J,U.raw=u.data[$]),g&&(U.options=y||this.resolveDataElementOptions($,ne.active?"active":o)),V||this.updateElement(ne,$,U,o),Z=J}this.updateSharedOptions(y,o,f)}getMaxOverflow(){let e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!n.length)return o;let a=n[0].size(this.resolveDataElementOptions(0)),s=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,a,s)/2}}return i})(),FV=Object.freeze({__proto__:null,BarController:TV,BubbleController:MV,DoughnutController:Py,LineController:OV,PieController:NV,PolarAreaController:LI,RadarController:LV,ScatterController:RV});function Wl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var py=class i{static override(t){Object.assign(i.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Wl()}parse(){return Wl()}format(){return Wl()}add(){return Wl()}diff(){return Wl()}startOf(){return Wl()}endOf(){return Wl()}},jV={_date:py};function BV(i,t,e,n){let{controller:r,data:o,_sorted:a}=i,s=r._cachedMeta.iScale;if(s&&t===s.axis&&t!=="r"&&a&&o.length){let l=s._reversePixels?uD:Jo;if(n){if(r._sharedOptions){let c=o[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){let f=l(o,t,e-u),y=l(o,t,e+u);return{lo:f.lo,hi:y.hi}}}}else return l(o,t,e)}return{lo:0,hi:o.length-1}}function mp(i,t,e,n,r){let o=i.getSortedVisibleDatasetMetas(),a=e[t];for(let s=0,l=o.length;s<l;++s){let{index:c,data:u}=o[s],{lo:f,hi:y}=BV(o[s],t,a,r);for(let g=f;g<=y;++g){let S=u[g];S.skip||n(S,c,g)}}}function VV(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,r){let o=t?Math.abs(n.x-r.x):0,a=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function oy(i,t,e,n,r){let o=[];return!r&&!i.isPointInArea(t)||mp(i,e,t,function(s,l,c){!r&&!Qo(s,i.chartArea,0)||s.inRange(t.x,t.y,n)&&o.push({element:s,datasetIndex:l,index:c})},!0),o}function UV(i,t,e,n){let r=[];function o(a,s,l){let{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:f}=O1(a,{x:t.x,y:t.y});Id(f,c,u)&&r.push({element:a,datasetIndex:s,index:l})}return mp(i,e,t,o),r}function zV(i,t,e,n,r,o){let a=[],s=VV(e),l=Number.POSITIVE_INFINITY;function c(u,f,y){let g=u.inRange(t.x,t.y,r);if(n&&!g)return;let S=u.getCenterPoint(r);if(!(!!o||i.isPointInArea(S))&&!g)return;let I=s(t,S);I<l?(a=[{element:u,datasetIndex:f,index:y}],l=I):I===l&&a.push({element:u,datasetIndex:f,index:y})}return mp(i,e,t,c),a}function ay(i,t,e,n,r,o){return!o&&!i.isPointInArea(t)?[]:e==="r"&&!n?UV(i,t,e,r):zV(i,t,e,n,r,o)}function zD(i,t,e,n,r){let o=[],a=e==="x"?"inXRange":"inYRange",s=!1;return mp(i,e,t,(l,c,u)=>{l[a]&&l[a](t[e],r)&&(o.push({element:l,datasetIndex:c,index:u}),s=s||l.inRange(t.x,t.y,r))}),n&&!s?[]:o}var qV={evaluateInteractionItems:mp,modes:{index(i,t,e,n){let r=Hs(t,i),o=e.axis||"x",a=e.includeInvisible||!1,s=e.intersect?oy(i,r,o,n,a):ay(i,r,o,!1,n,a),l=[];return s.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{let u=s[0].index,f=c.data[u];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:u})}),l):[]},dataset(i,t,e,n){let r=Hs(t,i),o=e.axis||"xy",a=e.includeInvisible||!1,s=e.intersect?oy(i,r,o,n,a):ay(i,r,o,!1,n,a);if(s.length>0){let l=s[0].datasetIndex,c=i.getDatasetMeta(l).data;s=[];for(let u=0;u<c.length;++u)s.push({element:c[u],datasetIndex:l,index:u})}return s},point(i,t,e,n){let r=Hs(t,i),o=e.axis||"xy",a=e.includeInvisible||!1;return oy(i,r,o,n,a)},nearest(i,t,e,n){let r=Hs(t,i),o=e.axis||"xy",a=e.includeInvisible||!1;return ay(i,r,o,e.intersect,n,a)},x(i,t,e,n){let r=Hs(t,i);return zD(i,r,"x",e.intersect,n)},y(i,t,e,n){let r=Hs(t,i);return zD(i,r,"y",e.intersect,n)}}},RI=["left","top","right","bottom"];function ap(i,t){return i.filter(e=>e.pos===t)}function qD(i,t){return i.filter(e=>RI.indexOf(e.pos)===-1&&e.box.axis===t)}function sp(i,t){return i.sort((e,n)=>{let r=t?n:e,o=t?e:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function HV(i){let t=[],e,n,r,o,a,s;for(e=0,n=(i||[]).length;e<n;++e)r=i[e],{position:o,options:{stack:a,stackWeight:s=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&o+a,stackWeight:s});return t}function GV(i){let t={};for(let e of i){let{stack:n,pos:r,stackWeight:o}=e;if(!n||!RI.includes(r))continue;let a=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}function $V(i,t){let e=GV(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t,o,a,s;for(o=0,a=i.length;o<a;++o){s=i[o];let{fullSize:l}=s.box,c=e[s.stack],u=c&&s.stackWeight/c.weight;s.horizontal?(s.width=u?u*n:l&&t.availableWidth,s.height=r):(s.width=n,s.height=u?u*r:l&&t.availableHeight)}return e}function WV(i){let t=HV(i),e=sp(t.filter(c=>c.box.fullSize),!0),n=sp(ap(t,"left"),!0),r=sp(ap(t,"right")),o=sp(ap(t,"top"),!0),a=sp(ap(t,"bottom")),s=qD(t,"x"),l=qD(t,"y");return{fullSize:e,leftAndTop:n.concat(o),rightAndBottom:r.concat(l).concat(a).concat(s),chartArea:ap(t,"chartArea"),vertical:n.concat(r).concat(l),horizontal:o.concat(a).concat(s)}}function HD(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function FI(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function YV(i,t,e,n){let{pos:r,box:o}=e,a=i.maxPadding;if(!Ut(r)){e.size&&(i[r]-=e.size);let f=n[e.stack]||{size:0,count:1};f.size=Math.max(f.size,e.horizontal?o.height:o.width),e.size=f.size/f.count,i[r]+=e.size}o.getPadding&&FI(a,o.getPadding());let s=Math.max(0,t.outerWidth-HD(a,i,"left","right")),l=Math.max(0,t.outerHeight-HD(a,i,"top","bottom")),c=s!==i.w,u=l!==i.h;return i.w=s,i.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function XV(i){let t=i.maxPadding;function e(n){let r=Math.max(t[n]-i[n],0);return i[n]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function ZV(i,t){let e=t.maxPadding;function n(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{o[a]=Math.max(t[a],e[a])}),o}return n(i?["left","right"]:["top","bottom"])}function dp(i,t,e,n){let r=[],o,a,s,l,c,u;for(o=0,a=i.length,c=0;o<a;++o){s=i[o],l=s.box,l.update(s.width||t.w,s.height||t.h,ZV(s.horizontal,t));let{same:f,other:y}=YV(t,e,s,n);c|=f&&r.length,u=u||y,l.fullSize||r.push(s)}return c&&dp(r,t,e,n)||u}function V0(i,t,e,n,r){i.top=e,i.left=t,i.right=t+n,i.bottom=e+r,i.width=n,i.height=r}function GD(i,t,e,n){let r=e.padding,{x:o,y:a}=t;for(let s of i){let l=s.box,c=n[s.stack]||{count:1,placed:0,weight:1},u=s.stackWeight/c.weight||1;if(s.horizontal){let f=t.w*u,y=c.size||l.height;Sd(c.start)&&(a=c.start),l.fullSize?V0(l,r.left,a,e.outerWidth-r.right-r.left,y):V0(l,t.left+c.placed,a,f,y),c.start=a,c.placed+=f,a=l.bottom}else{let f=t.h*u,y=c.size||l.width;Sd(c.start)&&(o=c.start),l.fullSize?V0(l,o,r.top,y,e.outerHeight-r.bottom-r.top):V0(l,o,t.top+c.placed,y,f),c.start=o,c.placed+=f,o=l.right}}t.x=o,t.y=a}var Wn={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let r=Ln(i.options.layout.padding),o=Math.max(t-r.width,0),a=Math.max(e-r.height,0),s=WV(i.boxes),l=s.vertical,c=s.horizontal;ui(i.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});let u=l.reduce((w,I)=>I.box.options&&I.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/u,hBoxMaxHeight:a/2}),y=Object.assign({},r);FI(y,Ln(n));let g=Object.assign({maxPadding:y,w:o,h:a,x:r.left,y:r.top},r),S=$V(l.concat(c),f);dp(s.fullSize,g,f,S),dp(l,g,f,S),dp(c,g,f,S)&&dp(l,g,f,S),XV(g),GD(s.leftAndTop,g,f,S),g.x+=g.w,g.y+=g.h,GD(s.rightAndBottom,g,f,S),i.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ui(s.chartArea,w=>{let I=w.box;Object.assign(I,i.chartArea),I.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},Z0=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}},fy=class extends Z0{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},W0="$chartjs",KV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$D=i=>i===null||i==="";function JV(i,t){let e=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[W0]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",$D(r)){let o=Z1(i,"width");o!==void 0&&(i.width=o)}if($D(n))if(i.style.height==="")i.height=i.width/(t||2);else{let o=Z1(i,"height");o!==void 0&&(i.height=o)}return i}var jI=ED?{passive:!0}:!1;function QV(i,t,e){i&&i.addEventListener(t,e,jI)}function e9(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,jI)}function t9(i,t){let e=KV[i.type]||i.type,{x:n,y:r}=Hs(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function K0(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function i9(i,t,e){let n=i.canvas,r=new MutationObserver(o=>{let a=!1;for(let s of o)a=a||K0(s.addedNodes,n),a=a&&!K0(s.removedNodes,n);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function n9(i,t,e){let n=i.canvas,r=new MutationObserver(o=>{let a=!1;for(let s of o)a=a||K0(s.removedNodes,n),a=a&&!K0(s.addedNodes,n);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var hp=new Map,WD=0;function BI(){let i=window.devicePixelRatio;i!==WD&&(WD=i,hp.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function r9(i,t){hp.size||window.addEventListener("resize",BI),hp.set(i,t)}function o9(i){hp.delete(i),hp.size||window.removeEventListener("resize",BI)}function a9(i,t,e){let n=i.canvas,r=n&&j0(n);if(!r)return;let o=F1((s,l)=>{let c=r.clientWidth;e(s,l),c<r.clientWidth&&e()},window),a=new ResizeObserver(s=>{let l=s[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return a.observe(r),r9(i,o),a}function sy(i,t,e){e&&e.disconnect(),t==="resize"&&o9(i)}function s9(i,t,e){let n=i.canvas,r=F1(o=>{i.ctx!==null&&e(t9(o,i))},i);return QV(n,t,r),r}var my=class extends Z0{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(JV(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[W0])return!1;let n=e[W0].initial;["height","width"].forEach(o=>{let a=n[o];$t(a)?e.removeAttribute(o):e.setAttribute(o,a)});let r=n.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[W0],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),a={attach:i9,detach:n9,resize:a9}[e]||s9;r[e]=a(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:sy,detach:sy,resize:sy}[e]||e9)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return AD(t,e,n,r)}isAttached(t){let e=t&&j0(t);return!!(e&&e.isConnected)}};function l9(i){return!F0()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?fy:my}var Io=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Gl(this.x)&&Gl(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let r={};return t.forEach(o=>{r[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),r}};function c9(i,t){let e=i.options.ticks,n=d9(i),r=Math.min(e.maxTicksLimit||n,n),o=e.major.enabled?h9(t):[],a=o.length,s=o[0],l=o[a-1],c=[];if(a>r)return p9(t,c,o,a/r),c;let u=u9(o,t,r);if(a>0){let f,y,g=a>1?Math.round((l-s)/(a-1)):null;for(U0(t,c,u,$t(g)?0:s-g,s),f=0,y=a-1;f<y;f++)U0(t,c,u,o[f],o[f+1]);return U0(t,c,u,l,$t(g)?t.length:l+g),c}return U0(t,c,u),c}function d9(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(n,r))}function u9(i,t,e){let n=f9(i),r=t.length/e;if(!n)return Math.max(r,1);let o=lD(n);for(let a=0,s=o.length-1;a<s;a++){let l=o[a];if(l>r)return l}return Math.max(r,1)}function h9(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function p9(i,t,e,n){let r=0,o=e[0],a;for(n=Math.ceil(n),a=0;a<i.length;a++)a===o&&(t.push(i[a]),r++,o=e[r*n])}function U0(i,t,e,n,r){let o=Mt(n,0),a=Math.min(Mt(r,i.length),i.length),s=0,l,c,u;for(e=Math.ceil(e),r&&(l=r-n,e=l/Math.floor(l/e)),u=o;u<0;)s++,u=Math.round(o+s*e);for(c=Math.max(o,0);c<a;c++)c===u&&(t.push(i[c]),s++,u=Math.round(o+s*e))}function f9(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var m9=i=>i==="left"?"right":i==="right"?"left":i,YD=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,XD=(i,t)=>Math.min(t||i,i);function ZD(i,t){let e=[],n=i.length/t,r=i.length,o=0;for(;o<r;o+=n)e.push(i[Math.floor(o)]);return e}function g9(i,t,e){let n=i.ticks.length,r=Math.min(t,n-1),o=i._startPixel,a=i._endPixel,s=1e-6,l=i.getPixelForTick(r),c;if(!(e&&(n===1?c=Math.max(l-o,a-l):t===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<o-s||l>a+s)))return l}function v9(i,t){ui(i,e=>{let n=e.gc,r=n.length/2,o;if(r>t){for(o=0;o<r;++o)delete e.data[n[o]];n.splice(0,r)}})}function lp(i){return i.drawTicks?i.tickLength:0}function KD(i,t){if(!i.display)return 0;let e=mn(i.font,t),n=Ln(i.padding);return(Pi(i.text)?i.text.length:1)*e.lineHeight+n.height}function b9(i,t){return Ba(i,{scale:t,type:"scale"})}function _9(i,t,e){return Ba(i,{tick:e,index:t,type:"tick"})}function y9(i,t,e){let n=P0(i);return(e&&t!=="right"||!e&&t==="right")&&(n=m9(n)),n}function x9(i,t,e,n){let{top:r,left:o,bottom:a,right:s,chart:l}=i,{chartArea:c,scales:u}=l,f=0,y,g,S,w=a-r,I=s-o;if(i.isHorizontal()){if(g=Nn(n,o,s),Ut(e)){let A=Object.keys(e)[0],T=e[A];S=u[A].getPixelForValue(T)+w-t}else e==="center"?S=(c.bottom+c.top)/2+w-t:S=YD(i,e,t);y=s-o}else{if(Ut(e)){let A=Object.keys(e)[0],T=e[A];g=u[A].getPixelForValue(T)-I+t}else e==="center"?g=(c.left+c.right)/2-I+t:g=YD(i,e,t);S=Nn(n,a,r),f=e==="left"?-Ji:Ji}return{titleX:g,titleY:S,maxWidth:y,rotation:f}}var Xl=class i extends Io{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=vr(t,Number.POSITIVE_INFINITY),e=vr(e,Number.NEGATIVE_INFINITY),n=vr(n,Number.POSITIVE_INFINITY),r=vr(r,Number.NEGATIVE_INFINITY),{min:vr(t,n),max:vr(e,r),minDefined:$i(t),maxDefined:$i(e)}}getMinMax(t){let{min:e,max:n,minDefined:r,maxDefined:o}=this.getUserBounds(),a;if(r&&o)return{min:e,max:n};let s=this.getMatchingVisibleMetas();for(let l=0,c=s.length;l<c;++l)a=s[l].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),o||(n=Math.max(n,a.max));return e=o&&e>n?n:e,n=r&&e>n?e:n,{min:vr(e,vr(n,e)),max:vr(n,vr(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Di(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:r,grace:o,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xD(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=s<this.ticks.length;this._convertTicksToLabels(l?ZD(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=c9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Di(this.options.afterUpdate,[this])}beforeSetDimensions(){Di(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Di(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Di(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Di(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n],o.label=Di(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){Di(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Di(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=XD(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation,a=r,s,l,c;if(!this._isVisible()||!e.display||r>=o||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),f=u.widest.width,y=u.highest.height,g=_n(this.chart.width-f,0,this.maxWidth);s=t.offset?this.maxWidth/n:g/(n-1),f+6>s&&(s=g/(n-(t.offset?.5:1)),l=this.maxHeight-lp(t.grid)-e.padding-KD(t.title,this.chart.options.font),c=Math.sqrt(f*f+y*y),a=T0(Math.min(Math.asin(_n((u.highest.height+6)/s,-1,1)),Math.asin(_n(l/c,-1,1))-Math.asin(_n(y/c,-1,1)))),a=Math.max(r,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Di(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Di(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:o}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){let l=KD(r,e.options.font);if(s?(t.width=this.maxWidth,t.height=lp(o)+l):(t.height=this.maxHeight,t.width=lp(o)+l),n.display&&this.ticks.length){let{first:c,last:u,widest:f,highest:y}=this._getLabelSizes(),g=n.padding*2,S=Qr(this.labelRotation),w=Math.cos(S),I=Math.sin(S);if(s){let A=n.mirror?0:I*f.width+w*y.height;t.height=Math.min(this.maxHeight,t.height+A+g)}else{let A=n.mirror?0:w*f.width+I*y.height;t.width=Math.min(this.maxWidth,t.width+A+g)}this._calculatePadding(c,u,I,w)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){let{ticks:{align:o,padding:a},position:s}=this.options,l=this.labelRotation!==0,c=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),y=0,g=0;l?c?(y=r*t.width,g=n*e.height):(y=n*t.height,g=r*e.width):o==="start"?g=e.width:o==="end"?y=t.width:o!=="inner"&&(y=t.width/2,g=e.width/2),this.paddingLeft=Math.max((y-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-f+a)*this.width/(this.width-f),0)}else{let u=e.height/2,f=t.height/2;o==="start"?(u=0,f=t.height):o==="end"&&(u=e.height,f=0),this.paddingTop=u+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Di(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)$t(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=ZD(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:r,_longestTextCache:o}=this,a=[],s=[],l=Math.floor(e/XD(e,n)),c=0,u=0,f,y,g,S,w,I,A,T,V,Z,$;for(f=0;f<e;f+=l){if(S=t[f].label,w=this._resolveTickFontOptions(f),r.font=I=w.string,A=o[I]=o[I]||{data:{},gc:[]},T=w.lineHeight,V=Z=0,!$t(S)&&!Pi(S))V=ep(r,A.data,A.gc,V,S),Z=T;else if(Pi(S))for(y=0,g=S.length;y<g;++y)$=S[y],!$t($)&&!Pi($)&&(V=ep(r,A.data,A.gc,V,$),Z+=T);a.push(V),s.push(Z),c=Math.max(V,c),u=Math.max(Z,u)}v9(o,e);let ne=a.indexOf(c),J=s.indexOf(u),U=ie=>({width:a[ie]||0,height:s[ie]||0});return{first:U(0),last:U(e-1),widest:U(ne),highest:U(J),widths:a,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return dD(this._alignToPixels?Us(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=_9(this.getContext(),t,n))}return this.$context||(this.$context=b9(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Qr(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,s=o?o.widest.width+a:0,l=o?o.highest.height+a:0;return this.isHorizontal()?l*n>s*r?s/n:l/r:l*r<s*n?l/n:s/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,r=this.options,{grid:o,position:a,border:s}=r,l=o.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),y=lp(o),g=[],S=s.setContext(this.getContext()),w=S.display?S.width:0,I=w/2,A=function(pe){return Us(n,pe,w)},T,V,Z,$,ne,J,U,ie,ge,R,B,Q;if(a==="top")T=A(this.bottom),J=this.bottom-y,ie=T-I,R=A(t.top)+I,Q=t.bottom;else if(a==="bottom")T=A(this.top),R=t.top,Q=A(t.bottom)-I,J=T+I,ie=this.top+y;else if(a==="left")T=A(this.right),ne=this.right-y,U=T-I,ge=A(t.left)+I,B=t.right;else if(a==="right")T=A(this.left),ge=t.left,B=A(t.right)-I,ne=T+I,U=this.left+y;else if(e==="x"){if(a==="center")T=A((t.top+t.bottom)/2+.5);else if(Ut(a)){let pe=Object.keys(a)[0],xe=a[pe];T=A(this.chart.scales[pe].getPixelForValue(xe))}R=t.top,Q=t.bottom,J=T+I,ie=J+y}else if(e==="y"){if(a==="center")T=A((t.left+t.right)/2);else if(Ut(a)){let pe=Object.keys(a)[0],xe=a[pe];T=A(this.chart.scales[pe].getPixelForValue(xe))}ne=T-I,U=ne-y,ge=t.left,B=t.right}let K=Mt(r.ticks.maxTicksLimit,f),me=Math.max(1,Math.ceil(f/K));for(V=0;V<f;V+=me){let pe=this.getContext(V),xe=o.setContext(pe),fe=s.setContext(pe),Se=xe.lineWidth,Me=xe.color,Ze=fe.dash||[],O=fe.dashOffset,H=xe.tickWidth,W=xe.tickColor,ee=xe.tickBorderDash||[],se=xe.tickBorderDashOffset;Z=g9(this,V,l),Z!==void 0&&($=Us(n,Z,Se),c?ne=U=ge=B=$:J=ie=R=Q=$,g.push({tx1:ne,ty1:J,tx2:U,ty2:ie,x1:ge,y1:R,x2:B,y2:Q,width:Se,color:Me,borderDash:Ze,borderDashOffset:O,tickWidth:H,tickColor:W,tickBorderDash:ee,tickBorderDashOffset:se}))}return this._ticksLength=f,this._borderValue=T,g}_computeLabelItems(t){let e=this.axis,n=this.options,{position:r,ticks:o}=n,a=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:c,padding:u,mirror:f}=o,y=lp(n.grid),g=y+u,S=f?-u:g,w=-Qr(this.labelRotation),I=[],A,T,V,Z,$,ne,J,U,ie,ge,R,B,Q="middle";if(r==="top")ne=this.bottom-S,J=this._getXAxisLabelAlignment();else if(r==="bottom")ne=this.top+S,J=this._getXAxisLabelAlignment();else if(r==="left"){let me=this._getYAxisLabelAlignment(y);J=me.textAlign,$=me.x}else if(r==="right"){let me=this._getYAxisLabelAlignment(y);J=me.textAlign,$=me.x}else if(e==="x"){if(r==="center")ne=(t.top+t.bottom)/2+g;else if(Ut(r)){let me=Object.keys(r)[0],pe=r[me];ne=this.chart.scales[me].getPixelForValue(pe)+g}J=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")$=(t.left+t.right)/2-g;else if(Ut(r)){let me=Object.keys(r)[0],pe=r[me];$=this.chart.scales[me].getPixelForValue(pe)}J=this._getYAxisLabelAlignment(y).textAlign}e==="y"&&(l==="start"?Q="top":l==="end"&&(Q="bottom"));let K=this._getLabelSizes();for(A=0,T=s.length;A<T;++A){V=s[A],Z=V.label;let me=o.setContext(this.getContext(A));U=this.getPixelForTick(A)+o.labelOffset,ie=this._resolveTickFontOptions(A),ge=ie.lineHeight,R=Pi(Z)?Z.length:1;let pe=R/2,xe=me.color,fe=me.textStrokeColor,Se=me.textStrokeWidth,Me=J;a?($=U,J==="inner"&&(A===T-1?Me=this.options.reverse?"left":"right":A===0?Me=this.options.reverse?"right":"left":Me="center"),r==="top"?c==="near"||w!==0?B=-R*ge+ge/2:c==="center"?B=-K.highest.height/2-pe*ge+ge:B=-K.highest.height+ge/2:c==="near"||w!==0?B=ge/2:c==="center"?B=K.highest.height/2-pe*ge:B=K.highest.height-R*ge,f&&(B*=-1),w!==0&&!me.showLabelBackdrop&&($+=ge/2*Math.sin(w))):(ne=U,B=(1-R)*ge/2);let Ze;if(me.showLabelBackdrop){let O=Ln(me.backdropPadding),H=K.heights[A],W=K.widths[A],ee=B-O.top,se=0-O.left;switch(Q){case"middle":ee-=H/2;break;case"bottom":ee-=H;break}switch(J){case"center":se-=W/2;break;case"right":se-=W;break;case"inner":A===T-1?se-=W:A>0&&(se-=W/2);break}Ze={left:se,top:ee,width:W+O.width,height:H+O.height,color:me.backdropColor}}I.push({label:Z,font:ie,textOffset:B,options:{rotation:w,color:xe,strokeColor:fe,strokeWidth:Se,textAlign:Me,textBaseline:Q,translation:[$,ne],backdrop:Ze}})}return I}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Qr(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,a=this._getLabelSizes(),s=t+o,l=a.widest.width,c,u;return e==="left"?r?(u=this.right+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-s,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?r?(u=this.left+o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+s,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:r,width:o,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,o,a),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,a,s=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(e.display)for(o=0,a=r.length;o<a;++o){let l=r[o];e.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),a=n.display?o.width:0;if(!a)return;let s=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,f,y;this.isHorizontal()?(c=Us(t,this.left,a)-a/2,u=Us(t,this.right,s)+s/2,f=y=l):(f=Us(t,this.top,a)-a/2,y=Us(t,this.bottom,s)+s/2,c=u=l),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(c,f),e.lineTo(u,y),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&np(n,r);let o=this.getLabelItems(t);for(let a of o){let s=a.options,l=a.font,c=a.label,u=a.textOffset;zs(n,c,0,u,l,s)}r&&rp(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;let o=mn(n.font),a=Ln(n.padding),s=n.align,l=o.lineHeight/2;e==="bottom"||e==="center"||Ut(e)?(l+=a.bottom,Pi(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=a.top;let{titleX:c,titleY:u,maxWidth:f,rotation:y}=x9(this,l,e,s);zs(t,n.text,0,0,o,{color:n.color,maxWidth:f,rotation:y,textAlign:y9(s,e,r),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=Mt(t.grid&&t.grid.z,-1),r=Mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],o,a;for(o=0,a=e.length;o<a;++o){let s=e[o];s[n]===this.id&&(!t||s.type===t)&&r.push(s)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return mn(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Md=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;S9(e)&&(n=this.register(e));let r=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,C9(t,a,n),this.override&&Ii.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in Ii[r]&&(delete Ii[r][n],this.override&&delete Vs[n])}};function C9(i,t,e){let n=xd(Object.create(null),[e?Ii.get(e):{},Ii.get(t),i.defaults]);Ii.set(t,n),i.defaultRoutes&&w9(t,i.defaultRoutes),i.descriptors&&Ii.describe(t,i.descriptors)}function w9(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),r=n.pop(),o=[i].concat(n).join("."),a=t[e].split("."),s=a.pop(),l=a.join(".");Ii.route(o,r,l,s)})}function S9(i){return"id"in i&&"defaults"in i}var gy=class{constructor(){this.controllers=new Md($s,"datasets",!0),this.elements=new Md(Io,"elements"),this.plugins=new Md(Object,"plugins"),this.scales=new Md(Xl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(r=>{let o=n||this._getRegistryForType(r);n||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ui(r,a=>{let s=n||this._getRegistryForType(a);this._exec(t,s,a)})})}_exec(t,e,n){let r=k0(t);Di(n["before"+r],[],n),e[t](n),Di(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}},na=new gy,vy=class{constructor(){this._init=[]}notify(t,e,n,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(o,t,e,n);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,n,r){r=r||{};for(let o of t){let a=o.plugin,s=a[n],l=[e,r,o.options];if(Di(s,l,a)===!1&&r.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,r=Mt(n.options&&n.options.plugins,{}),o=D9(n);return r===!1&&!e?[]:A9(t,o,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,r=(o,a)=>o.filter(s=>!a.some(l=>s.plugin.id===l.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}};function D9(i){let t={},e=[],n=Object.keys(na.plugins.items);for(let o=0;o<n.length;o++)e.push(na.getPlugin(n[o]));let r=i.plugins||[];for(let o=0;o<r.length;o++){let a=r[o];e.indexOf(a)===-1&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function I9(i,t){return!t&&i===!1?null:i===!0?{}:i}function A9(i,{plugins:t,localIds:e},n,r){let o=[],a=i.getContext();for(let s of t){let l=s.id,c=I9(n[l],r);c!==null&&o.push({plugin:s,options:E9(i.config,{plugin:s,local:e[l]},c,a)})}return o}function E9(i,{plugin:t,local:e},n,r){let o=i.pluginScopeKeys(t),a=i.getOptionScopes(n,o);return e&&t.defaults&&a.push(t.defaults),i.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function by(i,t){let e=Ii.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function k9(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function T9(i,t){return i===t?"_index_":"_value_"}function JD(i){if(i==="x"||i==="y"||i==="r")return i}function M9(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function _y(i,...t){if(JD(i))return i;for(let e of t){let n=e.axis||M9(e.position)||i.length>1&&JD(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function QD(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function P9(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return QD(i,"x",e[0])||QD(i,"y",e[0])}return{}}function O9(i,t){let e=Vs[i.type]||{scales:{}},n=t.scales||{},r=by(i.type,t),o=Object.create(null);return Object.keys(n).forEach(a=>{let s=n[a];if(!Ut(s))return console.error(`Invalid scale configuration for scale: ${a}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);let l=_y(a,s,P9(a,i),Ii.scales[s.type]),c=T9(l,r),u=e.scales||{};o[a]=wd(Object.create(null),[{axis:l},s,u[l],u[c]])}),i.data.datasets.forEach(a=>{let s=a.type||i.type,l=a.indexAxis||by(s,t),u=(Vs[s]||{}).scales||{};Object.keys(u).forEach(f=>{let y=k9(f,l),g=a[y+"AxisID"]||y;o[g]=o[g]||Object.create(null),wd(o[g],[{axis:y},n[g],u[f]])})}),Object.keys(o).forEach(a=>{let s=o[a];wd(s,[Ii.scales[s.type],Ii.scale])}),o}function VI(i){let t=i.options||(i.options={});t.plugins=Mt(t.plugins,{}),t.scales=O9(i,t)}function UI(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function N9(i){return i=i||{},i.data=UI(i.data),VI(i),i}var eI=new Map,zI=new Set;function z0(i,t){let e=eI.get(i);return e||(e=t(),eI.set(i,e),zI.add(e)),e}var cp=(i,t,e)=>{let n=ja(t,e);n!==void 0&&i.add(n)},yy=class{constructor(t){this._config=N9(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=UI(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),VI(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return z0(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return z0(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return z0(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return z0(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,r=n.get(t);return(!r||e)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){let{options:r,type:o}=this,a=this._cachedScopes(t,n),s=a.get(e);if(s)return s;let l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(f=>cp(l,t,f))),u.forEach(f=>cp(l,r,f)),u.forEach(f=>cp(l,Vs[o]||{},f)),u.forEach(f=>cp(l,Ii,f)),u.forEach(f=>cp(l,O0,f))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),zI.has(e)&&a.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,Vs[e]||{},Ii.datasets[e]||{},{type:e},Ii,O0]}resolveNamedOptions(t,e,n,r=[""]){let o={$shared:!0},{resolver:a,subPrefixes:s}=tI(this._resolverCache,t,r),l=a;if(R9(a,e)){o.$shared=!1,n=Ra(n)?n():n;let c=this.createResolver(t,n,s);l=Hl(a,n,c)}for(let c of e)o[c]=l[c];return o}createResolver(t,e,n=[""],r){let{resolver:o}=tI(this._resolverCache,t,n);return Ut(e)?Hl(o,e,void 0,r):o}};function tI(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let r=e.join(),o=n.get(r);return o||(o={resolver:R0(t,e),subPrefixes:e.filter(s=>!s.toLowerCase().includes("hover"))},n.set(r,o)),o}var L9=i=>Ut(i)&&Object.getOwnPropertyNames(i).some(t=>Ra(i[t]));function R9(i,t){let{isScriptable:e,isIndexable:n}=G1(i);for(let r of t){let o=e(r),a=n(r),s=(a||o)&&i[r];if(o&&(Ra(s)||L9(s))||a&&Pi(s))return!0}return!1}var F9="4.4.7",j9=["top","bottom","left","right","chartArea"];function iI(i,t){return i==="top"||i==="bottom"||j9.indexOf(i)===-1&&t==="x"}function nI(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function rI(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Di(e&&e.onComplete,[i],t)}function B9(i){let t=i.chart,e=t.options.animation;Di(e&&e.onProgress,[i],t)}function qI(i){return F0()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var Y0={},oI=i=>{let t=qI(i);return Object.values(Y0).filter(e=>e.canvas===t).pop()};function V9(i,t,e){let n=Object.keys(i);for(let r of n){let o=+r;if(o>=t){let a=i[r];delete i[r],(e>0||o>t)&&(i[o+e]=a)}}}function U9(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}function q0(i,t,e){return i.options.clip?i[e]:t[e]}function z9(i,t){let{xScale:e,yScale:n}=i;return e&&n?{left:q0(e,t,"left"),right:q0(e,t,"right"),top:q0(n,t,"top"),bottom:q0(n,t,"bottom")}:t}var tg=(()=>{class i{static defaults=Ii;static instances=Y0;static overrides=Vs;static registry=na;static version=F9;static getChart=oI;static register(...e){na.add(...e),aI()}static unregister(...e){na.remove(...e),aI()}constructor(e,n){let r=this.config=new yy(n),o=qI(e),a=oI(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||l9(o)),this.platform.updateConfig(r);let l=this.platform.acquireContext(o,s.aspectRatio),c=l&&l.canvas,u=c&&c.height,f=c&&c.width;if(this.id=rD(),this.ctx=l,this.canvas=c,this.width=f,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vy,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mD(y=>this.update(y),s.resizeDelay||0),this._dataChanges=[],Y0[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Va.listen(this,"complete",rI),Va.listen(this,"progress",B9),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:o,_aspectRatio:a}=this;return $t(e)?n&&a?a:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return na}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():X1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return z1(this.canvas,this.ctx),this}stop(){return Va.stop(this),this}resize(e,n){Va.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let r=this.options,o=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(o,e,n,a),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,X1(this,l,!0)&&(this.notifyPlugins("resize",{size:s}),Di(r.onResize,[this,s],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};ui(n,(r,o)=>{r.id=o})}buildOrUpdateScales(){let e=this.options,n=e.scales,r=this.scales,o=Object.keys(r).reduce((s,l)=>(s[l]=!1,s),{}),a=[];n&&(a=a.concat(Object.keys(n).map(s=>{let l=n[s],c=_y(s,l),u=c==="r",f=c==="x";return{options:l,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}}))),ui(a,s=>{let l=s.options,c=l.id,u=_y(c,l),f=Mt(l.type,s.dtype);(l.position===void 0||iI(l.position,u)!==iI(s.dposition))&&(l.position=s.dposition),o[c]=!0;let y=null;if(c in r&&r[c].type===f)y=r[c];else{let g=na.getScale(f);y=new g({id:c,type:f,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(l,e)}),ui(o,(s,l)=>{s||delete r[l]}),ui(r,s=>{Wn.configure(this,s,s.options),Wn.addBox(this,s)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((o,a)=>o.index-a.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(nI("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,o)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){let a=n[r],s=this.getDatasetMeta(r),l=a.type||this.config.type;if(s.type&&s.type!==l&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=l,s.indexAxis=a.indexAxis||by(l,this.options),s.order=a.order||0,s.index=r,s.label=""+a.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{let c=na.getController(l),{datasetElementType:u,dataElementType:f}=Ii.datasets[l];Object.assign(c,{dataElementType:na.getElement(f),datasetElementType:u&&na.getElement(u)}),s.controller=new c(this,r),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){ui(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,f=this.data.datasets.length;u<f;u++){let{controller:y}=this.getDatasetMeta(u),g=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(g),s=Math.max(+y.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),o||ui(a,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(nI("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ui(this.scales,e=>{Wn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!k1(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:a}of n){let s=r==="_removeElements"?-a:a;V9(e,o,s)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=a=>new Set(e.filter(s=>s[0]===a).map((s,l)=>l+","+s.splice(1).join(","))),o=r(0);for(let a=1;a<n;a++)if(!k1(o,r(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wn.update(this,this.width,this.height,e);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ui(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ra(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let r=this.getDatasetMeta(e),o={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Va.has(this)?this.attached&&!Va.running(this)&&Va.start(this):(this.draw(),rI({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,r=[],o,a;for(o=0,a=n.length;o<a;++o){let s=n[o];(!e||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,r=e._clip,o=!r.disabled,a=z9(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(o&&np(n,{left:r.left===!1?0:a.left-r.left,right:r.right===!1?this.width:a.right+r.right,top:r.top===!1?0:a.top-r.top,bottom:r.bottom===!1?this.height:a.bottom+r.bottom}),e.controller.draw(),o&&rp(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Qo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,o){let a=qV.modes[n];return typeof a=="function"?a(this,e,r,o):[]}getDatasetMeta(e){let n=this.data.datasets[e],r=this._metasets,o=r.filter(a=>a&&a._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Ba(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){let r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){let o=r?"show":"hide",a=this.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,o);Sd(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),s.update(a,{visible:r}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Va.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),z1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Y0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,r=(a,s)=>{n.addEventListener(this,a,s),e[a]=s},o=(a,s,l)=>{a.offsetX=s,a.offsetY=l,this._eventHandler(a)};ui(this.options.events,a=>r(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,r=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},o=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},a=(c,u)=>{this.canvas&&this.resize(c,u)},s,l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",a),r("detach",s)};s=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():s()}unbindEvents(){ui(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ui(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){let o=r?"set":"remove",a,s,l,c;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){s=e[l];let u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[o+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],r=e.map(({datasetIndex:a,index:s})=>{let l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[s],index:s}});!tp(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){let o=this.options.hover,a=(c,u)=>c.filter(f=>!u.some(y=>f.datasetIndex===y.datasetIndex&&f.index===y.index)),s=a(n,e),l=r?e:a(e,n);s.length&&this.updateHoverStyle(s,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,n){let r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){let{_active:o=[],options:a}=this,s=n,l=this._getActiveElements(e,o,r,s),c=sD(e),u=U9(e,this._lastEvent,r,c);r&&(this._lastEvent=null,Di(a.onHover,[e,l,this],this),c&&Di(a.onClick,[e,l,this],this));let f=!tp(l,o);return(f||n)&&(this._active=l,this._updateHoverStyles(l,o,n)),this._lastEvent=u,f}_getActiveElements(e,n,r,o){if(e.type==="mouseout")return[];if(!r)return n;let a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}}return i})();function aI(){return ui(tg.instances,i=>i._plugins.invalidate())}function q9(i,t,e){let{startAngle:n,pixelMargin:r,x:o,y:a,outerRadius:s,innerRadius:l}=t,c=r/s;i.beginPath(),i.arc(o,a,s,n-c,e+c),l>r?(c=r/l,i.arc(o,a,l,e+c,n-c,!0)):i.arc(o,a,r,e+Ji,n-Ji),i.closePath(),i.clip()}function H9(i){return L0(i,["outerStart","outerEnd","innerStart","innerEnd"])}function G9(i,t,e,n){let r=H9(i.options.borderRadius),o=(e-t)/2,a=Math.min(o,n*t/2),s=l=>{let c=(e-Math.min(o,l))*n/2;return _n(l,0,Math.min(o,c))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:_n(r.innerStart,0,a),innerEnd:_n(r.innerEnd,0,a)}}function Td(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function J0(i,t,e,n,r,o){let{x:a,y:s,startAngle:l,pixelMargin:c,innerRadius:u}=t,f=Math.max(t.outerRadius+n+e-c,0),y=u>0?u+n+e+c:0,g=0,S=r-l;if(n){let me=u>0?u-n:0,pe=f>0?f-n:0,xe=(me+pe)/2,fe=xe!==0?S*xe/(xe+n):S;g=(S-fe)/2}let w=Math.max(.001,S*f-e/Oi)/f,I=(S-w)/2,A=l+I+g,T=r-I-g,{outerStart:V,outerEnd:Z,innerStart:$,innerEnd:ne}=G9(t,y,f,T-A),J=f-V,U=f-Z,ie=A+V/J,ge=T-Z/U,R=y+$,B=y+ne,Q=A+$/R,K=T-ne/B;if(i.beginPath(),o){let me=(ie+ge)/2;if(i.arc(a,s,f,ie,me),i.arc(a,s,f,me,ge),Z>0){let Se=Td(U,ge,a,s);i.arc(Se.x,Se.y,Z,ge,T+Ji)}let pe=Td(B,T,a,s);if(i.lineTo(pe.x,pe.y),ne>0){let Se=Td(B,K,a,s);i.arc(Se.x,Se.y,ne,T+Ji,K+Math.PI)}let xe=(T-ne/y+(A+$/y))/2;if(i.arc(a,s,y,T-ne/y,xe,!0),i.arc(a,s,y,xe,A+$/y,!0),$>0){let Se=Td(R,Q,a,s);i.arc(Se.x,Se.y,$,Q+Math.PI,A-Ji)}let fe=Td(J,A,a,s);if(i.lineTo(fe.x,fe.y),V>0){let Se=Td(J,ie,a,s);i.arc(Se.x,Se.y,V,A-Ji,ie)}}else{i.moveTo(a,s);let me=Math.cos(ie)*f+a,pe=Math.sin(ie)*f+s;i.lineTo(me,pe);let xe=Math.cos(ge)*f+a,fe=Math.sin(ge)*f+s;i.lineTo(xe,fe)}i.closePath()}function $9(i,t,e,n,r){let{fullCircles:o,startAngle:a,circumference:s}=t,l=t.endAngle;if(o){J0(i,t,e,n,l,r);for(let c=0;c<o;++c)i.fill();isNaN(s)||(l=a+(s%Ni||Ni))}return J0(i,t,e,n,l,r),i.fill(),l}function W9(i,t,e,n,r){let{fullCircles:o,startAngle:a,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:f,borderDashOffset:y}=l,g=l.borderAlign==="inner";if(!c)return;i.setLineDash(f||[]),i.lineDashOffset=y,g?(i.lineWidth=c*2,i.lineJoin=u||"round"):(i.lineWidth=c,i.lineJoin=u||"bevel");let S=t.endAngle;if(o){J0(i,t,e,n,S,r);for(let w=0;w<o;++w)i.stroke();isNaN(s)||(S=a+(s%Ni||Ni))}g&&q9(i,t,S),o||(J0(i,t,e,n,S,r),i.stroke())}var xy=class extends Io{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let r=this.getProps(["x","y"],n),{angle:o,distance:a}=O1(r,{x:t,y:e}),{startAngle:s,endAngle:l,innerRadius:c,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),y=(this.options.spacing+this.options.borderWidth)/2,g=Mt(f,l-s),S=Id(o,s,l)&&s!==l,w=g>=Ni||S,I=ta(a,c+y,u+y);return w&&I}getCenterPoint(t){let{x:e,y:n,startAngle:r,endAngle:o,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,u=(r+o)/2,f=(a+s+c+l)/2;return{x:e+Math.cos(u)*f,y:n+Math.sin(u)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>Ni?Math.floor(n/Ni):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*r,Math.sin(s)*r);let l=1-Math.sin(Math.min(Oi,n||0)),c=r*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,$9(t,this,c,o,a),W9(t,this,c,o,a),t.restore()}};function HI(i,t,e=t){i.lineCap=Mt(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Mt(e.borderDash,t.borderDash)),i.lineDashOffset=Mt(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Mt(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Mt(e.borderWidth,t.borderWidth),i.strokeStyle=Mt(e.borderColor,t.borderColor)}function Y9(i,t,e){i.lineTo(e.x,e.y)}function X9(i){return i.stepped?_D:i.tension||i.cubicInterpolationMode==="monotone"?yD:Y9}function GI(i,t,e={}){let n=i.length,{start:r=0,end:o=n-1}=e,{start:a,end:s}=t,l=Math.max(r,a),c=Math.min(o,s),u=r<a&&o<a||r>s&&o>s;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function Z9(i,t,e,n){let{points:r,options:o}=t,{count:a,start:s,loop:l,ilen:c}=GI(r,e,n),u=X9(o),{move:f=!0,reverse:y}=n||{},g,S,w;for(g=0;g<=c;++g)S=r[(s+(y?c-g:g))%a],!S.skip&&(f?(i.moveTo(S.x,S.y),f=!1):u(i,w,S,y,o.stepped),w=S);return l&&(S=r[(s+(y?c:0))%a],u(i,w,S,y,o.stepped)),!!l}function K9(i,t,e,n){let r=t.points,{count:o,start:a,ilen:s}=GI(r,e,n),{move:l=!0,reverse:c}=n||{},u=0,f=0,y,g,S,w,I,A,T=Z=>(a+(c?s-Z:Z))%o,V=()=>{w!==I&&(i.lineTo(u,I),i.lineTo(u,w),i.lineTo(u,A))};for(l&&(g=r[T(0)],i.moveTo(g.x,g.y)),y=0;y<=s;++y){if(g=r[T(y)],g.skip)continue;let Z=g.x,$=g.y,ne=Z|0;ne===S?($<w?w=$:$>I&&(I=$),u=(f*u+Z)/++f):(V(),i.lineTo(Z,$),S=ne,f=0,w=I=$),A=$}V()}function Cy(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?K9:Z9}function J9(i){return i.stepped?kD:i.tension||i.cubicInterpolationMode==="monotone"?TD:Bs}function Q9(i,t,e,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,n)&&r.closePath()),HI(i,t.options),i.stroke(r)}function eU(i,t,e,n){let{segments:r,options:o}=t,a=Cy(t);for(let s of r)HI(i,o,s.style),i.beginPath(),a(i,t,s,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}var tU=typeof Path2D=="function";function iU(i,t,e,n){tU&&!t.options.segment?Q9(i,t,e,n):eU(i,t,e,n)}var ig=(()=>{class i extends Io{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;ID(this._points,r,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=PD(this,this.options.segment))}first(){let e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){let e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){let r=this.options,o=e[n],a=this.points,s=ey(this,{property:n,start:o,end:o});if(!s.length)return;let l=[],c=J9(r),u,f;for(u=0,f=s.length;u<f;++u){let{start:y,end:g}=s[u],S=a[y],w=a[g];if(S===w){l.push(S);continue}let I=Math.abs((o-S[n])/(w[n]-S[n])),A=c(S,w,I,r.stepped);A[n]=e[n],l.push(A)}return l.length===1?l[0]:l}pathSegment(e,n,r){return Cy(this)(e,this,n,r)}path(e,n,r){let o=this.segments,a=Cy(this),s=this._loop;n=n||0,r=r||this.points.length-n;for(let l of o)s&=a(e,this,l,{start:n,end:n+r-1});return!!s}draw(e,n,r,o){let a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),iU(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function sI(i,t,e,n){let r=i.options,{[e]:o}=i.getProps([e],n);return Math.abs(t-o)<r.radius+r.hitRadius}var nU=(()=>{class i extends Io{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){let o=this.options,{x:a,y:s}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(n-s,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,n){return sI(this,e,"x",n)}inYRange(e,n){return sI(this,e,"y",n)}getCenterPoint(e){let{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);let r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){let r=this.options;this.skip||r.radius<.1||!Qo(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,N0(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function $I(i,t){let{x:e,y:n,base:r,width:o,height:a}=i.getProps(["x","y","base","width","height"],t),s,l,c,u,f;return i.horizontal?(f=a/2,s=Math.min(e,r),l=Math.max(e,r),c=n-f,u=n+f):(f=o/2,s=e-f,l=e+f,c=Math.min(n,r),u=Math.max(n,r)),{left:s,top:c,right:l,bottom:u}}function Gs(i,t,e,n){return i?0:_n(t,e,n)}function rU(i,t,e){let n=i.options.borderWidth,r=i.borderSkipped,o=H1(n);return{t:Gs(r.top,o.top,0,e),r:Gs(r.right,o.right,0,t),b:Gs(r.bottom,o.bottom,0,e),l:Gs(r.left,o.left,0,t)}}function oU(i,t,e){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,o=qs(r),a=Math.min(t,e),s=i.borderSkipped,l=n||Ut(r);return{topLeft:Gs(!l||s.top||s.left,o.topLeft,0,a),topRight:Gs(!l||s.top||s.right,o.topRight,0,a),bottomLeft:Gs(!l||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:Gs(!l||s.bottom||s.right,o.bottomRight,0,a)}}function aU(i){let t=$I(i),e=t.right-t.left,n=t.bottom-t.top,r=rU(i,e/2,n/2),o=oU(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function ly(i,t,e,n){let r=t===null,o=e===null,s=i&&!(r&&o)&&$I(i,n);return s&&(r||ta(t,s.left,s.right))&&(o||ta(e,s.top,s.bottom))}function sU(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function lU(i,t){i.rect(t.x,t.y,t.w,t.h)}function cy(i,t,e={}){let n=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,o=(i.x+i.w!==e.x+e.w?t:0)-n,a=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+o,h:i.h+a,radius:i.radius}}var wy=class extends Io{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:a}=aU(this),s=sU(a.radius)?Ed:lU;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),s(t,cy(a,e,o)),t.clip(),s(t,cy(o,-e,a)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),s(t,cy(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return ly(this,t,e,n)}inXRange(t,e){return ly(this,t,null,e)}inYRange(t,e){return ly(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},cU=Object.freeze({__proto__:null,ArcElement:xy,BarElement:wy,LineElement:ig,PointElement:nU}),Sy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lI=Sy.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function WI(i){return Sy[i%Sy.length]}function YI(i){return lI[i%lI.length]}function dU(i,t){return i.borderColor=WI(t),i.backgroundColor=YI(t),++t}function uU(i,t){return i.backgroundColor=i.data.map(()=>WI(t++)),t}function hU(i,t){return i.backgroundColor=i.data.map(()=>YI(t++)),t}function pU(i){let t=0;return(e,n)=>{let r=i.getDatasetMeta(n).controller;r instanceof Py?t=uU(e,t):r instanceof LI?t=hU(e,t):r&&(t=dU(e,t))}}function cI(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function fU(i){return i&&(i.borderColor||i.backgroundColor)}function mU(){return Ii.borderColor!=="rgba(0,0,0,0.1)"||Ii.backgroundColor!=="rgba(0,0,0,0.1)"}var gU={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:n},options:r}=i.config,{elements:o}=r,a=cI(n)||fU(r)||o&&cI(o)||mU();if(!e.forceOverride&&a)return;let s=pU(i);n.forEach(s)}};function vU(i,t,e,n,r){let o=r.samples||n;if(o>=e)return i.slice(t,t+e);let a=[],s=(e-2)/(o-2),l=0,c=t+e-1,u=t,f,y,g,S,w;for(a[l++]=i[u],f=0;f<o-2;f++){let I=0,A=0,T,V=Math.floor((f+1)*s)+1+t,Z=Math.min(Math.floor((f+2)*s)+1,e)+t,$=Z-V;for(T=V;T<Z;T++)I+=i[T].x,A+=i[T].y;I/=$,A/=$;let ne=Math.floor(f*s)+1+t,J=Math.min(Math.floor((f+1)*s)+1,e)+t,{x:U,y:ie}=i[u];for(g=S=-1,T=ne;T<J;T++)S=.5*Math.abs((U-I)*(i[T].y-ie)-(U-i[T].x)*(A-ie)),S>g&&(g=S,y=i[T],w=T);a[l++]=y,u=w}return a[l++]=i[c],a}function bU(i,t,e,n){let r=0,o=0,a,s,l,c,u,f,y,g,S,w,I=[],A=t+e-1,T=i[t].x,Z=i[A].x-T;for(a=t;a<t+e;++a){s=i[a],l=(s.x-T)/Z*n,c=s.y;let $=l|0;if($===u)c<S?(S=c,f=a):c>w&&(w=c,y=a),r=(o*r+s.x)/++o;else{let ne=a-1;if(!$t(f)&&!$t(y)){let J=Math.min(f,y),U=Math.max(f,y);J!==g&&J!==ne&&I.push(Fe(de({},i[J]),{x:r})),U!==g&&U!==ne&&I.push(Fe(de({},i[U]),{x:r}))}a>0&&ne!==g&&I.push(i[ne]),I.push(s),u=$,o=0,S=w=c,f=y=g=a}}return I}function XI(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function dI(i){i.data.datasets.forEach(t=>{XI(t)})}function _U(i,t){let e=t.length,n=0,r,{iScale:o}=i,{min:a,max:s,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=_n(Jo(t,o.axis,a).lo,0,e-1)),c?r=_n(Jo(t,o.axis,s).hi+1,n,e)-n:r=e-n,{start:n,count:r}}var yU={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){dI(i);return}let n=i.width;i.data.datasets.forEach((r,o)=>{let{_data:a,indexAxis:s}=r,l=i.getDatasetMeta(o),c=a||r.data;if(kd([s,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=i.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||i.options.parsing)return;let{start:f,count:y}=_U(l,c),g=e.threshold||4*n;if(y<=g){XI(r);return}$t(a)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let S;switch(e.algorithm){case"lttb":S=vU(c,f,y,n,e);break;case"min-max":S=bU(c,f,y,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=S})},destroy(i){dI(i)}};function xU(i,t,e){let n=i.segments,r=i.points,o=t.points,a=[];for(let s of n){let{start:l,end:c}=s;c=Oy(l,c,r);let u=Dy(e,r[l],r[c],s.loop);if(!t.segments){a.push({source:s,target:u,start:r[l],end:r[c]});continue}let f=ey(t,u);for(let y of f){let g=Dy(e,o[y.start],o[y.end],y.loop),S=Q1(s,r,g);for(let w of S)a.push({source:w,target:y,start:{[e]:uI(u,g,"start",Math.max)},end:{[e]:uI(u,g,"end",Math.min)}})}}return a}function Dy(i,t,e,n){if(n)return;let r=t[i],o=e[i];return i==="angle"&&(r=gr(r),o=gr(o)),{property:i,start:r,end:o}}function CU(i,t){let{x:e=null,y:n=null}=i||{},r=t.points,o=[];return t.segments.forEach(({start:a,end:s})=>{s=Oy(a,s,r);let l=r[a],c=r[s];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):e!==null&&(o.push({x:e,y:l.y}),o.push({x:e,y:c.y}))}),o}function Oy(i,t,e){for(;t>i;t--){let n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function uI(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function ZI(i,t){let e=[],n=!1;return Pi(i)?(n=!0,e=i):e=CU(i,t),e.length?new ig({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function hI(i){return i&&i.fill!==!1}function wU(i,t,e){let r=i[t].fill,o=[t],a;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!$i(r))return r;if(a=i[r],!a)return!1;if(a.visible)return r;o.push(r),r=a.fill}return!1}function SU(i,t,e){let n=EU(i);if(Ut(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return $i(r)&&Math.floor(r)===r?DU(n[0],t,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function DU(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function IU(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:Ut(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function AU(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:Ut(i)?n=i.value:n=t.getBaseValue(),n}function EU(i){let t=i.options,e=t.fill,n=Mt(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function kU(i){let{scale:t,index:e,line:n}=i,r=[],o=n.segments,a=n.points,s=TU(t,e);s.push(ZI({x:null,y:t.bottom},n));for(let l=0;l<o.length;l++){let c=o[l];for(let u=c.start;u<=c.end;u++)MU(r,a[u],s)}return new ig({points:r,options:{}})}function TU(i,t){let e=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let o=n[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function MU(i,t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],{first:a,last:s,point:l}=PU(o,t,"x");if(!(!l||a&&s)){if(a)n.unshift(l);else if(i.push(l),!s)break}}i.push(...n)}function PU(i,t,e){let n=i.interpolate(t,e);if(!n)return{};let r=n[e],o=i.segments,a=i.points,s=!1,l=!1;for(let c=0;c<o.length;c++){let u=o[c],f=a[u.start][e],y=a[u.end][e];if(ta(r,f,y)){s=r===f,l=r===y;break}}return{first:s,last:l,point:n}}var Q0=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){let{x:r,y:o,radius:a}=this;return e=e||{start:0,end:Ni},t.arc(r,o,a,e.end,e.start,!0),!n.bounds}interpolate(t){let{x:e,y:n,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:n+Math.sin(o)*r,angle:o}}};function OU(i){let{chart:t,fill:e,line:n}=i;if($i(e))return NU(t,e);if(e==="stack")return kU(i);if(e==="shape")return!0;let r=LU(i);return r instanceof Q0?r:ZI(r,n)}function NU(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function LU(i){return(i.scale||{}).getPointPositionForValue?FU(i):RU(i)}function RU(i){let{scale:t={},fill:e}=i,n=IU(e,t);if($i(n)){let r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function FU(i){let{scale:t,fill:e}=i,n=t.options,r=t.getLabels().length,o=n.reverse?t.max:t.min,a=AU(e,t,o),s=[];if(n.grid.circular){let l=t.getPointPositionForValue(0,o);return new Q0({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(a)})}for(let l=0;l<r;++l)s.push(t.getPointPositionForValue(l,a));return s}function dy(i,t,e){let n=OU(t),{line:r,scale:o,axis:a}=t,s=r.options,l=s.fill,c=s.backgroundColor,{above:u=c,below:f=c}=l||{};n&&r.points.length&&(np(i,e),jU(i,{line:r,target:n,above:u,below:f,area:e,scale:o,axis:a}),rp(i))}function jU(i,t){let{line:e,target:n,above:r,below:o,area:a,scale:s}=t,l=e._loop?"angle":t.axis;i.save(),l==="x"&&o!==r&&(pI(i,n,a.top),fI(i,{line:e,target:n,color:r,scale:s,property:l}),i.restore(),i.save(),pI(i,n,a.bottom)),fI(i,{line:e,target:n,color:o,scale:s,property:l}),i.restore()}function pI(i,t,e){let{segments:n,points:r}=t,o=!0,a=!1;i.beginPath();for(let s of n){let{start:l,end:c}=s,u=r[l],f=r[Oy(l,c,r)];o?(i.moveTo(u.x,u.y),o=!1):(i.lineTo(u.x,e),i.lineTo(u.x,u.y)),a=!!t.pathSegment(i,s,{move:a}),a?i.closePath():i.lineTo(f.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function fI(i,t){let{line:e,target:n,property:r,color:o,scale:a}=t,s=xU(e,n,r);for(let{source:l,target:c,start:u,end:f}of s){let{style:{backgroundColor:y=o}={}}=l,g=n!==!0;i.save(),i.fillStyle=y,BU(i,a,g&&Dy(r,u,f)),i.beginPath();let S=!!e.pathSegment(i,l),w;if(g){S?i.closePath():mI(i,n,f,r);let I=!!n.pathSegment(i,c,{move:S,reverse:!0});w=S&&I,w||mI(i,n,u,r)}i.closePath(),i.fill(w?"evenodd":"nonzero"),i.restore()}}function BU(i,t,e){let{top:n,bottom:r}=t.chart.chartArea,{property:o,start:a,end:s}=e||{};o==="x"&&(i.beginPath(),i.rect(a,n,s-a,r-n),i.clip())}function mI(i,t,e,n){let r=t.interpolate(e,n);r&&i.lineTo(r.x,r.y)}var VU={id:"filler",afterDatasetsUpdate(i,t,e){let n=(i.data.datasets||[]).length,r=[],o,a,s,l;for(a=0;a<n;++a)o=i.getDatasetMeta(a),s=o.dataset,l=null,s&&s.options&&s instanceof ig&&(l={visible:i.isDatasetVisible(a),index:a,fill:SU(s,a,n),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:s}),o.$filler=l,r.push(l);for(a=0;a<n;++a)l=r[a],!(!l||l.fill===!1)&&(l.fill=wU(r,a,e.propagate))},beforeDraw(i,t,e){let n=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let a=r.length-1;a>=0;--a){let s=r[a].$filler;s&&(s.line.updateControlPoints(o,s.axis),n&&s.fill&&dy(i.ctx,s,o))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let o=n[r].$filler;hI(o)&&dy(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,t,e){let n=t.meta.$filler;!hI(n)||e.drawTime!=="beforeDatasetDraw"||dy(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},gI=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},UU=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,eg=class extends Io{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Di(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,r=mn(n.font),o=r.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=gI(n,o),c,u;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,o,s,l)+10):(u=this.maxHeight,c=this._fitCols(a,r,s,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){let{ctx:o,maxWidth:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+s,f=t;o.textAlign="left",o.textBaseline="middle";let y=-1,g=-u;return this.legendItems.forEach((S,w)=>{let I=n+e/2+o.measureText(S.text).width;(w===0||c[c.length-1]+I+2*s>a)&&(f+=u,c[c.length-(w>0?0:1)]=0,g+=u,y++),l[w]={left:0,top:g,row:y,width:I,height:r},c[c.length-1]+=I+s}),f}_fitCols(t,e,n,r){let{ctx:o,maxHeight:a,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-t,f=s,y=0,g=0,S=0,w=0;return this.legendItems.forEach((I,A)=>{let{itemWidth:T,itemHeight:V}=zU(n,e,o,I,r);A>0&&g+V+2*s>u&&(f+=y+s,c.push({width:y,height:g}),S+=y+s,w++,y=g=0),l[A]={left:S,top:g,col:w,width:T,height:V},y=Math.max(y,T),g+=V+s}),f+=y,c.push({width:y,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:o}}=this,a=$l(o,this.left,this.width);if(this.isHorizontal()){let s=0,l=Nn(n,this.left+r,this.right-this.lineWidths[s]);for(let c of e)s!==c.row&&(s=c.row,l=Nn(n,this.left+r,this.right-this.lineWidths[s])),c.top+=this.top+t+r,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+r}else{let s=0,l=Nn(n,this.top+t+r,this.bottom-this.columnSizes[s].height);for(let c of e)c.col!==s&&(s=c.col,l=Nn(n,this.top+t+r,this.bottom-this.columnSizes[s].height)),c.top=l,c.left+=this.left+r,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;np(t,this),this._draw(),rp(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:o,labels:a}=t,s=Ii.color,l=$l(t.rtl,this.left,this.width),c=mn(a.font),{padding:u}=a,f=c.size,y=f/2,g;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:S,boxHeight:w,itemHeight:I}=gI(a,f),A=function(ne,J,U){if(isNaN(S)||S<=0||isNaN(w)||w<0)return;r.save();let ie=Mt(U.lineWidth,1);if(r.fillStyle=Mt(U.fillStyle,s),r.lineCap=Mt(U.lineCap,"butt"),r.lineDashOffset=Mt(U.lineDashOffset,0),r.lineJoin=Mt(U.lineJoin,"miter"),r.lineWidth=ie,r.strokeStyle=Mt(U.strokeStyle,s),r.setLineDash(Mt(U.lineDash,[])),a.usePointStyle){let ge={radius:w*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:ie},R=l.xPlus(ne,S/2),B=J+y;q1(r,ge,R,B,a.pointStyleWidth&&S)}else{let ge=J+Math.max((f-w)/2,0),R=l.leftForLtr(ne,S),B=qs(U.borderRadius);r.beginPath(),Object.values(B).some(Q=>Q!==0)?Ed(r,{x:R,y:ge,w:S,h:w,radius:B}):r.rect(R,ge,S,w),r.fill(),ie!==0&&r.stroke()}r.restore()},T=function(ne,J,U){zs(r,U.text,ne,J+I/2,c,{strikethrough:U.hidden,textAlign:l.textAlign(U.textAlign)})},V=this.isHorizontal(),Z=this._computeTitleHeight();V?g={x:Nn(o,this.left+u,this.right-n[0]),y:this.top+u+Z,line:0}:g={x:this.left+u,y:Nn(o,this.top+Z+u,this.bottom-e[0].height),line:0},K1(this.ctx,t.textDirection);let $=I+u;this.legendItems.forEach((ne,J)=>{r.strokeStyle=ne.fontColor,r.fillStyle=ne.fontColor;let U=r.measureText(ne.text).width,ie=l.textAlign(ne.textAlign||(ne.textAlign=a.textAlign)),ge=S+y+U,R=g.x,B=g.y;l.setWidth(this.width),V?J>0&&R+ge+u>this.right&&(B=g.y+=$,g.line++,R=g.x=Nn(o,this.left+u,this.right-n[g.line])):J>0&&B+$>this.bottom&&(R=g.x=R+e[g.line].width+u,g.line++,B=g.y=Nn(o,this.top+Z+u,this.bottom-e[g.line].height));let Q=l.x(R);if(A(Q,B,ne),R=gD(ie,R+S+y,V?R+ge:this.right,t.rtl),T(l.x(R),B,ne),V)g.x+=ge+u;else if(typeof ne.text!="string"){let K=c.lineHeight;g.y+=KI(ne,K)+u}else g.y+=$}),J1(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,n=mn(e.font),r=Ln(e.padding);if(!e.display)return;let o=$l(t.rtl,this.left,this.width),a=this.ctx,s=e.position,l=n.size/2,c=r.top+l,u,f=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),u=this.top+c,f=Nn(t.align,f,this.right-y);else{let S=this.columnSizes.reduce((w,I)=>Math.max(w,I.height),0);u=c+Nn(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}let g=Nn(s,f,f+y);a.textAlign=o.textAlign(P0(s)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=n.string,zs(a,e.text,g,u,n)}_computeTitleHeight(){let t=this.options.title,e=mn(t.font),n=Ln(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,o;if(ta(t,this.left,this.right)&&ta(e,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],ta(t,r.left,r.left+r.width)&&ta(e,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){let e=this.options;if(!GU(t.type,e))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,o=UU(r,n);r&&!o&&Di(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!o&&Di(e.onHover,[t,n,this],this)}else n&&Di(e.onClick,[t,n,this],this)}};function zU(i,t,e,n,r){let o=qU(n,i,t,e),a=HU(r,n,t.lineHeight);return{itemWidth:o,itemHeight:a}}function qU(i,t,e,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((o,a)=>o.length>a.length?o:a)),t+e.size/2+n.measureText(r).width}function HU(i,t,e){let n=i;return typeof t.text!="string"&&(n=KI(t,e)),n}function KI(i,t){let e=i.text?i.text.length:0;return t*e}function GU(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var $U={id:"legend",_element:eg,start(i,t,e){let n=i.legend=new eg({ctx:i.ctx,options:e,chart:i});Wn.configure(i,n,e),Wn.addBox(i,n)},stop(i){Wn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let n=i.legend;Wn.configure(i,n,e),n.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let n=t.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:o,useBorderRadius:a,borderRadius:s}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),u=Ln(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(s||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},pp=class extends Io{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=Pi(n.text)?n.text.length:1;this._padding=Ln(n.padding);let o=r*mn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:n,bottom:r,right:o,options:a}=this,s=a.align,l=0,c,u,f;return this.isHorizontal()?(u=Nn(s,n,o),f=e+t,c=o-n):(a.position==="left"?(u=n+t,f=Nn(s,r,e),l=Oi*-.5):(u=o-t,f=Nn(s,e,r),l=Oi*.5),c=r-e),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let n=mn(e.font),o=n.lineHeight/2+this._padding.top,{titleX:a,titleY:s,maxWidth:l,rotation:c}=this._drawArgs(o);zs(t,e.text,0,0,n,{color:e.color,maxWidth:l,rotation:c,textAlign:P0(e.align),textBaseline:"middle",translation:[a,s]})}};function WU(i,t){let e=new pp({ctx:i.ctx,options:t,chart:i});Wn.configure(i,e,t),Wn.addBox(i,e),i.titleBlock=e}var YU={id:"title",_element:pp,start(i,t,e){WU(i,e)},stop(i){let t=i.titleBlock;Wn.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let n=i.titleBlock;Wn.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},H0=new WeakMap,XU={id:"subtitle",start(i,t,e){let n=new pp({ctx:i.ctx,options:e,chart:i});Wn.configure(i,n,e),Wn.addBox(i,n),H0.set(i,n)},stop(i){Wn.removeBox(i,H0.get(i)),H0.delete(i)},beforeUpdate(i,t,e){let n=H0.get(i);Wn.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},up={average(i){if(!i.length)return!1;let t,e,n=new Set,r=0,o=0;for(t=0,e=i.length;t<e;++t){let s=i[t].element;if(s&&s.hasValue()){let l=s.tooltipPosition();n.add(l.x),r+=l.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((s,l)=>s+l)/n.size,y:r/o}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,r=Number.POSITIVE_INFINITY,o,a,s;for(o=0,a=i.length;o<a;++o){let l=i[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=A0(t,c);u<r&&(r=u,s=l)}}if(s){let l=s.tooltipPosition();e=l.x,n=l.y}return{x:e,y:n}}};function ia(i,t){return t&&(Pi(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Ua(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function ZU(i,t){let{element:e,datasetIndex:n,index:r}=t,o=i.getDatasetMeta(n).controller,{label:a,value:s}=o.getLabelAndValue(r);return{chart:i,label:a,parsed:o.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:s,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function vI(i,t){let e=i.chart.ctx,{body:n,footer:r,title:o}=i,{boxWidth:a,boxHeight:s}=t,l=mn(t.bodyFont),c=mn(t.titleFont),u=mn(t.footerFont),f=o.length,y=r.length,g=n.length,S=Ln(t.padding),w=S.height,I=0,A=n.reduce((Z,$)=>Z+$.before.length+$.lines.length+$.after.length,0);if(A+=i.beforeBody.length+i.afterBody.length,f&&(w+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),A){let Z=t.displayColors?Math.max(s,l.lineHeight):l.lineHeight;w+=g*Z+(A-g)*l.lineHeight+(A-1)*t.bodySpacing}y&&(w+=t.footerMarginTop+y*u.lineHeight+(y-1)*t.footerSpacing);let T=0,V=function(Z){I=Math.max(I,e.measureText(Z).width+T)};return e.save(),e.font=c.string,ui(i.title,V),e.font=l.string,ui(i.beforeBody.concat(i.afterBody),V),T=t.displayColors?a+2+t.boxPadding:0,ui(n,Z=>{ui(Z.before,V),ui(Z.lines,V),ui(Z.after,V)}),T=0,e.font=u.string,ui(i.footer,V),e.restore(),I+=S.width,{width:I,height:w}}function KU(i,t){let{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function JU(i,t,e,n){let{x:r,width:o}=n,a=e.caretSize+e.caretPadding;if(i==="left"&&r+o+a>t.width||i==="right"&&r-o-a<0)return!0}function QU(i,t,e,n){let{x:r,width:o}=e,{width:a,chartArea:{left:s,right:l}}=i,c="center";return n==="center"?c=r<=(s+l)/2?"left":"right":r<=o/2?c="left":r>=a-o/2&&(c="right"),JU(c,i,t,e)&&(c="center"),c}function bI(i,t,e){let n=e.yAlign||t.yAlign||KU(i,e);return{xAlign:e.xAlign||t.xAlign||QU(i,t,e,n),yAlign:n}}function ez(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function tz(i,t,e){let{y:n,height:r}=i;return t==="top"?n+=e:t==="bottom"?n-=r+e:n-=r/2,n}function _I(i,t,e,n){let{caretSize:r,caretPadding:o,cornerRadius:a}=i,{xAlign:s,yAlign:l}=e,c=r+o,{topLeft:u,topRight:f,bottomLeft:y,bottomRight:g}=qs(a),S=ez(t,s),w=tz(t,l,c);return l==="center"?s==="left"?S+=c:s==="right"&&(S-=c):s==="left"?S-=Math.max(u,y)+r:s==="right"&&(S+=Math.max(f,g)+r),{x:_n(S,0,n.width-t.width),y:_n(w,0,n.height-t.height)}}function G0(i,t,e){let n=Ln(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function yI(i){return ia([],Ua(i))}function iz(i,t,e){return Ba(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function xI(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var JI={beforeTitle:ea,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:ea,beforeBody:ea,beforeLabel:ea,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return $t(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ea,afterBody:ea,beforeFooter:ea,footer:ea,afterFooter:ea};function br(i,t,e,n){let r=i[t].call(e,n);return typeof r>"u"?JI[t].call(e,n):r}var CI=(()=>{class i extends Io{static positioners=up;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,a=new X0(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=iz(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){let{callbacks:r}=n,o=br(r,"beforeTitle",this,e),a=br(r,"title",this,e),s=br(r,"afterTitle",this,e),l=[];return l=ia(l,Ua(o)),l=ia(l,Ua(a)),l=ia(l,Ua(s)),l}getBeforeBody(e,n){return yI(br(n.callbacks,"beforeBody",this,e))}getBody(e,n){let{callbacks:r}=n,o=[];return ui(e,a=>{let s={before:[],lines:[],after:[]},l=xI(r,a);ia(s.before,Ua(br(l,"beforeLabel",this,a))),ia(s.lines,br(l,"label",this,a)),ia(s.after,Ua(br(l,"afterLabel",this,a))),o.push(s)}),o}getAfterBody(e,n){return yI(br(n.callbacks,"afterBody",this,e))}getFooter(e,n){let{callbacks:r}=n,o=br(r,"beforeFooter",this,e),a=br(r,"footer",this,e),s=br(r,"afterFooter",this,e),l=[];return l=ia(l,Ua(o)),l=ia(l,Ua(a)),l=ia(l,Ua(s)),l}_createItems(e){let n=this._active,r=this.chart.data,o=[],a=[],s=[],l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(ZU(this.chart,n[c]));return e.filter&&(l=l.filter((f,y,g)=>e.filter(f,y,g,r))),e.itemSort&&(l=l.sort((f,y)=>e.itemSort(f,y,r))),ui(l,f=>{let y=xI(e.callbacks,f);o.push(br(y,"labelColor",this,f)),a.push(br(y,"labelPointStyle",this,f)),s.push(br(y,"labelTextColor",this,f))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=l,l}update(e,n){let r=this.options.setContext(this.getContext()),o=this._active,a,s=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{let l=up[r.position].call(this,o,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);let c=this._size=vI(this,r),u=Object.assign({},l,c),f=bI(this.chart,r,u),y=_I(r,u,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,a={opacity:1,x:y.x,y:y.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,o){let a=this.getCaretPosition(e,r,o);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){let{xAlign:o,yAlign:a}=this,{caretSize:s,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:f,bottomRight:y}=qs(l),{x:g,y:S}=e,{width:w,height:I}=n,A,T,V,Z,$,ne;return a==="center"?($=S+I/2,o==="left"?(A=g,T=A-s,Z=$+s,ne=$-s):(A=g+w,T=A+s,Z=$-s,ne=$+s),V=A):(o==="left"?T=g+Math.max(c,f)+s:o==="right"?T=g+w-Math.max(u,y)-s:T=this.caretX,a==="top"?(Z=S,$=Z-s,A=T-s,V=T+s):(Z=S+I,$=Z+s,A=T+s,V=T-s),ne=Z),{x1:A,x2:T,x3:V,y1:Z,y2:$,y3:ne}}drawTitle(e,n,r){let o=this.title,a=o.length,s,l,c;if(a){let u=$l(r.rtl,this.x,this.width);for(e.x=G0(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",s=mn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=s.string,c=0;c<a;++c)n.fillText(o[c],u.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+l,c+1===a&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,o,a){let s=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=a,f=mn(a.bodyFont),y=G0(this,"left",a),g=o.x(y),S=c<f.lineHeight?(f.lineHeight-c)/2:0,w=n.y+S;if(a.usePointStyle){let I={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},A=o.leftForLtr(g,u)+u/2,T=w+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,N0(e,I,A,T),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,N0(e,I,A,T)}else{e.lineWidth=Ut(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;let I=o.leftForLtr(g,u),A=o.leftForLtr(o.xPlus(g,1),u-2),T=qs(s.borderRadius);Object.values(T).some(V=>V!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Ed(e,{x:I,y:w,w:u,h:c,radius:T}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Ed(e,{x:A,y:w+1,w:u-2,h:c-2,radius:T}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(I,w,u,c),e.strokeRect(I,w,u,c),e.fillStyle=s.backgroundColor,e.fillRect(A,w+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){let{body:o}=this,{bodySpacing:a,bodyAlign:s,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:f}=r,y=mn(r.bodyFont),g=y.lineHeight,S=0,w=$l(r.rtl,this.x,this.width),I=function(ie){n.fillText(ie,w.x(e.x+S),e.y+g/2),e.y+=g+a},A=w.textAlign(s),T,V,Z,$,ne,J,U;for(n.textAlign=s,n.textBaseline="middle",n.font=y.string,e.x=G0(this,A,r),n.fillStyle=r.bodyColor,ui(this.beforeBody,I),S=l&&A!=="right"?s==="center"?u/2+f:u+2+f:0,$=0,J=o.length;$<J;++$){for(T=o[$],V=this.labelTextColors[$],n.fillStyle=V,ui(T.before,I),Z=T.lines,l&&Z.length&&(this._drawColorBox(n,e,$,w,r),g=Math.max(y.lineHeight,c)),ne=0,U=Z.length;ne<U;++ne)I(Z[ne]),g=y.lineHeight;ui(T.after,I)}S=0,g=y.lineHeight,ui(this.afterBody,I),e.y-=a}drawFooter(e,n,r){let o=this.footer,a=o.length,s,l;if(a){let c=$l(r.rtl,this.x,this.width);for(e.x=G0(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",s=mn(r.footerFont),n.fillStyle=r.footerColor,n.font=s.string,l=0;l<a;++l)n.fillText(o[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r.footerSpacing}}drawBackground(e,n,r,o){let{xAlign:a,yAlign:s}=this,{x:l,y:c}=e,{width:u,height:f}=r,{topLeft:y,topRight:g,bottomLeft:S,bottomRight:w}=qs(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(l+y,c),s==="top"&&this.drawCaret(e,n,r,o),n.lineTo(l+u-g,c),n.quadraticCurveTo(l+u,c,l+u,c+g),s==="center"&&a==="right"&&this.drawCaret(e,n,r,o),n.lineTo(l+u,c+f-w),n.quadraticCurveTo(l+u,c+f,l+u-w,c+f),s==="bottom"&&this.drawCaret(e,n,r,o),n.lineTo(l+S,c+f),n.quadraticCurveTo(l,c+f,l,c+f-S),s==="center"&&a==="left"&&this.drawCaret(e,n,r,o),n.lineTo(l,c+y),n.quadraticCurveTo(l,c,l+y,c),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){let n=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){let s=up[e.position].call(this,this._active,this._eventPosition);if(!s)return;let l=this._size=vI(this,e),c=Object.assign({},s,this._size),u=bI(n,e,c),f=_I(e,c,u,n);(o._to!==f.x||a._to!==f.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let s=Ln(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,o,n),K1(e,n.textDirection),a.y+=s.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),J1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){let r=this._active,o=e.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),a=!tp(r,o),s=this._positionChanged(o,n);(a||s)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,a=this._active||[],s=this._getActiveElements(e,a,n,r),l=this._positionChanged(s,e),c=n||!tp(s,a)||l;return c&&(this._active=s,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,r,o){let a=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let s=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&s.reverse(),s}_positionChanged(e,n){let{caretX:r,caretY:o,options:a}=this,s=up[a.position].call(this,e,n);return s!==!1&&(r!==s.x||o!==s.y)}}return i})(),nz={id:"tooltip",_element:CI,positioners:up,afterInit(i,t,e){e&&(i.tooltip=new CI({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",Fe(de({},e),{cancelable:!0}))===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:JI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},rz=Object.freeze({__proto__:null,Colors:gU,Decimation:yU,Filler:VU,Legend:$U,SubTitle:XU,Title:YU,Tooltip:nz}),oz=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function az(i,t,e,n){let r=i.indexOf(t);if(r===-1)return oz(i,t,e,n);let o=i.lastIndexOf(t);return r!==o?e:r}var sz=(i,t)=>i===null?null:_n(Math.round(i),0,t);function wI(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var lz=(()=>{class i extends Xl{static id="category";static defaults={ticks:{callback:wI}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:o,label:a}of n)r[o]===a&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($t(e))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:az(r,e,Mt(n,e),this._addedLabels),sz(n,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let e=this.min,n=this.max,r=this.options.offset,o=[],a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=e;s<=n;s++)o.push({value:s});return o}getLabelForValue(e){return wI.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function cz(i,t){let e=[],{bounds:r,step:o,min:a,max:s,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:y}=i,g=o||1,S=u-1,{min:w,max:I}=t,A=!$t(a),T=!$t(s),V=!$t(c),Z=(I-w)/(f+1),$=T1((I-w)/S/g)*g,ne,J,U,ie;if($<1e-14&&!A&&!T)return[{value:w},{value:I}];ie=Math.ceil(I/$)-Math.floor(w/$),ie>S&&($=T1(ie*$/S/g)*g),$t(l)||(ne=Math.pow(10,l),$=Math.ceil($*ne)/ne),r==="ticks"?(J=Math.floor(w/$)*$,U=Math.ceil(I/$)*$):(J=w,U=I),A&&T&&o&&cD((s-a)/o,$/1e3)?(ie=Math.round(Math.min((s-a)/$,u)),$=(s-a)/ie,J=a,U=s):V?(J=A?a:J,U=T?s:U,ie=c-1,$=(U-J)/ie):(ie=(U-J)/$,Dd(ie,Math.round(ie),$/1e3)?ie=Math.round(ie):ie=Math.ceil(ie));let ge=Math.max(P1($),P1(J));ne=Math.pow(10,$t(l)?ge:l),J=Math.round(J*ne)/ne,U=Math.round(U*ne)/ne;let R=0;for(A&&(y&&J!==a?(e.push({value:a}),J<a&&R++,Dd(Math.round((J+R*$)*ne)/ne,a,SI(a,Z,i))&&R++):J<a&&R++);R<ie;++R){let B=Math.round((J+R*$)*ne)/ne;if(T&&B>s)break;e.push({value:B})}return T&&y&&U!==s?e.length&&Dd(e[e.length-1].value,s,SI(s,Z,i))?e[e.length-1].value=s:e.push({value:s}):(!T||U===s)&&e.push({value:U}),e}function SI(i,t,{horizontal:e,minRotation:n}){let r=Qr(n),o=(e?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+i).length;return Math.min(t/o,a)}var Pd=class extends Xl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return $t(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this,a=l=>r=e?r:l,s=l=>o=n?o:l;if(t){let l=Do(r),c=Do(o);l<0&&c<0?s(0):l>0&&c>0&&a(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);s(o+l),t||a(r-l)}this.min=r,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,a=cz(r,o);return t.bounds==="ticks"&&M1(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Ad(t,this.chart.options.locale,this.options.ticks.format)}},Iy=class extends Pd{static id="linear";static defaults={ticks:{callback:ip.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=$i(t)?t:0,this.max=$i(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=Qr(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},fp=i=>Math.floor(Fa(i)),Yl=(i,t)=>Math.pow(10,fp(i)+t);function DI(i){return i/Math.pow(10,fp(i))===1}function II(i,t,e){let n=Math.pow(10,e),r=Math.floor(i/n);return Math.ceil(t/n)-r}function dz(i,t){let e=t-i,n=fp(e);for(;II(i,t,n)>10;)n++;for(;II(i,t,n)<10;)n--;return Math.min(n,fp(i))}function uz(i,{min:t,max:e}){t=vr(i.min,t);let n=[],r=fp(t),o=dz(t,e),a=o<0?Math.pow(10,Math.abs(o)):1,s=Math.pow(10,o),l=r>o?Math.pow(10,r):0,c=Math.round((t-l)*a)/a,u=Math.floor((t-l)/s/10)*s*10,f=Math.floor((c-u)/Math.pow(10,o)),y=vr(i.min,Math.round((l+u+f*Math.pow(10,o))*a)/a);for(;y<e;)n.push({value:y,major:DI(y),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(o++,f=2,a=o>=0?1:a),y=Math.round((l+u+f*Math.pow(10,o))*a)/a;let g=vr(i.max,y);return n.push({value:g,major:DI(g),significand:f}),n}var Ay=class extends Xl{static id="logarithmic";static defaults={ticks:{callback:ip.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Pd.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return $i(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=$i(t)?Math.max(0,t):null,this.max=$i(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$i(this._userMin)&&(this.min=t===Yl(this.min,0)?Yl(this.min,-1):Yl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,r=this.max,o=s=>n=t?n:s,a=s=>r=e?r:s;n===r&&(n<=0?(o(1),a(10)):(o(Yl(n,-1)),a(Yl(r,1)))),n<=0&&o(Yl(r,-1)),r<=0&&a(Yl(n,1)),this.min=n,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=uz(e,this);return t.bounds==="ticks"&&M1(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Ad(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Fa(t),this._valueRange=Fa(this.max)-Fa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Fa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function Ey(i){let t=i.ticks;if(t.display&&i.display){let e=Ln(t.backdropPadding);return Mt(t.font&&t.font.size,Ii.font.size)+e.height}return 0}function hz(i,t,e){return e=Pi(e)?e:[e],{w:bD(i,t.string,e),h:e.length*t.lineHeight}}function AI(i,t,e,n,r){return i===n||i===r?{start:t-e/2,end:t+e/2}:i<n||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function pz(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],r=[],o=i._pointLabels.length,a=i.options.pointLabels,s=a.centerPointLabels?Oi/o:0;for(let l=0;l<o;l++){let c=a.setContext(i.getPointLabelContext(l));r[l]=c.padding;let u=i.getPointPosition(l,i.drawingArea+r[l],s),f=mn(c.font),y=hz(i.ctx,f,i._pointLabels[l]);n[l]=y;let g=gr(i.getIndexAngle(l)+s),S=Math.round(T0(g)),w=AI(S,u.x,y.w,0,180),I=AI(S,u.y,y.h,90,270);fz(e,t,g,w,I)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=vz(i,n,r)}function fz(i,t,e,n,r){let o=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e)),s=0,l=0;n.start<t.l?(s=(t.l-n.start)/o,i.l=Math.min(i.l,t.l-s)):n.end>t.r&&(s=(n.end-t.r)/o,i.r=Math.max(i.r,t.r+s)),r.start<t.t?(l=(t.t-r.start)/a,i.t=Math.min(i.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/a,i.b=Math.max(i.b,t.b+l))}function mz(i,t,e){let n=i.drawingArea,{extra:r,additionalAngle:o,padding:a,size:s}=e,l=i.getPointPosition(t,n+r+a,o),c=Math.round(T0(gr(l.angle+Ji))),u=yz(l.y,s.h,c),f=bz(c),y=_z(l.x,s.w,f);return{visible:!0,x:l.x,y:u,textAlign:f,left:y,top:u,right:y+s.w,bottom:u+s.h}}function gz(i,t){if(!t)return!0;let{left:e,top:n,right:r,bottom:o}=i;return!(Qo({x:e,y:n},t)||Qo({x:e,y:o},t)||Qo({x:r,y:n},t)||Qo({x:r,y:o},t))}function vz(i,t,e){let n=[],r=i._pointLabels.length,o=i.options,{centerPointLabels:a,display:s}=o.pointLabels,l={extra:Ey(o)/2,additionalAngle:a?Oi/r:0},c;for(let u=0;u<r;u++){l.padding=e[u],l.size=t[u];let f=mz(i,u,l);n.push(f),s==="auto"&&(f.visible=gz(f,c),f.visible&&(c=f))}return n}function bz(i){return i===0||i===180?"center":i<180?"left":"right"}function _z(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function yz(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function xz(i,t,e){let{left:n,top:r,right:o,bottom:a}=e,{backdropColor:s}=t;if(!$t(s)){let l=qs(t.borderRadius),c=Ln(t.backdropPadding);i.fillStyle=s;let u=n-c.left,f=r-c.top,y=o-n+c.width,g=a-r+c.height;Object.values(l).some(S=>S!==0)?(i.beginPath(),Ed(i,{x:u,y:f,w:y,h:g,radius:l}),i.fill()):i.fillRect(u,f,y,g)}}function Cz(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let r=t-1;r>=0;r--){let o=i._pointLabelItems[r];if(!o.visible)continue;let a=n.setContext(i.getPointLabelContext(r));xz(e,a,o);let s=mn(a.font),{x:l,y:c,textAlign:u}=o;zs(e,i._pointLabels[r],l,c+s.lineHeight/2,s,{color:a.color,textAlign:u,textBaseline:"middle"})}}function QI(i,t,e,n){let{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,Ni);else{let o=i.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let a=1;a<n;a++)o=i.getPointPosition(a,t),r.lineTo(o.x,o.y)}}function wz(i,t,e,n,r){let o=i.ctx,a=t.circular,{color:s,lineWidth:l}=t;!a&&!n||!s||!l||e<0||(o.save(),o.strokeStyle=s,o.lineWidth=l,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),QI(i,e,a,n),o.closePath(),o.stroke(),o.restore())}function Sz(i,t,e){return Ba(i,{label:e,index:t,type:"pointLabel"})}var ky=class extends Pd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ip.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Ln(Ey(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=$i(t)&&!isNaN(t)?t:0,this.max=$i(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ey(this.options))}generateTickLabels(t){Pd.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let r=Di(this.options.pointLabels.callback,[e,n],this);return r||r===0?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?pz(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){let e=Ni/(this._pointLabels.length||1),n=this.options.startAngle||0;return gr(t*e+Qr(n))}getDistanceFromCenterForValue(t){if($t(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if($t(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return Sz(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let r=this.getIndexAngle(t)-Ji+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),QI(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:r,border:o}=e,a=this._pointLabels.length,s,l,c;if(e.pointLabels.display&&Cz(this,a),r.display&&this.ticks.forEach((u,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let y=this.getContext(f),g=r.setContext(y),S=o.setContext(y);wz(this,g,l,a,S)}}),n.display){for(t.save(),s=a-1;s>=0;s--){let u=n.setContext(this.getPointLabelContext(s)),{color:f,lineWidth:y}=u;!y||!f||(t.lineWidth=y,t.strokeStyle=f,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(s,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let r=this.getIndexAngle(0),o,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=n.setContext(this.getContext(l)),u=mn(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,a=t.measureText(s.label).width,t.fillStyle=c.backdropColor;let f=Ln(c.backdropPadding);t.fillRect(-a/2-f.left,-o-u.size/2-f.top,a+f.width,u.size+f.height)}zs(t,s.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},ng={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_r=Object.keys(ng);function EI(i,t){return i-t}function kI(i,t){if($t(t))return null;let e=i._adapter,{parser:n,round:r,isoWeekday:o}=i._parseOpts,a=t;return typeof n=="function"&&(a=n(a)),$i(a)||(a=typeof n=="string"?e.parse(a,n):e.parse(a)),a===null?null:(r&&(a=r==="week"&&(Gl(o)||o===!0)?e.startOf(a,"isoWeek",o):e.startOf(a,r)),+a)}function TI(i,t,e,n){let r=_r.length;for(let o=_r.indexOf(i);o<r-1;++o){let a=ng[_r[o]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(s*a.size))<=n)return _r[o]}return _r[r-1]}function Dz(i,t,e,n,r){for(let o=_r.length-1;o>=_r.indexOf(e);o--){let a=_r[o];if(ng[a].common&&i._adapter.diff(r,n,a)>=t-1)return a}return _r[e?_r.indexOf(e):0]}function Iz(i){for(let t=_r.indexOf(i)+1,e=_r.length;t<e;++t)if(ng[_r[t]].common)return _r[t]}function MI(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:r}=M0(e,t),o=e[n]>=t?e[n]:e[r];i[o]=!0}}function Az(i,t,e,n){let r=i._adapter,o=+r.startOf(t[0].value,n),a=t[t.length-1].value,s,l;for(s=o;s<=a;s=+r.add(s,1,n))l=e[s],l>=0&&(t[l].major=!0);return t}function PI(i,t,e){let n=[],r={},o=t.length,a,s;for(a=0;a<o;++a)s=t[a],r[s]=a,n.push({value:s,major:!1});return o===0||!e?n:Az(i,n,r,e)}var Ty=(()=>{class i extends Xl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let r=e.time||(e.time={}),o=this._adapter=new jV._date(e.adapters.date);o.init(n),wd(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:kI(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,r=e.time.unit||"day",{min:o,max:a,minDefined:s,maxDefined:l}=this.getUserBounds();function c(u){!s&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!l&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!s||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=$i(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),a=$i(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){let e=this.options,n=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let a=this.min,s=this.max,l=hD(o,a,s);return this._unit=n.unit||(r.autoSkip?TI(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):Dz(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Iz(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),PI(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,o,a;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);let s=e.length<3?.5:.25;n=_n(n,0,s),r=_n(r,0,s),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let e=this._adapter,n=this.min,r=this.max,o=this.options,a=o.time,s=a.unit||TI(a.minUnit,n,r,this._getLabelCapacity(n)),l=Mt(o.ticks.stepSize,1),c=s==="week"?a.isoWeekday:!1,u=Gl(c)||c===!0,f={},y=n,g,S;if(u&&(y=+e.startOf(y,"isoWeek",c)),y=+e.startOf(y,u?"day":s),e.diff(r,n,s)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+s);let w=o.ticks.source==="data"&&this.getDataTimestamps();for(g=y,S=0;g<r;g=+e.add(g,l,s),S++)MI(f,g,w);return(g===r||o.bounds==="ticks"||S===1)&&MI(f,g,w),Object.keys(f).sort(EI).map(I=>+I)}getLabelForValue(e){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){let o=this.options.time.displayFormats,a=this._unit,s=n||o[a];return this._adapter.format(e,s)}_tickFormatFunction(e,n,r,o){let a=this.options,s=a.ticks.callback;if(s)return Di(s,[e,n,r],this);let l=a.time.displayFormats,c=this._unit,u=this._majorUnit,f=c&&l[c],y=u&&l[u],g=r[n],S=u&&y&&g&&g.major;return this._adapter.format(e,o||(S?y:f))}generateTickLabels(e){let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){let n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,r=this.ctx.measureText(e).width,o=Qr(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(o),s=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*a+l*s,h:r*s+l*a}}_getLabelCapacity(e){let n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,PI(this,[e],this._majorUnit),o),s=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,r;if(e.length)return e;let o=this.getLabels();for(n=0,r=o.length;n<r;++n)e.push(kI(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return L1(e.sort(EI))}}return i})();function $0(i,t,e){let n=0,r=i.length-1,o,a,s,l;e?(t>=i[n].pos&&t<=i[r].pos&&({lo:n,hi:r}=Jo(i,"pos",t)),{pos:o,time:s}=i[n],{pos:a,time:l}=i[r]):(t>=i[n].time&&t<=i[r].time&&({lo:n,hi:r}=Jo(i,"time",t)),{time:o,pos:s}=i[n],{time:a,pos:l}=i[r]);let c=a-o;return c?s+(l-s)*(t-o)/c:s}var My=class extends Ty{static id="timeseries";static defaults=Ty.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=$0(e,this.min),this._tableRange=$0(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,r=[],o=[],a,s,l,c,u;for(a=0,s=t.length;a<s;++a)c=t[a],c>=e&&c<=n&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(a=0,s=r.length;a<s;++a)u=r[a+1],l=r[a-1],c=r[a],Math.round((u+l)/2)!==c&&o.push({time:c,pos:a/(s-1)});return o}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return($0(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return $0(this._table,n*this._tableRange+this._minPos,!0)}},Ez=Object.freeze({__proto__:null,CategoryScale:lz,LinearScale:Iy,LogarithmicScale:Ay,RadialLinearScale:ky,TimeScale:Ty,TimeSeriesScale:My}),eA=[FV,cU,rz,Ez];var kz=typeof global=="object"&&global&&global.Object===Object&&global,rg=kz;var Tz=typeof self=="object"&&self&&self.Object===Object&&self,Mz=rg||Tz||Function("return this")(),eo=Mz;var Pz=eo.Symbol,Od=Pz;var tA=Object.prototype,Oz=tA.hasOwnProperty,Nz=tA.toString,gp=Od?Od.toStringTag:void 0;function Lz(i){var t=Oz.call(i,gp),e=i[gp];try{i[gp]=void 0;var n=!0}catch{}var r=Nz.call(i);return n&&(t?i[gp]=e:delete i[gp]),r}var iA=Lz;var Rz=Object.prototype,Fz=Rz.toString;function jz(i){return Fz.call(i)}var nA=jz;var Bz="[object Null]",Vz="[object Undefined]",rA=Od?Od.toStringTag:void 0;function Uz(i){return i==null?i===void 0?Vz:Bz:rA&&rA in Object(i)?iA(i):nA(i)}var Ws=Uz;function zz(i){return i!=null&&typeof i=="object"}var ra=zz;var qz=Array.isArray,vp=qz;function Hz(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var yr=Hz;function Gz(i){return i}var og=Gz;var $z="[object AsyncFunction]",Wz="[object Function]",Yz="[object GeneratorFunction]",Xz="[object Proxy]";function Zz(i){if(!yr(i))return!1;var t=Ws(i);return t==Wz||t==Yz||t==$z||t==Xz}var Nd=Zz;var Kz=eo["__core-js_shared__"],ag=Kz;var oA=function(){var i=/[^.]+$/.exec(ag&&ag.keys&&ag.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function Jz(i){return!!oA&&oA in i}var aA=Jz;var Qz=Function.prototype,eq=Qz.toString;function tq(i){if(i!=null){try{return eq.call(i)}catch{}try{return i+""}catch{}}return""}var sA=tq;var iq=/[\\^$.*+?()[\]{}|]/g,nq=/^\[object .+?Constructor\]$/,rq=Function.prototype,oq=Object.prototype,aq=rq.toString,sq=oq.hasOwnProperty,lq=RegExp("^"+aq.call(sq).replace(iq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cq(i){if(!yr(i)||aA(i))return!1;var t=Nd(i)?lq:nq;return t.test(sA(i))}var lA=cq;function dq(i,t){return i?.[t]}var cA=dq;function uq(i,t){var e=cA(i,t);return lA(e)?e:void 0}var Ld=uq;var dA=Object.create,hq=function(){function i(){}return function(t){if(!yr(t))return{};if(dA)return dA(t);i.prototype=t;var e=new i;return i.prototype=void 0,e}}(),uA=hq;function pq(i,t,e){switch(e.length){case 0:return i.call(t);case 1:return i.call(t,e[0]);case 2:return i.call(t,e[0],e[1]);case 3:return i.call(t,e[0],e[1],e[2])}return i.apply(t,e)}var hA=pq;function fq(i,t){var e=-1,n=i.length;for(t||(t=Array(n));++e<n;)t[e]=i[e];return t}var pA=fq;var mq=800,gq=16,vq=Date.now;function bq(i){var t=0,e=0;return function(){var n=vq(),r=gq-(n-e);if(e=n,r>0){if(++t>=mq)return arguments[0]}else t=0;return i.apply(void 0,arguments)}}var fA=bq;function _q(i){return function(){return i}}var mA=_q;var yq=function(){try{var i=Ld(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Rd=yq;var xq=Rd?function(i,t){return Rd(i,"toString",{configurable:!0,enumerable:!1,value:mA(t),writable:!0})}:og,gA=xq;var Cq=fA(gA),vA=Cq;var wq=9007199254740991,Sq=/^(?:0|[1-9]\d*)$/;function Dq(i,t){var e=typeof i;return t=t??wq,!!t&&(e=="number"||e!="symbol"&&Sq.test(i))&&i>-1&&i%1==0&&i<t}var sg=Dq;function Iq(i,t,e){t=="__proto__"&&Rd?Rd(i,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[t]=e}var Fd=Iq;function Aq(i,t){return i===t||i!==i&&t!==t}var Ys=Aq;var Eq=Object.prototype,kq=Eq.hasOwnProperty;function Tq(i,t,e){var n=i[t];(!(kq.call(i,t)&&Ys(n,e))||e===void 0&&!(t in i))&&Fd(i,t,e)}var bA=Tq;function Mq(i,t,e,n){var r=!e;e||(e={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=n?n(e[s],i[s],s,e,i):void 0;l===void 0&&(l=i[s]),r?Fd(e,s,l):bA(e,s,l)}return e}var _A=Mq;var yA=Math.max;function Pq(i,t,e){return t=yA(t===void 0?i.length-1:t,0),function(){for(var n=arguments,r=-1,o=yA(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=e(a),hA(i,this,s)}}var xA=Pq;function Oq(i,t){return vA(xA(i,t,og),i+"")}var CA=Oq;var Nq=9007199254740991;function Lq(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Nq}var lg=Lq;function Rq(i){return i!=null&&lg(i.length)&&!Nd(i)}var jd=Rq;function Fq(i,t,e){if(!yr(e))return!1;var n=typeof t;return(n=="number"?jd(e)&&sg(t,e.length):n=="string"&&t in e)?Ys(e[t],i):!1}var wA=Fq;function jq(i){return CA(function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(o=i.length>3&&typeof o=="function"?(r--,o):void 0,a&&wA(e[0],e[1],a)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var s=e[n];s&&i(t,s,n,o)}return t})}var SA=jq;var Bq=Object.prototype;function Vq(i){var t=i&&i.constructor,e=typeof t=="function"&&t.prototype||Bq;return i===e}var cg=Vq;function Uq(i,t){for(var e=-1,n=Array(i);++e<i;)n[e]=t(e);return n}var DA=Uq;var zq="[object Arguments]";function qq(i){return ra(i)&&Ws(i)==zq}var Ny=qq;var IA=Object.prototype,Hq=IA.hasOwnProperty,Gq=IA.propertyIsEnumerable,$q=Ny(function(){return arguments}())?Ny:function(i){return ra(i)&&Hq.call(i,"callee")&&!Gq.call(i,"callee")},bp=$q;function Wq(){return!1}var AA=Wq;var TA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,EA=TA&&typeof module=="object"&&module&&!module.nodeType&&module,Yq=EA&&EA.exports===TA,kA=Yq?eo.Buffer:void 0,Xq=kA?kA.isBuffer:void 0,Zq=Xq||AA,dg=Zq;var Kq="[object Arguments]",Jq="[object Array]",Qq="[object Boolean]",eH="[object Date]",tH="[object Error]",iH="[object Function]",nH="[object Map]",rH="[object Number]",oH="[object Object]",aH="[object RegExp]",sH="[object Set]",lH="[object String]",cH="[object WeakMap]",dH="[object ArrayBuffer]",uH="[object DataView]",hH="[object Float32Array]",pH="[object Float64Array]",fH="[object Int8Array]",mH="[object Int16Array]",gH="[object Int32Array]",vH="[object Uint8Array]",bH="[object Uint8ClampedArray]",_H="[object Uint16Array]",yH="[object Uint32Array]",Fi={};Fi[hH]=Fi[pH]=Fi[fH]=Fi[mH]=Fi[gH]=Fi[vH]=Fi[bH]=Fi[_H]=Fi[yH]=!0;Fi[Kq]=Fi[Jq]=Fi[dH]=Fi[Qq]=Fi[uH]=Fi[eH]=Fi[tH]=Fi[iH]=Fi[nH]=Fi[rH]=Fi[oH]=Fi[aH]=Fi[sH]=Fi[lH]=Fi[cH]=!1;function xH(i){return ra(i)&&lg(i.length)&&!!Fi[Ws(i)]}var MA=xH;function CH(i){return function(t){return i(t)}}var PA=CH;var OA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_p=OA&&typeof module=="object"&&module&&!module.nodeType&&module,wH=_p&&_p.exports===OA,Ly=wH&&rg.process,SH=function(){try{var i=_p&&_p.require&&_p.require("util").types;return i||Ly&&Ly.binding&&Ly.binding("util")}catch{}}(),Ry=SH;var NA=Ry&&Ry.isTypedArray,DH=NA?PA(NA):MA,ug=DH;var IH=Object.prototype,AH=IH.hasOwnProperty;function EH(i,t){var e=vp(i),n=!e&&bp(i),r=!e&&!n&&dg(i),o=!e&&!n&&!r&&ug(i),a=e||n||r||o,s=a?DA(i.length,String):[],l=s.length;for(var c in i)(t||AH.call(i,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||sg(c,l)))&&s.push(c);return s}var LA=EH;function kH(i,t){return function(e){return i(t(e))}}var RA=kH;function TH(i){var t=[];if(i!=null)for(var e in Object(i))t.push(e);return t}var FA=TH;var MH=Object.prototype,PH=MH.hasOwnProperty;function OH(i){if(!yr(i))return FA(i);var t=cg(i),e=[];for(var n in i)n=="constructor"&&(t||!PH.call(i,n))||e.push(n);return e}var jA=OH;function NH(i){return jd(i)?LA(i,!0):jA(i)}var hg=NH;var LH=Ld(Object,"create"),za=LH;function RH(){this.__data__=za?za(null):{},this.size=0}var BA=RH;function FH(i){var t=this.has(i)&&delete this.__data__[i];return this.size-=t?1:0,t}var VA=FH;var jH="__lodash_hash_undefined__",BH=Object.prototype,VH=BH.hasOwnProperty;function UH(i){var t=this.__data__;if(za){var e=t[i];return e===jH?void 0:e}return VH.call(t,i)?t[i]:void 0}var UA=UH;var zH=Object.prototype,qH=zH.hasOwnProperty;function HH(i){var t=this.__data__;return za?t[i]!==void 0:qH.call(t,i)}var zA=HH;var GH="__lodash_hash_undefined__";function $H(i,t){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=za&&t===void 0?GH:t,this}var qA=$H;function Bd(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Bd.prototype.clear=BA;Bd.prototype.delete=VA;Bd.prototype.get=UA;Bd.prototype.has=zA;Bd.prototype.set=qA;var Fy=Bd;function WH(){this.__data__=[],this.size=0}var HA=WH;function YH(i,t){for(var e=i.length;e--;)if(Ys(i[e][0],t))return e;return-1}var Xs=YH;var XH=Array.prototype,ZH=XH.splice;function KH(i){var t=this.__data__,e=Xs(t,i);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():ZH.call(t,e,1),--this.size,!0}var GA=KH;function JH(i){var t=this.__data__,e=Xs(t,i);return e<0?void 0:t[e][1]}var $A=JH;function QH(i){return Xs(this.__data__,i)>-1}var WA=QH;function eG(i,t){var e=this.__data__,n=Xs(e,i);return n<0?(++this.size,e.push([i,t])):e[n][1]=t,this}var YA=eG;function Vd(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Vd.prototype.clear=HA;Vd.prototype.delete=GA;Vd.prototype.get=$A;Vd.prototype.has=WA;Vd.prototype.set=YA;var Zs=Vd;var tG=Ld(eo,"Map"),pg=tG;function iG(){this.size=0,this.__data__={hash:new Fy,map:new(pg||Zs),string:new Fy}}var XA=iG;function nG(i){var t=typeof i;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?i!=="__proto__":i===null}var ZA=nG;function rG(i,t){var e=i.__data__;return ZA(t)?e[typeof t=="string"?"string":"hash"]:e.map}var Ks=rG;function oG(i){var t=Ks(this,i).delete(i);return this.size-=t?1:0,t}var KA=oG;function aG(i){return Ks(this,i).get(i)}var JA=aG;function sG(i){return Ks(this,i).has(i)}var QA=sG;function lG(i,t){var e=Ks(this,i),n=e.size;return e.set(i,t),this.size+=e.size==n?0:1,this}var eE=lG;function Ud(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Ud.prototype.clear=XA;Ud.prototype.delete=KA;Ud.prototype.get=JA;Ud.prototype.has=QA;Ud.prototype.set=eE;var tE=Ud;var cG=RA(Object.getPrototypeOf,Object),fg=cG;var dG="[object Object]",uG=Function.prototype,hG=Object.prototype,iE=uG.toString,pG=hG.hasOwnProperty,fG=iE.call(Object);function mG(i){if(!ra(i)||Ws(i)!=dG)return!1;var t=fg(i);if(t===null)return!0;var e=pG.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&iE.call(e)==fG}var nE=mG;function gG(){this.__data__=new Zs,this.size=0}var rE=gG;function vG(i){var t=this.__data__,e=t.delete(i);return this.size=t.size,e}var oE=vG;function bG(i){return this.__data__.get(i)}var aE=bG;function _G(i){return this.__data__.has(i)}var sE=_G;var yG=200;function xG(i,t){var e=this.__data__;if(e instanceof Zs){var n=e.__data__;if(!pg||n.length<yG-1)return n.push([i,t]),this.size=++e.size,this;e=this.__data__=new tE(n)}return e.set(i,t),this.size=e.size,this}var lE=xG;function zd(i){var t=this.__data__=new Zs(i);this.size=t.size}zd.prototype.clear=rE;zd.prototype.delete=oE;zd.prototype.get=aE;zd.prototype.has=sE;zd.prototype.set=lE;var cE=zd;var pE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dE=pE&&typeof module=="object"&&module&&!module.nodeType&&module,CG=dE&&dE.exports===pE,uE=CG?eo.Buffer:void 0,hE=uE?uE.allocUnsafe:void 0;function wG(i,t){if(t)return i.slice();var e=i.length,n=hE?hE(e):new i.constructor(e);return i.copy(n),n}var fE=wG;var SG=eo.Uint8Array,jy=SG;function DG(i){var t=new i.constructor(i.byteLength);return new jy(t).set(new jy(i)),t}var mE=DG;function IG(i,t){var e=t?mE(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var gE=IG;function AG(i){return typeof i.constructor=="function"&&!cg(i)?uA(fg(i)):{}}var vE=AG;function EG(i){return function(t,e,n){for(var r=-1,o=Object(t),a=n(t),s=a.length;s--;){var l=a[i?s:++r];if(e(o[l],l,o)===!1)break}return t}}var bE=EG;var kG=bE(),_E=kG;function TG(i,t,e){(e!==void 0&&!Ys(i[t],e)||e===void 0&&!(t in i))&&Fd(i,t,e)}var yp=TG;function MG(i){return ra(i)&&jd(i)}var yE=MG;function PG(i,t){if(!(t==="constructor"&&typeof i[t]=="function")&&t!="__proto__")return i[t]}var xp=PG;function OG(i){return _A(i,hg(i))}var xE=OG;function NG(i,t,e,n,r,o,a){var s=xp(i,e),l=xp(t,e),c=a.get(l);if(c){yp(i,e,c);return}var u=o?o(s,l,e+"",i,t,a):void 0,f=u===void 0;if(f){var y=vp(l),g=!y&&dg(l),S=!y&&!g&&ug(l);u=l,y||g||S?vp(s)?u=s:yE(s)?u=pA(s):g?(f=!1,u=fE(l,!0)):S?(f=!1,u=gE(l,!0)):u=[]:nE(l)||bp(l)?(u=s,bp(s)?u=xE(s):(!yr(s)||Nd(s))&&(u=vE(l))):f=!1}f&&(a.set(l,u),r(u,l,n,o,a),a.delete(l)),yp(i,e,u)}var CE=NG;function wE(i,t,e,n,r){i!==t&&_E(t,function(o,a){if(r||(r=new cE),yr(o))CE(i,t,a,e,wE,n,r);else{var s=n?n(xp(i,a),o,a+"",i,t,r):void 0;s===void 0&&(s=o),yp(i,a,s)}},hg)}var SE=wE;var LG=SA(function(i,t,e){SE(i,t,e)}),mg=LG;var DE=new He("Configuration for ngCharts");function IE(...i){return{registerables:[...eA,...i]}}function AE(...i){let t=mg({},...i);return{provide:DE,useValue:t}}var RG=(()=>{class i{constructor(){this.colorschemesOptions=new qi(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),qd=(()=>{class i{constructor(e,n,r,o){this.zone=n,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new ct,this.chartHover=new ct,this.subs=[],this.themeOverrides={},o?.registerables&&tg.register(...o.registerables),o?.defaults&&Ii.set(o.defaults),this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(pl()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(e){let n=["type"],r=Object.getOwnPropertyNames(e);if(r.some(o=>n.includes(o))||r.every(o=>e[o].isFirstChange()))this.render();else{let o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,o.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new tg(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,n){this.chart&&(this.chart.getDatasetMeta(e).hidden=n,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return mg({onHover:(e,n)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:n}))},onClick:(e,n)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:n}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(n){return new(n||i)(le(ti),le(Ot),le(RG),le(DE,8))}}static{this.\u0275dir=Bt({type:i,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[ki]})}}return i})();function FG(i,t){if(i&1&&(p(0,"tr",28)(1,"td",29),b(2),h(),p(3,"td",29),b(4),h(),p(5,"td",29),b(6),h()()),i&2){let e=t.$implicit;v(2),Ae(e.name),v(2),Ae(e.loads),v(2),we("$",e.amount,"")}}var gg=class i{bidTableData={title:"",button:"",statuses:[],tableHeads:[],tableData:[]};shipmentTableData={};clientTableData={};pickupTableData={};fullData=[];statsCalculated=!1;carrierStats=[];totalCarriers=0;totalLoadsDelivered=0;totalAmountPaid=0;totalProfit=0;totalShippers=0;totalLoadsFromShippers=0;totalAmountReceived=0;shipperStats=[];highestPaidShipper=null;topShippers;highestPayingShipper;highestPaidCarrier=null;topCarriers;statusChartData;statusChartOptions;paymentsChartData;paymentsChartOptions;barChartData;barChartOptions;calculateStats(){if(console.log("Full Data:",this.fullData),!this.fullData||this.fullData.length===0){console.error("No data available to calculate stats.");return}let t={},e={};this.fullData.forEach(l=>{console.log("Processing entry:",l);let c=l.shipperId,u=parseInt(l.amount,10),f=parseInt(l.platformFee||"0",10);u=u/100,f=f/100;let y=l.loadDetails?.status||"",g=l.shipperDetails?.companyDetails?.companyName||"Unknown Shipper",S=l.loadDetails?.dispatchDateTime;if(y!=="Completed"){console.log("Skipping entry with load status:",y);return}if(!c||isNaN(u)){console.error("Invalid entry data:",l);return}if(t[c]?(t[c].loads+=1,t[c].amount+=u,t[c].platformFee+=f/100):t[c]={loads:1,amount:u,platformFee:f/100,name:g},this.totalLoadsDelivered+=1,this.totalAmountPaid+=u,this.totalProfit+=f,S){let w=new Date(S),I=w.toLocaleString("default",{month:"short"}),A=w.getFullYear(),T=`${I} ${A}`;e[T]=(e[T]||0)+u}}),console.log("Carrier Map:",t),this.carrierStats=Object.entries(t).map(([l,c])=>({carrierId:l,loads:c.loads,amount:c.amount,platformFee:c.platformFee,name:c.name})),console.log("Carrier Stats:",this.carrierStats),this.carrierStats.sort((l,c)=>c.amount-l.amount);let n=this.carrierStats.slice(0,3);console.log("Top 3 Carriers:",n),this.topCarriers=n,this.totalCarriers=this.carrierStats.length,console.log("Total Carriers:",this.totalCarriers),this.highestPaidCarrier=this.carrierStats.reduce((l,c)=>c.amount>l.amount?c:l,{carrierId:"",loads:0,amount:0,name:""}),console.log("Highest Paid Carrier:",this.highestPaidCarrier),console.log("Total Loads Delivered:",this.totalLoadsDelivered),console.log("Total Amount Paid:",this.totalAmountPaid),this.preparePaymentChartData(e);let r=this.carrierStats.sort((l,c)=>c.amount-l.amount).slice(0,5);console.log("Top 5 Carriers:",r);let o=r.map(l=>l.name),a=r.map(l=>l.loads),s=r.map(l=>l.amount/1e3);this.barChartData={labels:o,datasets:[{label:"Loads Delivered",data:a,backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Total Amount Paid (K$)",data:s,backgroundColor:"rgba(75, 192, 192, 0.7)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},console.log("Bar Chart Data:",this.barChartData)}preparePaymentChartData(t){let e=new Date,n=e.getMonth(),r=e.getFullYear(),o=[],a=[];for(let s=5;s>=0;s--){let l=(n-s+12)%12,c=r-Math.floor((n-s)/12),u=new Date(c,l).toLocaleString("default",{month:"short"});o.push(u+" "+c);let f=u+" "+c;a.push(t[f]||0)}this.paymentsChartData={labels:o,datasets:[{label:"Total Payments to Carriers",data:a,backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,borderRadius:5,barThickness:30}]},console.log("Payments Chart Data:",this.paymentsChartData)}getChartValues(){this.statusChartData={labels:["Open Loads","In-Transit Loads","Completed Loads"],datasets:[{data:[10,20,40],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#E7E9ED"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#E7E9ED"]}]},this.statusChartOptions={responsive:!0,plugins:{tooltip:{enabled:!0},legend:{labels:{usePointStyle:!0}}}},this.paymentsChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Carrier Payments Overview",font:{size:16}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(t){let e=t.dataset.label||"";return e&&(e+=": "),t.parsed.y!==null&&(e+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.parsed.y)),e}}}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Month"}},y:{beginAtZero:!0,grid:{},title:{display:!0,text:"Payment Amount ($)"},ticks:{callback:function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}}}}},this.barChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45}},y:{beginAtZero:!0,grid:{}}}}}ngOnInit(){this.getChartValues()}ngOnChanges(t){t.fullData&&!this.statsCalculated&&this.fullData&&this.fullData.length>0&&(console.log("Full data received:",this.fullData),this.calculateStats(),this.statsCalculated=!0)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ye({type:i,selectors:[["app-admin-dashboard"]],inputs:{bidTableData:"bidTableData",shipmentTableData:"shipmentTableData",clientTableData:"clientTableData",pickupTableData:"pickupTableData",fullData:"fullData"},standalone:!0,features:[ki,Xe],decls:127,vars:17,consts:[[1,"main-content"],[1,"container-fluid"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","shadow-xl","rounded-lg","p-6","border","border-gray-200"],[1,"flex","items-center","space-x-4"],[1,"bg-yellow-500","text-white","p-4","rounded-full","shadow-md"],[1,"material-icons"],[1,"text-sm","text-gray-500"],[1,"text-2xl","font-semibold","text-gray-800"],[1,"bg-green-500","text-white","p-4","rounded-full","shadow-md"],[1,"bg-blue-500","text-white","p-4","rounded-full","shadow-md"],[1,"bg-red-500","text-white","p-4","rounded-full","shadow-md"],[1,"gap-6","mt-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"card","bg-white","shadow-lg","rounded-lg","overflow-hidden"],[1,"chart-container"],["baseChart","",3,"data","options","type"],[1,"card-body","p-4"],[1,"text-xl","font-semibold","text-gray-800"],[1,"card-header","bg-gradient-to-r","from-yellow-50","to-yellow-200","text-white","p-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mt-8"],[1,"bg-white","shadow-xl","rounded-lg","border","border-gray-200","overflow-hidden"],[1,"p-4","bg-gray-100"],[1,"text-lg","font-semibold","text-gray-800"],[1,"table-auto","w-full","text-left","border-collapse"],[1,"bg-gray-200","text-gray-600"],[1,"p-3","font-semibold"],["class","border-t",4,"ngFor","ngForOf"],[1,"border-t"],[1,"p-3"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"i",6),b(7,"insert_chart"),h()(),p(8,"div")(9,"p",7),b(10,"Total Open Bids"),h(),p(11,"h3",8),b(12,"4"),h()()()(),p(13,"div",3)(14,"div",4)(15,"div",9)(16,"i",6),b(17,"check_circle"),h()(),p(18,"div")(19,"p",7),b(20,"Total Closed Bids"),h(),p(21,"h3",8),b(22,"6"),h()()()(),p(23,"div",3)(24,"div",4)(25,"div",10)(26,"i",6),b(27,"local_shipping"),h()(),p(28,"div")(29,"p",7),b(30,"Total Shipments"),h(),p(31,"h3",8),b(32,"4"),h()()()(),p(33,"div",3)(34,"div",4)(35,"div",11)(36,"i",6),b(37,"done_all"),h()(),p(38,"div")(39,"p",7),b(40,"Completed Loads"),h(),p(41,"h3",8),b(42),h()()()()(),p(43,"div",12)(44,"div",13)(45,"div",14)(46,"div",15),q(47,"canvas",16),h(),p(48,"div",17)(49,"h5",18),b(50,"Email Subscriptions"),h(),p(51,"p",7),b(52,"Last Campaign Performance"),h()()(),p(53,"div",14)(54,"div",19)(55,"div",15),q(56,"canvas",16),h()(),p(57,"div",17)(58,"h5",18),b(59,"Shipper Payment"),h(),p(60,"p",7),b(61,"Last Campaign Performance"),h()()(),p(62,"div",14)(63,"div",15),q(64,"canvas",16),h(),p(65,"div",17)(66,"h5",18),b(67,"Completed Loads"),h(),p(68,"p",7),b(69,"Last Campaign Performance"),h()()()()(),p(70,"div",20)(71,"div",21)(72,"div",22)(73,"h3",23),b(74,"Shipper Payment Summary"),h(),p(75,"p",7),b(76,"Overview of payments made to carriers"),h()(),p(77,"table",24)(78,"thead")(79,"tr",25)(80,"th",26),b(81,"Shipper Name"),h(),p(82,"th",26),b(83,"Total Loads Delivered"),h(),p(84,"th",26),b(85,"Amount Paid"),h()()(),p(86,"tbody"),Y(87,FG,7,3,"tr",27),h()()(),p(88,"div",21)(89,"div",22)(90,"h3",23),b(91,"Payment Metrics"),h(),p(92,"p",7),b(93,"Detailed statistics"),h()(),p(94,"table",24)(95,"thead")(96,"tr",25)(97,"th",26),b(98,"Metric"),h(),p(99,"th",26),b(100,"Value"),h()()(),p(101,"tbody")(102,"tr",28)(103,"td",29),b(104,"Total Shippers"),h(),p(105,"td",29),b(106),h()(),p(107,"tr",28)(108,"td",29),b(109,"Total Loads Delivered"),h(),p(110,"td",29),b(111),h()(),p(112,"tr",28)(113,"td",29),b(114,"Total Amount Paid"),h(),p(115,"td",29),b(116),h()(),p(117,"tr",28)(118,"td",29),b(119,"Total Profit Received"),h(),p(120,"td",29),b(121),h()(),p(122,"tr",28)(123,"td",29),b(124,"Highest Paid Shipper"),h(),p(125,"td",29),b(126),h()()()()()()()()),e&2&&(v(42),Ae(n.totalLoadsDelivered),v(5),C("data",n.statusChartData)("options",n.statusChartOptions)("type","doughnut"),v(9),C("data",n.paymentsChartData)("options",n.paymentsChartOptions)("type","bar"),v(8),C("data",n.barChartData)("options",n.barChartOptions)("type","bar"),v(23),C("ngForOf",n.topCarriers),v(19),Ae(n.totalCarriers),v(5),Ae(n.totalLoadsDelivered),v(5),Ae(n.totalAmountPaid),v(5),Ae(n.totalProfit),v(5),Vi("",n.highestPaidCarrier==null?null:n.highestPaidCarrier.name," (",n.highestPaidCarrier==null?null:n.highestPaidCarrier.amount,")"))},dependencies:[Rs,Kr,ys,qd,st,Ti],styles:[".dashboard-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px}.chart-container[_ngcontent-%COMP%]{position:relative;height:400px;width:100%}"]})};function jG(i,t){if(i&1&&(p(0,"div",4),q(1,"app-table",5),h()),i&2){let e=M();v(),C("tabledata",e.driverTableData)}}function BG(i,t){if(i&1&&(p(0,"div",4),q(1,"app-admin-dashboard",6),h()),i&2){let e=M();v(),C("fullData",e.dashBoardData)}}function VG(i,t){if(i&1&&(p(0,"div",4),q(1,"app-table",5),h()),i&2){let e=M();v(),C("tabledata",e.truckTableData)}}function UG(i,t){if(i&1&&(p(0,"div",4),q(1,"app-table",5),h()),i&2){let e=M();v(),C("tabledata",e.shipmentTableData)}}function zG(i,t){if(i&1&&(p(0,"div",4),q(1,"app-table",5),h()),i&2){let e=M();v(),C("tabledata",e.bidTableData)}}function qG(i,t){if(i&1&&(p(0,"div",4),q(1,"app-table",5),h()),i&2){let e=M();v(),C("tabledata",e.paymentTableData)}}function HG(i,t){if(i&1&&(p(0,"div",4),q(1,"app-form",7),h()),i&2){let e=M();v(),C("formGroup",e.personalInfoForm)("personalInformation",e.personalInformation)("bankDetails",e.bankDetails)("additionalInformation",e.additionalInformation)("address",e.address)("isDriver",e.isDriver)("userStatus",e.userStatus)("role",e.role)}}function GG(i,t){if(i&1&&(p(0,"div",4),q(1,"app-form",8),h()),i&2){let e=M();v(),C("formGroup",e.vehicleForm)("role",e.role)("vehicleDetails",e.vehicleDetails)("vehicleSpecifications",e.vehicleSpecifications)("registrationAndLicensing",e.registrationAndLicensing)("insuranceDetails",e.insuranceDetails)("statusAndMetadata",e.statusAndMetadata)("dataToShow",e.dataToShow)("isDriver",e.isDriver)("vehicleStatus",e.vehicleStatus)}}function By(i){let t=new Date(i),e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`}var vg=class i{constructor(t,e){this.dataService=t;this.router=e}UserServices=ue(hr);fb=ue(qt);userStatus;vehicleStatus;isDriver=!1;role="appAdmin";dataToShow="Trucks";dashBoardData;personalInformation=[{id:"firstName",label:"First Name",type:"text",placeholder:"Enter First Name"},{id:"lastName",label:"Last Name",type:"text",placeholder:"Enter Last Name"},{id:"email",label:"Email",type:"email",placeholder:"Enter Email",disabled:!0},{id:"phoneNumber",label:"Phone Number",type:"text",placeholder:"Enter Phone Number"},{id:"companyRefId",label:"Company Reference ID",type:"text",placeholder:"Enter Company Reference ID",disabled:!0},{id:"companyName",label:"Company Name",type:"text",placeholder:"Enter Company Name",disabled:!0}];additionalInformation=[{id:"emergencyContactName",label:"Emergency Contact Name",type:"text",placeholder:"Enter Emergency Contact Name"},{id:"emergencyNumber",label:"Emergency Contact Number",type:"text",placeholder:"Enter Emergency Contact Number"},{id:"driversLicenseNumber",label:"Driver's License Number",type:"text",placeholder:"Enter Driver's License Number"},{id:"driversLicenseExpiry",label:"License Expiry Date",type:"date",placeholder:"Enter License Expiry Date"},{id:"aadharCardNumber",label:"Aadhar Card Number",type:"text",placeholder:"Enter Aadhar Card Number"},{id:"dateOfBirth",label:"DOB",type:"date",placeholder:"Enter Your DOB "}];bankDetails=[{id:"bankName",label:"Bank Name",type:"text",placeholder:"Enter Bank Name"},{id:"ifscCode",label:"IFSC Code",type:"text",placeholder:"Enter IFSC Code"},{id:"accountNumber",label:"Account Number",type:"text",placeholder:"Enter Account Number"}];address=[{id:"addressLine1",label:"Address Line 1",type:"text",placeholder:"Enter Address Line 1"},{id:"addressLine2",label:"Address Line 2",type:"text",placeholder:"Enter Address Line 2"},{id:"city",label:"City",type:"text",placeholder:"Enter City"},{id:"state",label:"State",type:"text",placeholder:"Enter State"},{id:"postalCode",label:"Postal Code",type:"text",placeholder:"Enter Postal Code"}];vehicleDetails=[{id:"VehicleType",label:"Vehicle Type",type:"text",placeholder:"Enter Vehicle Type"},{id:"VehicleRegistrationNumber",label:"Vehicle Registration Number",type:"text",placeholder:"Enter Vehicle Registration Number"},{id:"VehicleColor",label:"Vehicle Color",type:"text",placeholder:"Enter Vehicle Color"},{id:"YearOfManufacture",label:"Year of Manufacture",type:"number",placeholder:"Enter Year of Manufacture"}];vehicleSpecifications=[{id:"VehicleWeight",label:"Vehicle Weight",type:"number",placeholder:"Enter Vehicle Weight (kg)"},{id:"NumberOfAxles",label:"Number of Axles",type:"number",placeholder:"Enter Number of Axles"},{id:"VehicleCapacity",label:"Vehicle Capacity",type:"number",placeholder:"Enter Vehicle Capacity (kg)"},{id:"FuelType",label:"Fuel Type",type:"text",placeholder:"Enter Fuel Type"}];registrationAndLicensing=[{id:"LicensePlateNumber",label:"License Plate Number",type:"text",placeholder:"Enter License Plate Number"},{id:"VehicleInspectionStatus",label:"Vehicle Inspection Status",type:"text",placeholder:"Enter Inspection Status"},{id:"RCOwnerName",label:"RC Owner Name",type:"text",placeholder:"Enter RC Owner Name"}];insuranceDetails=[{id:"InsuranceProvider",label:"Insurance Provider",type:"text",placeholder:"Enter Insurance Provider Name"},{id:"PolicyNumber",label:"Policy Number",type:"text",placeholder:"Enter Insurance Policy Number"},{id:"ExpiryDate",label:"Insurance Expiry Date",type:"date",placeholder:"Enter Insurance Expiry Date"}];statusAndMetadata=[{id:"Status",label:"Vehicle Status",type:"text",placeholder:"Enter Vehicle Status (e.g., Active/Inactive)"},{id:"MakeAndModel",label:"Make and Model",type:"text",placeholder:"Enter Make and Model"},{id:"companyRefId",label:"Company Reference ID",type:"text",placeholder:"Enter Company Reference ID"}];personalInfoForm=this.fb.group({firstName:["",j.required],lastName:["",j.required],email:[{value:"",disabled:!0},[j.required,j.email]],phoneNumber:["",j.required],companyRefId:[{value:"",disabled:!0},j.required],companyName:[{value:"",disabled:!0},j.required],driversLicenseNumber:["",j.required],driversLicenseExpiry:["",j.required],dateOfBirth:["",j.required],emergencyContactName:["",j.required],emergencyNumber:["",j.required],addressLine1:["",j.required],addressLine2:["",j.required],city:["",j.required],status:["",j.required],id:["",j.required],state:["",j.required],workStatus:[""],postalCode:["",[j.required,j.pattern("^[0-9]{6}$")]],aadharCardNumber:["",[j.required,j.pattern("^[0-9]{12}$")]],notes:[""]});vehicleForm=this.fb.group({VehicleType:["",j.required],VehicleRegistrationNumber:["",j.required],VehicleColor:["",j.required],MakeAndModel:["",j.required],LicensePlateNumber:["",j.required],YearOfManufacture:["",[j.required,j.min(1900),j.max(new Date().getFullYear())]],VehicleWeight:["",[j.required,j.min(1)]],NumberOfAxles:["",[j.required,j.min(1)]],VehicleCapacity:["",[j.required,j.min(1)]],FuelType:["",j.required],RCOwnerName:["",j.required],companyRefId:["",j.required],VehicleInspectionStatus:["",j.required],Status:["",j.required],InsuranceProvider:["",j.required],PolicyNumber:["",j.required],ExpiryDate:["",j.required],isActive:[!0,j.requiredTrue],_id:[{value:"",disabled:!0}],__v:[{value:"",disabled:!0}]});truckTableData={title:"All Trucks",button:"Add New Truck",statuses:["Active","Pending"],tableHeads:["Vehicle Body","Truck Model","Truck Type","Status","License Plate","Owner Name","Fuel Type","Actions"],tableData:[]};bidTableData={title:"All Bids",button:"Add New Load",statuses:["Open ","Closed"],tableHeads:["Load ID","Drop City","Commodity","Vehicle Body","Trailer Type","Base Price","Lowest Bid","Status","Actions"],tableData:[]};buttonTexts=[{text:"Dashboard",icon:"dashboard"},{text:"Active Bids",icon:"gavel"},{text:"Shipments",icon:"local_shipping"},{text:"Drivers",icon:"person"},{text:"Trucks",icon:"local_shipping"},{text:"Payments",icon:"payment"},{text:"Log Out",icon:"logout"}];driverTableData={title:"Drivers",button:"Add Driver",statuses:["Active","Pending"],tableHeads:["Name","Email","Phone","Status","UserID","DOB","Aadhar Number","Actions"],tableData:[]};shipmentTableData={title:"All Shipments",button:"",statuses:["Assigned ","Dispatched","Delivered"],tableHeads:["Load ID","Drop City","Pick City","Pickup Date","Base Price","Bid Price","Status","Actions"],tableData:[]};paymentTableData={title:"All Payments",button:"",statuses:[],tableHeads:["Load Id","Destination City","Shipper Name","Shipper Ref_id","Amount","payment Status","Action"],tableData:[]};selectedComponent="Dashboard";currentAction="";showForm=!1;showVehicleForm=!1;showModal=!1;onSidebarButtonClick(t){t==="Drivers"&&this.UserServices.getAllDrivers().pipe(wt(e=>{console.log(e);let n=e.filter(r=>r.isBoardingCompleted);this.driverTableData=Fe(de({},this.driverTableData),{tableData:n.map(r=>({name:r.name?.firstName+" "+r.name?.lastName||"",email:r.email||"",phoneNumber:r.personalDetails?.emergencyContact?.phoneNumber||"",status:r.status||"Unknown",username:r.username||"",dateOfBirth:r.dateOfBirth?new Date(r.dateOfBirth).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Not Avilable",aadharCardNumber:r.aadharCardNumber||"Not Available",id:r._id}))})})).subscribe({next:()=>{console.log(this.driverTableData),this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showVehicleForm=!1},error:e=>{console.error("Failed to fetch drivers:",e)}}),t==="Dashboard"&&jo({payments:this.UserServices.getAllPayments()}).pipe(wt(({payments:e})=>{if(e){console.log(e);let n=e.payments;this.dashBoardData=n}this.selectedComponent=t,this.showForm=!1,this.showModal=!1})).subscribe({next:()=>{console.log("Data fetched and processed successfully")},error:e=>{console.error("Error fetching data",e)}}),t==="Trucks"&&this.UserServices.getAllVehicles().pipe(wt(e=>{console.log("The trucks are: ",e);let n=e.vehicles;this.truckTableData=Fe(de({},this.truckTableData),{tableData:n.map(r=>({vehicleBody:r.VehicleColor||"",truckModel:r.MakeAndModel||"",truckType:r.VehicleType||"",capacity:r.Status||"",licensePlate:r.LicensePlateNumber||"",ownerName:r.RCOwnerName||"",fuelType:r.FuelType||"",id:r._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1},error:e=>{console.error("Failed to fetch trucks:",e)}}),t==="Log Out"&&(localStorage.removeItem("appAdminToken"),localStorage.removeItem("appAdminData"),this.router.navigate(["/admin"])),t==="Shipments"&&this.UserServices.getAllShipments("admin").pipe(wt(e=>{console.log(e.bids);let r=e.bids.filter(o=>o.status==="Assigned"||o.status==="Dispatched"||o.status==="Delivered"||o.status==="Picked"||o.status==="Delivered1"||o.status==="Delivered2"||o.status==="Delivered3"||o.status==="Delivered"||o.status==="Delivered1-Partial"||o.status==="Delivered2-Partial"||o.status==="Delivered3-Partial"||o.status==="Delivered"||o.status==="Completed");this.shipmentTableData=Fe(de({},this.shipmentTableData),{tableData:r.map(o=>({loadId:o.loadId||"",dropCity:o.dropoff1?.address?.city||"",pickCity:o.pickupLocation?.address?.city||"",pickUpdate:this.getReadableDate(o.dispatchDateTime)||"",basePrice:o.basePrice||"",lowestBid:o.lowestPrice||"--",status:o.status,_id:o._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showVehicleForm=!1},error:e=>{}}),t==="Active Bids"&&this.UserServices.getAllBids("admin").pipe(wt(e=>{console.log(e.loads);let r=e.loads.filter(o=>o.status==="Open"||o.status==="Closed");this.bidTableData=Fe(de({},this.bidTableData),{tableData:r.map(o=>({loadId:o.loadId||"",dropCity:o.dropoff1?.address?.city||"",commodity:o.material||"Unknown",vehicleType:o.vehicleBody||"",trailerType:o.vehicleType||"",basePrice:o.basePrice||"",lowestBid:o.lowestPrice||"--",status:o.status,_id:o._id}))})})).subscribe({next:()=>{console.log(this.bidTableData),this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showVehicleForm=!1},error:e=>{console.error("Error fetching bids",e)}}),t==="Payments"&&this.UserServices.getAllPayments().pipe(wt(e=>{let n=e.payments;console.log(n),this.paymentTableData=Fe(de({},this.paymentTableData),{tableData:n.map(r=>({loadId:r?.loadDetails?.loadId||"",destinationCity:r.loadDetails.dropoff1.address.city||"",carrierName:r.shipperDetails?.companyDetails?.companyName||"",carrierRefId:r.shipperDetails?.companyRefId||"",amount:r.amount||"",paymentStatus:r.status||"Unknown",id:r.loadId}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showVehicleForm=!1},error:e=>{console.error("Failed to fetch customers:",e)}})}handleAction(t){if(this.currentAction=t.action,(t.action==="edit"||t.action==="view")&&t.item!=="Trucks"){let e=t.id;e?this.UserServices.getDriver(e).subscribe(n=>{if(n.success){let r=n.user;console.log(r.status),this.userStatus=r.status,console.log(r),this.personalInfoForm.patchValue({firstName:r.name.firstName,lastName:r.name.lastName,email:r.email,phoneNumber:r.phoneNumber||"",companyRefId:r.companyRefId,companyName:r.companyDetails?r.companyDetails.companyDetails?.companyName:"",emergencyContactName:r.personalDetails.emergencyContact.name,emergencyNumber:r.personalDetails.emergencyContact.phoneNumber,addressLine1:r.personalDetails.address.addressLine1,addressLine2:r.personalDetails.address.addressLine2,city:r.personalDetails.address.city,state:r.personalDetails.address.state,postalCode:r.personalDetails.address.postalCode,driversLicenseNumber:r.driversLicenseNumber||"",driversLicenseExpiry:By(r.driversLicenseExpiry||""),aadharCardNumber:r.aadharCardNumber||"",dateOfBirth:By(r.dateOfBirth||""),ifscCode:r.ifscCode||"",accountNumber:r.accountNumber||"",bankName:r.bankName||"Bank",status:r.status||"Unknown",workStatus:r.workStatus||"No Status",id:r._id})}},n=>{console.error("Failed to fetch driver data",n)}):console.error("No user ID found in localStorage"),this.showForm=!0,this.showModal=!1}else if(t.action==="delete"&&t.item!=="Trucks")this.showModal=!0,this.showForm=!1;else if((t.action==="edit"||t.action==="view")&&t.item==="Trucks"){console.log("getting the truck details soon");let e=t.id;e?this.UserServices.getTruckDetails(e).subscribe(n=>{if(n.success){let r=n.truck;console.log(r),this.vehicleStatus=r.Status,console.log(this.vehicleStatus),this.vehicleForm.patchValue({VehicleType:r.VehicleType||"",VehicleRegistrationNumber:r.VehicleRegistrationNumber||"",VehicleColor:r.VehicleColor||"",VehicleWeight:r.VehicleWeight||"",Status:r.Status||"Inactive",YearOfManufacture:r.YearOfManufacture||"",NumberOfAxles:r.NumberOfAxles||"",LicensePlateNumber:r.LicensePlateNumber||"",VehicleInspectionStatus:r.VehicleInspectionStatus||"Pending",MakeAndModel:r.MakeAndModel||"",FuelType:r.FuelType||"",VehicleCapacity:r.VehicleCapacity||"",RCOwnerName:r.RCOwnerName||"",ExpiryDate:By(r.ExpiryDate||""),InsuranceProvider:r.InsuranceProvider||"",PolicyNumber:r.PolicyNumber||"",companyRefId:r.companyRefId||"",id:r._id,_id:r._id})}},n=>{console.error("Failed to fetch driver data",n)}):console.error("No user ID found in localStorage"),this.showVehicleForm=!0,this.showModal=!1,this.showForm=!1}}ngOnInit(){this.dataService.data$.subscribe(t=>{console.log(t),this.handleAction(t)})}getReadableDate(t){return new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}static \u0275fac=function(e){return new(e||i)(le(xi),le(fi))};static \u0275cmp=Ye({type:i,selectors:[["app-admin-layout"]],standalone:!0,features:[Xe],decls:11,vars:9,consts:[[1,"flex","h-screen"],[1,"w-1/6","h-full"],[3,"buttonClick","buttonTexts"],["class","w-5/6 h-full",4,"ngIf"],[1,"w-5/6","h-full"],[3,"tabledata"],[3,"fullData"],[3,"formGroup","personalInformation","bankDetails","additionalInformation","address","isDriver","userStatus","role"],[3,"formGroup","role","vehicleDetails","vehicleSpecifications","registrationAndLicensing","insuranceDetails","statusAndMetadata","dataToShow","isDriver","vehicleStatus"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"app-sidebar",2),_e("buttonClick",function(o){return n.onSidebarButtonClick(o)}),h()(),Y(3,jG,2,1,"div",3)(4,BG,2,1,"div",3)(5,VG,2,1,"div",3)(6,UG,2,1,"div",3)(7,zG,2,1,"div",3)(8,qG,2,1,"div",3)(9,HG,2,8,"div",3)(10,GG,2,10,"div",3),h()),e&2&&(v(2),C("buttonTexts",n.buttonTexts),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Drivers"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Dashboard"),v(),C("ngIf",!n.showForm&&!n.showModal&&!n.showVehicleForm&&n.selectedComponent==="Trucks"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Shipments"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Active Bids"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Payments"),v(),C("ngIf",n.showForm),v(),C("ngIf",n.showVehicleForm))},dependencies:[Go,Zo,st,Ct,Ko,gg]})};var bg=class i{socket;constructor(){this.setupSocketConnection()}setupSocketConnection(){this.socket=Ul(v0.SOCKET_ENDPOINT,{secure:!0,rejectUnauthorized:!1}),this.socket.on("my broadcast",t=>{console.log("Broadcast received:",t)})}onLowestBidUpdate(t){this.socket.on("lowestBidUpdate",t)}sendMessage(t){console.log(t),this.socket&&this.socket.emit("my message",t)}loginUser(t){console.log(t),this.socket&&this.socket.emit("login",t)}onReceiveMessage(){return new wn(t=>{this.socket.on("receiveMessage",e=>{t.next(e)})})}onGetMessagedUsers(){return new wn(t=>{this.socket.on("update_messaged_users",e=>{console.log(e),t.next(e)})})}fetchPreviousMessages(t){this.socket.emit("fetch_messages",{chatId:t})}onReceivePreviousMessages(){return new wn(t=>{this.socket.on("previous_messages",e=>{t.next(e)})})}disconnect(){this.socket&&this.socket.disconnect()}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Be({token:i,factory:i.\u0275fac,providedIn:"root"})};var WG=i=>({"justify-end":i}),YG=(i,t)=>({"bg-indigo-500 text-white":i,"bg-gray-200 text-gray-700":t});function XG(i,t){if(i&1){let e=Ge();p(0,"div",21),_e("click",function(){let r=Pe(e).$implicit,o=M();return Oe(o.selectContact(r))}),p(1,"div",22),q(2,"img",23),h(),p(3,"div",24)(4,"h2",25),b(5),h(),p(6,"p",26),b(7),h()()()}if(i&2){let e=t.$implicit;v(2),C("src",e.avatar,Iv),v(3),Ae(e.name),v(2),Ae(e.lastMessage)}}function ZG(i,t){if(i&1&&(Xt(0),p(1,"div",32),q(2,"img",33),h(),Zt()),i&2){let e=M(3);v(2),C("src",e.selectedContact==null?null:e.selectedContact.avatar,Iv)}}function KG(i,t){i&1&&(Xt(0),p(1,"div",34),q(2,"img",35),h(),Zt())}function JG(i,t){if(i&1&&(p(0,"div",29),Y(1,ZG,3,1,"ng-container",30),p(2,"div",31)(3,"p"),b(4),h()(),Y(5,KG,3,0,"ng-container",30),h()),i&2){let e=t.$implicit;C("ngClass",vi(5,WG,e.isMine)),v(),C("ngIf",!e.isMine),v(),C("ngClass",bn(7,YG,e.isMine,!e.isMine)),v(2),Ae(e.message),v(),C("ngIf",e.isMine)}}function QG(i,t){if(i&1&&(p(0,"div",27),Y(1,JG,6,10,"div",28),h()),i&2){let e=M();v(),C("ngForOf",e.messages)}}var Hd=class i{constructor(t,e,n){this.router=t;this.socketService=e;this.dataService=n}localStorageServices=ue(on);carrierServices=ue(pr);shipperServices=ue(An);title="socketio-angular";messagedUsers=[];chatUser;messages=[];newMessage="";user;selectedUserDetails=null;selectedContact;selectedContactName="No User Selected";currentUserId;subscriptions=new po;ngOnInit(){let t=this.router.url;t.includes("/carrier/admin/dashboard")?this.user=this.localStorageServices.getCarrierAdminData():t.includes("/carrier/driver/dashboard")?this.user=this.localStorageServices.getDriverData():t.includes("/shipper/admin/dashboard")?this.user=this.localStorageServices.getShipperAdminData():t.includes("/admin/dashboard")&&(this.user=this.localStorageServices.getAppAdminData()),this.currentUserId=this.user._id,console.log("the current user id is ",this.currentUserId),this.socketService.setupSocketConnection(),this.socketService.loginUser(this.currentUserId),this.fetchMessagedUsers(),this.listenForMessages()}ngOnChanges(t){t.chatUser&&t.chatUser.currentValue&&(this.loadSelectedUserDetails(),this.loadPreviousMessages())}loadSelectedUserDetails(){if(this.chatUser){let t=this.router.url;t.includes("/carrier/admin/dashboard")?this.carrierServices.fetchShipperInfo(this.chatUser).subscribe(e=>{this.selectedUserDetails=e.user,console.log(this.selectedUserDetails),this.selectedContactName=` ${e.user.name.firstName} ${e.user.name.lastName}`},e=>{console.error("Error fetching user details:",e)}):t.includes("/shipper/admin/dashboard")?this.shipperServices.fetchCarrierInfo(this.chatUser).subscribe(e=>{this.selectedUserDetails=e.user,console.log("Selected User Details:",this.selectedUserDetails)},e=>{console.error("Error fetching user details:",e)}):t.includes("/admin/dashboard")&&console.log("for later")}}loadPreviousMessages(){this.messages=[],this.socketService.fetchPreviousMessages(this.chatUser);let t=this.socketService.onReceivePreviousMessages().subscribe(e=>{this.messages=e.messages.map(n=>Fe(de({},n),{isMine:n.senderId===this.currentUserId})),console.log("the previous messages are ",this.messages)});this.subscriptions.add(t)}sendMessage(){if(this.newMessage.trim()&&this.selectedUserDetails._id){let e={senderId:this.currentUserId,recipientId:this.selectedUserDetails._id,message:this.newMessage,senderDetails:this.user,receiverDetails:this.selectedUserDetails,timestamp:new Date().toISOString(),chatId:`${this.currentUserId}_${this.selectedUserDetails._id}`};console.log(e),this.socketService.sendMessage(e);let t=e,{senderDetails:n,receiverDetails:r}=t,o=mv(t,["senderDetails","receiverDetails"]);this.messages.push(Fe(de({},o),{isMine:!0})),console.log(this.messages),this.newMessage=""}}listenForMessages(){let t=this.socketService.onReceiveMessage().subscribe(e=>{e.recipientId===this.currentUserId?this.messages.push(Fe(de({},e),{isMine:!1})):console.log("New message from another user:",e)});this.subscriptions.add(t)}selectContact(t){console.log(t),this.selectedContactName=t.name,this.selectedUserDetails=t,this.chatUser=t._id,this.messages=[],this.socketService.fetchPreviousMessages(t._id);let e=this.socketService.onReceivePreviousMessages().subscribe(n=>{this.messages=n.messages.map(r=>Fe(de({},r),{isMine:r.senderId===this.currentUserId}))});this.subscriptions.add(e)}fetchMessagedUsers(){let t=this.socketService.onGetMessagedUsers().subscribe(e=>{console.log("this function is fetch users the result",e.users),this.messagedUsers=e.users});this.subscriptions.add(t)}ngOnDestroy(){this.socketService.disconnect(),this.subscriptions.unsubscribe()}static \u0275fac=function(e){return new(e||i)(le(fi),le(bg),le(xi))};static \u0275cmp=Ye({type:i,selectors:[["app-chat"]],inputs:{chatUser:"chatUser"},standalone:!0,features:[ki,Xe],decls:30,vars:4,consts:[[1,"flex","h-full","overflow-hidden"],[1,"w-1/3","bg-white","border-r","border-gray-300"],[1,"p-4","border-b","border-gray-300","flex","justify-between","items-center","bg-indigo-600","text-white"],[1,"text-2xl","font-semibold"],[1,"relative"],["id","menuButton",1,"focus:outline-none"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-gray-100"],["d","M10 12a2 2 0 100-4 2 2 0 000 4z"],["d","M2 10a2 2 0 012-2h12a2 2 0 012 2 2 2 0 01-2 2H4a2 2 0 01-2-2z"],["id","menuDropdown",1,"absolute","right-0","mt-2","w-48","bg-white","border","border-gray-300","rounded-md","shadow-lg","hidden"],[1,"py-2","px-3"],["href","#",1,"block","px-4","py-2","text-gray-800","hover:text-gray-400"],[1,"overflow-y-auto","h-full","p-3"],["class","flex items-center mb-4 cursor-pointer hover:bg-gray-100 p-2 rounded-md",3,"click",4,"ngFor","ngForOf"],[1,"flex-1","relative","bg-white"],[1,"bg-white","p-4","text-gray-700","border-b","border-gray-300"],["class","h-full overflow-y-auto p-4 pb-36",4,"ngIf"],[1,"bg-white","border-t","border-gray-300","p-4","absolute","bottom-0","w-full"],[1,"flex","items-center"],["type","text","placeholder","Type a message...",1,"w-full","p-2","rounded-md","border","border-gray-400","focus:outline-none","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"bg-indigo-500","text-white","px-4","py-2","rounded-md","ml-2",3,"click"],[1,"flex","items-center","mb-4","cursor-pointer","hover:bg-gray-100","p-2","rounded-md",3,"click"],[1,"w-12","h-12","bg-gray-300","rounded-full","mr-3"],["alt","User Avatar",1,"w-12","h-12","rounded-full",3,"src"],[1,"flex-1"],[1,"text-lg","font-semibold"],[1,"text-gray-600"],[1,"h-full","overflow-y-auto","p-4","pb-36"],["class","flex mb-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","mb-4",3,"ngClass"],[4,"ngIf"],[1,"flex","max-w-96","p-3","gap-3","rounded-lg",3,"ngClass"],[1,"w-9","h-9","rounded-full","flex","items-center","justify-center","mr-2"],["alt","User Avatar",1,"w-8","h-8","rounded-full",3,"src"],[1,"w-9","h-9","rounded-full","flex","items-center","justify-center","ml-2"],["src","https://placehold.co/200x/b7a8ff/ffffff.svg?text=You","alt","My Avatar",1,"w-8","h-8","rounded-full"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"header",2)(3,"h1",3),b(4,"Chat Web"),h(),p(5,"div",4)(6,"button",5),Hi(),p(7,"svg",6),q(8,"path",7)(9,"path",8),h()(),nn(),p(10,"div",9)(11,"ul",10)(12,"li")(13,"a",11),b(14,"Option 1"),h()(),p(15,"li")(16,"a",11),b(17,"Option 2"),h()()()()()(),p(18,"div",12),Y(19,XG,8,3,"div",13),h()(),p(20,"div",14)(21,"header",15)(22,"h1",3),b(23),h()(),Y(24,QG,2,1,"div",16),p(25,"footer",17)(26,"div",18)(27,"input",19),Df("ngModelChange",function(o){return Sf(n.newMessage,o)||(n.newMessage=o),o}),h(),p(28,"button",20),_e("click",function(){return n.sendMessage()}),b(29,"Send"),h()()()()()),e&2&&(v(19),C("ngForOf",n.messagedUsers),v(4),we(" ",n.selectedContactName," "),v(),C("ngIf",n.messages&&n.messages.length>0),v(3),wf("ngModel",n.newMessage))},dependencies:[st,Li,Ti,Ct,fn,li,_i,Th]})};function e$(i,t){if(i&1&&(p(0,"tr",28)(1,"td",29),b(2),h(),p(3,"td",29),b(4),h(),p(5,"td",29),b(6),h()()),i&2){let e=t.$implicit;v(2),Ae(e.name),v(2),Ae(e.loads),v(2),we("$",e.amount,"")}}var _g=class i{bidTableData={title:"",button:"",statuses:[],tableHeads:[],tableData:[]};shipmentTableData={};clientTableData={};pickupTableData={};fullData=[];statsCalculated=!1;carrierStats=[];totalCarriers=0;totalLoadsDelivered=0;totalAmountPaid=0;highestPaidCarrier=null;topCarriers;statusChartData;statusChartOptions;paymentsChartData;paymentsChartOptions;barChartData;barChartOptions;calculateStats(){if(console.log("Full Data:",this.fullData),!this.fullData||this.fullData.length===0){console.error("No data available to calculate stats.");return}let t={},e={};this.fullData.forEach(l=>{console.log("Processing entry:",l);let c=l.carrierId,u=parseInt(l.amount,10);u=u/100;let f=l.loadDetails?.status||"",y=l.carrierDetails?.companyDetails?.companyName||"Unknown Carrier",g=l.loadDetails?.dispatchDateTime;if(f!=="Completed"){console.log("Skipping entry with load status:",f);return}if(!c||isNaN(u)){console.error("Invalid entry data:",l);return}if(t[c]?(t[c].loads+=1,t[c].amount+=u):t[c]={loads:1,amount:u,name:y},this.totalLoadsDelivered+=1,this.totalAmountPaid+=u,g){let S=new Date(g),w=S.toLocaleString("default",{month:"short"}),I=S.getFullYear(),A=`${w} ${I}`;e[A]=(e[A]||0)+u}}),console.log("Carrier Map:",t),this.carrierStats=Object.entries(t).map(([l,c])=>({carrierId:l,loads:c.loads,amount:c.amount,name:c.name})),console.log("Carrier Stats:",this.carrierStats),this.carrierStats.sort((l,c)=>c.amount-l.amount);let n=this.carrierStats.slice(0,3);console.log("Top 3 Carriers:",n),this.topCarriers=n,this.totalCarriers=this.carrierStats.length,console.log("Total Carriers:",this.totalCarriers),this.highestPaidCarrier=this.carrierStats.reduce((l,c)=>c.amount>l.amount?c:l,{carrierId:"",loads:0,amount:0,name:""}),console.log("Highest Paid Carrier:",this.highestPaidCarrier),console.log("Total Loads Delivered:",this.totalLoadsDelivered),console.log("Total Amount Paid:",this.totalAmountPaid),this.preparePaymentChartData(e);let r=this.carrierStats.sort((l,c)=>c.amount-l.amount).slice(0,5);console.log("Top 5 Carriers:",r);let o=r.map(l=>l.name),a=r.map(l=>l.loads),s=r.map(l=>l.amount/1e3);this.barChartData={labels:o,datasets:[{label:"Loads Delivered",data:a,backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Total Amount Paid (K$)",data:s,backgroundColor:"rgba(75, 192, 192, 0.7)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},console.log("Bar Chart Data:",this.barChartData)}preparePaymentChartData(t){let e=new Date,n=e.getMonth(),r=e.getFullYear(),o=[],a=[];for(let s=5;s>=0;s--){let l=(n-s+12)%12,c=r-Math.floor((n-s)/12),u=new Date(c,l).toLocaleString("default",{month:"short"});o.push(u+" "+c);let f=u+" "+c;a.push(t[f]||0)}this.paymentsChartData={labels:o,datasets:[{label:"Total Payments to Carriers",data:a,backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,borderRadius:5,barThickness:30}]},console.log("Payments Chart Data:",this.paymentsChartData)}getChartValues(){this.statusChartData={labels:["Open Loads","In-Transit Loads","Completed Loads"],datasets:[{data:[10,20,40],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#E7E9ED"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#E7E9ED"]}]},this.statusChartOptions={responsive:!0,plugins:{tooltip:{enabled:!0},legend:{labels:{usePointStyle:!0}}}},this.paymentsChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Carrier Payments Overview",font:{size:16}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(t){let e=t.dataset.label||"";return e&&(e+=": "),t.parsed.y!==null&&(e+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.parsed.y)),e}}}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Month"}},y:{beginAtZero:!0,grid:{},title:{display:!0,text:"Payment Amount ($)"},ticks:{callback:function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}}}}},this.barChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45}},y:{beginAtZero:!0,grid:{}}}}}ngOnInit(){this.getChartValues()}ngOnChanges(t){t.fullData&&!this.statsCalculated&&this.fullData&&this.fullData.length>0&&(console.log("Full data received:",this.fullData),this.calculateStats(),this.statsCalculated=!0)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ye({type:i,selectors:[["app-dashboard"]],inputs:{bidTableData:"bidTableData",shipmentTableData:"shipmentTableData",clientTableData:"clientTableData",pickupTableData:"pickupTableData",fullData:"fullData"},standalone:!0,features:[ki,Xe],decls:122,vars:16,consts:[[1,"main-content"],[1,"container-fluid"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","shadow-xl","rounded-lg","p-6","border","border-gray-200"],[1,"flex","items-center","space-x-4"],[1,"bg-yellow-500","text-white","p-4","rounded-full","shadow-md"],[1,"material-icons"],[1,"text-sm","text-gray-500"],[1,"text-2xl","font-semibold","text-gray-800"],[1,"bg-green-500","text-white","p-4","rounded-full","shadow-md"],[1,"bg-blue-500","text-white","p-4","rounded-full","shadow-md"],[1,"bg-red-500","text-white","p-4","rounded-full","shadow-md"],[1,"gap-6","mt-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"card","bg-white","shadow-lg","rounded-lg","overflow-hidden"],[1,"chart-container"],["baseChart","",3,"data","options","type"],[1,"card-body","p-4"],[1,"text-xl","font-semibold","text-gray-800"],[1,"card-header","bg-gradient-to-r","from-yellow-50","to-yellow-200","text-white","p-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mt-8"],[1,"bg-white","shadow-xl","rounded-lg","border","border-gray-200","overflow-hidden"],[1,"p-4","bg-gray-100"],[1,"text-lg","font-semibold","text-gray-800"],[1,"table-auto","w-full","text-left","border-collapse"],[1,"bg-gray-200","text-gray-600"],[1,"p-3","font-semibold"],["class","border-t",4,"ngFor","ngForOf"],[1,"border-t"],[1,"p-3"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"i",6),b(7,"insert_chart"),h()(),p(8,"div")(9,"p",7),b(10,"Total Open Bids"),h(),p(11,"h3",8),b(12,"4"),h()()()(),p(13,"div",3)(14,"div",4)(15,"div",9)(16,"i",6),b(17,"check_circle"),h()(),p(18,"div")(19,"p",7),b(20,"Total Closed Bids"),h(),p(21,"h3",8),b(22,"6"),h()()()(),p(23,"div",3)(24,"div",4)(25,"div",10)(26,"i",6),b(27,"local_shipping"),h()(),p(28,"div")(29,"p",7),b(30,"Total Shipments"),h(),p(31,"h3",8),b(32,"4"),h()()()(),p(33,"div",3)(34,"div",4)(35,"div",11)(36,"i",6),b(37,"done_all"),h()(),p(38,"div")(39,"p",7),b(40,"Completed Loads"),h(),p(41,"h3",8),b(42),h()()()()(),p(43,"div",12)(44,"div",13)(45,"div",14)(46,"div",15),q(47,"canvas",16),h(),p(48,"div",17)(49,"h5",18),b(50,"Email Subscriptions"),h(),p(51,"p",7),b(52,"Last Campaign Performance"),h()()(),p(53,"div",14)(54,"div",19)(55,"div",15),q(56,"canvas",16),h()(),p(57,"div",17)(58,"h5",18),b(59,"Carrier Payment"),h(),p(60,"p",7),b(61,"Last Campaign Performance"),h()()(),p(62,"div",14)(63,"div",15),q(64,"canvas",16),h(),p(65,"div",17)(66,"h5",18),b(67,"Completed Tasks"),h(),p(68,"p",7),b(69,"Last Campaign Performance"),h()()()()(),p(70,"div",20)(71,"div",21)(72,"div",22)(73,"h3",23),b(74,"Shipper Payment Summary"),h(),p(75,"p",7),b(76,"Overview of payments made to carriers"),h()(),p(77,"table",24)(78,"thead")(79,"tr",25)(80,"th",26),b(81,"Carrier Name"),h(),p(82,"th",26),b(83,"Total Loads Delivered"),h(),p(84,"th",26),b(85,"Amount Paid"),h()()(),p(86,"tbody"),Y(87,e$,7,3,"tr",27),h()()(),p(88,"div",21)(89,"div",22)(90,"h3",23),b(91,"Payment Metrics"),h(),p(92,"p",7),b(93,"Detailed statistics"),h()(),p(94,"table",24)(95,"thead")(96,"tr",25)(97,"th",26),b(98,"Metric"),h(),p(99,"th",26),b(100,"Value"),h()()(),p(101,"tbody")(102,"tr",28)(103,"td",29),b(104,"Total Carriers"),h(),p(105,"td",29),b(106),h()(),p(107,"tr",28)(108,"td",29),b(109,"Total Loads Delivered"),h(),p(110,"td",29),b(111),h()(),p(112,"tr",28)(113,"td",29),b(114,"Total Amount Paid"),h(),p(115,"td",29),b(116),h()(),p(117,"tr",28)(118,"td",29),b(119,"Highest Paid Carrier"),h(),p(120,"td",29),b(121),h()()()()()()()()),e&2&&(v(42),Ae(n.totalLoadsDelivered),v(5),C("data",n.statusChartData)("options",n.statusChartOptions)("type","doughnut"),v(9),C("data",n.paymentsChartData)("options",n.paymentsChartOptions)("type","bar"),v(8),C("data",n.barChartData)("options",n.barChartOptions)("type","bar"),v(23),C("ngForOf",n.topCarriers),v(19),Ae(n.totalCarriers),v(5),Ae(n.totalLoadsDelivered),v(5),Ae(n.totalAmountPaid),v(5),Vi("",n.highestPaidCarrier==null?null:n.highestPaidCarrier.name," (",n.highestPaidCarrier==null?null:n.highestPaidCarrier.amount,")"))},dependencies:[Rs,Kr,ys,qd,st,Ti],styles:[".dashboard-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px}.chart-container[_ngcontent-%COMP%]{position:relative;height:400px;width:100%}"]})};function t$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-chat",12),h()),i&2){let e=M();v(),C("chatUser",e.chatUser)}}function i$(i,t){if(i&1&&(p(0,"div",13),q(1,"app-dashboard",14),h()),i&2){let e=M();v(),C("bidTableData",e.bidTableData)("shipmentTableData",e.shipmentTableData)("clientTableData",e.clientTableData)("pickupTableData",e.pickupTableData)("fullData",e.dashBoardData)}}function n$(i,t){if(i&1&&(p(0,"div",13),q(1,"app-table",15),h()),i&2){let e=M();v(),C("tabledata",e.bidTableData)}}function r$(i,t){if(i&1&&(p(0,"div",13),q(1,"app-table",16),h()),i&2){let e=M();v(),C("tabledata",e.clientTableData)("updateResource",e.updateResource.bind(e))}}function o$(i,t){if(i&1&&(p(0,"div",13),q(1,"app-table",16),h()),i&2){let e=M();v(),C("tabledata",e.pickupTableData)("updateResource",e.updateResource.bind(e))}}function a$(i,t){if(i&1&&(p(0,"div",13),q(1,"app-table",15),h()),i&2){let e=M();v(),C("tabledata",e.shipmentTableData)}}function s$(i,t){if(i&1&&(p(0,"div",13),q(1,"app-table",15),h()),i&2){let e=M();v(),C("tabledata",e.paymentTableData)}}function l$(i,t){if(i&1&&(p(0,"div",13),q(1,"app-form",17),h()),i&2){let e=M();v(),C("formGroup",e.personalInfoForm)("companyInformation",e.companyInformation)("role",e.role)("address",e.address)("isDriver",e.isDriver)("userStatus",e.userStatus)("dataToShow",e.selectedComponent)}}function c$(i,t){if(i&1){let e=Ge();p(0,"app-adress-modal",18),_e("closeModal",function(){Pe(e);let r=M();return Oe(r.closeAddressModal())})("onSave",function(r){Pe(e);let o=M();return Oe(o.saveClient(r))})("onClose",function(){Pe(e);let r=M();return Oe(r.closeAddressModal())}),h()}if(i&2){let e=M();C("action",e.currentAction)("form",e.FetchedInfoForm)("modalHeading",e.modalHeading)("updateResource",e.updateResource.bind(e))}}function d$(i,t){if(i&1){let e=Ge();p(0,"app-adress-modal",19),_e("closeModal",function(){Pe(e);let r=M();return Oe(r.closeAddressModal())})("onSave",function(r){Pe(e);let o=M();return Oe(o.savePickup(r))})("onClose",function(){Pe(e);let r=M();return Oe(r.closeAddressModal())}),h()}if(i&2){let e=M();C("action",e.currentAction)("modalHeading",e.modalHeading)("updateResource",e.updateResource.bind(e))}}function u$(i,t){if(i&1){let e=Ge();p(0,"app-delete-modal",20),_e("closeModal",function(){Pe(e);let r=M();return Oe(r.closeAddressModal())}),h()}if(i&2){let e=M();C("action",e.action)("userId",e.targetId)("deleteItem",e.deleteResource.bind(e))}}var yg=class i{constructor(t,e,n,r){this.dataService=t;this.router=e;this.toastr=n;this.cdr=r}UserServices=ue(hr);ShipperServices=ue(An);localStorageServices=ue(on);driverData=ue(fr);fb=ue(qt);userStatus="Active";isDriver=!1;role="shipperAdmin";shipperId="";isChatActive=!1;chatUser;selectedComponent="Dashboard";currentAction="";showForm=!1;showModal=!1;showClientModal=!1;showPickupModal=!1;showDeleteModal=!1;modalHeading="";targetId;action;lowestBid=null;dashBoardData;companyInformation=[{id:"companyName",label:"Company Name",type:"text",placeholder:"Enter First Company Name"},{id:"email",label:"Email",type:"email",placeholder:"Enter Email",disabled:!0},{id:"phoneNumber",label:"Phone Number",type:"text",placeholder:"Enter Phone Number"},{id:"companyRefId",label:"Company Reference ID",type:"text",placeholder:"Enter Company Reference ID",disabled:!0}];bankDetails=[{id:"bankName",label:"Bank Name",type:"text",placeholder:"Enter Bank Name"},{id:"ifscCode",label:"IFSC Code",type:"text",placeholder:"Enter IFSC Code"},{id:"accountNumber",label:"Account Number",type:"text",placeholder:"Enter Account Number"}];documents=[{id:"idFile",label:"ID File Upload",type:"file",placeholder:"Upload ID"},{id:"contractFile",label:"Contract File Upload",type:"file",placeholder:"Upload Contract"}];address=[{id:"addressLine1",label:"Address Line 1",type:"text",placeholder:"Enter Address Line 1"},{id:"addressLine2",label:"Address Line 2",type:"text",placeholder:"Enter Address Line 2"},{id:"city",label:"City",type:"text",placeholder:"Enter City"},{id:"state",label:"State",type:"text",placeholder:"Enter State"},{id:"postalCode",label:"Postal Code",type:"text",placeholder:"Enter Postal Code"}];personalInfoForm=this.fb.group({companyName:["",j.required],lastName:["",j.required],email:[{value:"",disabled:!0},[j.required,j.email]],phoneNumber:["",j.required],companyRefId:[{value:"",disabled:!0},j.required],emergencyContactName:["",j.required],emergencyNumber:["",j.required],addressLine1:["",j.required],addressLine2:["",j.required],city:["",j.required],state:["",j.required],postalCode:["",[j.required,j.pattern("^[0-9]{6}$")]],notes:[""]});FetchedInfoForm=this.fb.group({companyName:["",j.required],address:this.fb.group({addressLine1:["",j.required],addressLine2:[""],city:["",j.required],state:["",j.required],postalCode:["",j.required]}),contactNumber:["",[j.required,j.pattern("^[0-9]+$")]],contactPerson:["",j.required],_id:[""],companyRefId:[this.shipperId,j.required]});buttonTexts=[{text:"Dashboard",icon:"dashboard"},{text:"All Bids",icon:"gavel"},{text:"Shipments",icon:"local_shipping"},{text:"Customers",icon:"people"},{text:"Pick-up Locations",icon:"location_on"},{text:"Payments",icon:"payment"},{text:"Log Out",icon:"logout"}];bidTableData={title:"All Bids",button:"Add New Load",statuses:["Open ","Closed"],tableHeads:["Load ID","Drop City","Commodity","Vehicle Body","Trailer Type","Base Price","Lowest Bid","Status","Actions"],tableData:[]};bidTableData1={title:"All Bids",button:"Add New Load",statuses:["Open ","Closed"],tableHeads:["Load ID","Drop City","Commodity","Vehicle Body","Trailer Type","Base Price","Lowest Bid","Status","Actions"],tableData:[]};shipmentTableData={title:"All Shipments",button:"Add New Load",statuses:["Assigned ","Dispatched","Delivered"],tableHeads:["Load ID","Drop City","Commodity","Carrier ID","Pickup Date","Base Price","Bid Price","Status","Actions"],tableData:[]};shipmentTableData1={title:"All Shipments",button:"Add New Load",statuses:["Assigned ","Dispatched","Delivered"],tableHeads:["Load ID","Drop City","Commodity","Carrier Name","Pickup Date","Base Price","Bid Price","Status","Actions"],tableData:[]};clientTableData={title:"All Clients",button:"Add New Client",statuses:[],tableHeads:["Client Name","Client City","Address","Contact Person","Contact Number","","Actions"],tableData:[]};clientTableData1={title:"All Clients",button:"Add New Client",statuses:[],tableHeads:["Client Name","Client City","Address","Contact Person","Contact Number","","Actions"],tableData:[]};pickupTableData={title:"All Pickups",button:"Add New Pick-up",statuses:[],tableHeads:["Client Name","Client City","Address","Contact Person","Contact Number","","Actions"],tableData:[]};pickupTableData1={title:"All Pickups",button:"Add New Pick-up",statuses:[],tableHeads:["Client Name","Client City","Address","Contact Person","Contact Number","","Actions"],tableData:[]};paymentTableData={title:"All Payments",button:"",statuses:[],tableHeads:["Load Id","Pick-Up City","Carrier Name","Carrier Ref_id","Amount","payment Status","Action"],tableData:[]};onSidebarButtonClick(t){t==="All Bids"&&this.UserServices.getAllShipperBids(this.shipperId).pipe(wt(e=>{console.log(e.bids);let r=e.bids.filter(o=>o.status==="Open"||o.status==="Closed");this.bidTableData=Fe(de({},this.bidTableData),{tableData:r.map(o=>({loadId:o.loadId||"",dropCity:o.dropoff1?.address?.city||"",commodity:o.material||"Unknown",vehicleType:o.vehicleBody||"",trailerType:o.vehicleType||"",basePrice:o.basePrice||"",lowestBid:o.lowestPrice||"--",_id:o._id,status:o.status}))})})).subscribe({next:()=>{console.log(this.bidTableData),this.selectedComponent=t,this.showForm=!1,this.showModal=!1},error:e=>{console.error("Error fetching bids",e)}}),t==="Shipments"&&(this.selectedComponent=t,this.UserServices.getAllShipperBids(this.shipperId).pipe(wt(e=>{console.log(e.bids);let r=e.bids.filter(o=>o.status==="Assigned"||o.status==="Dispatched"||o.status==="Delivered"||o.status==="Picked"||o.status==="Delivered1"||o.status==="Delivered2"||o.status==="Delivered3"||o.status==="Delivered"||o.status==="Delivered1-Partial"||o.status==="Delivered2-Partial"||o.status==="Delivered3-Partial"||o.status==="Delivered"||o.status==="Completed");this.shipmentTableData=Fe(de({},this.shipmentTableData),{tableData:r.map(o=>({loadId:o.loadId||"",dropCity:o.dropoff1?.address?.city||"",commodity:o.material||"Unknown",carrierId:o.bidCarrier||"",pickUpdate:this.getReadableDate(o.dispatchDateTime)||"",basePrice:o.basePrice||"",lowestBid:o.lowestPrice||"--",status:o.status,_id:o._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1},error:e=>{}})),t==="Customers"&&(this.selectedComponent=t,this.ShipperServices.getAllClients(this.shipperId).pipe(wt(e=>{console.log("the clients are ",e),this.clientTableData=Fe(de({},this.clientTableData),{tableData:e.map(n=>({clientName:n.companyName||"",clientCity:n.address.city||"",clientAddress:n.address.addressLine1||"",contactPerson:n.contactPerson||"",contactNumber:n.contactNumber||"",id:n._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1},error:e=>{console.error("Failed to fetch customers:",e)}})),t==="Pick-up Locations"&&(this.selectedComponent=t,this.ShipperServices.getAllPickups(this.shipperId).pipe(wt(e=>{console.log("the pickups are ",e),this.pickupTableData=Fe(de({},this.pickupTableData),{tableData:e.map(n=>({clientName:n.companyName||"",clientCity:n.address.city||"",clientAddress:n.address.addressLine1||"",contactPerson:n.contactPerson||"",contactNumber:n.contactNumber||"",id:n._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1},error:e=>{console.error("Failed to fetch customers:",e)}})),t==="Payments"&&this.ShipperServices.getAllPayments().pipe(wt(e=>{let n=e.payments.filter(r=>r.shipperId===this.shipperId);console.log(n[0]),this.paymentTableData=Fe(de({},this.paymentTableData),{tableData:n.map(r=>({loadId:r?.loadDetails?.loadId||"",destinationCity:r?.loadDetails?.pickupLocation?.address?.city||"",carrierName:r?.loadDetails?.bidCarrier||"",carrierRefId:r.carrierId||"",amount:r.amount||"",paymentStatus:r.status||"Unknown",id:r.loadId}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1},error:e=>{console.error("Failed to fetch customers:",e)}}),t==="Company Details"&&(this.selectedComponent=t,this.ShipperServices.getShipperInfo(this.shipperId).subscribe(e=>{if(e.success){let n=e.user;console.log(n),this.userStatus=n.status,this.personalInfoForm.patchValue({email:n.companyDetails.companyEmail,phoneNumber:n.companyDetails.companyPhone||"",companyRefId:n.companyRefId,companyName:n.companyDetails?n.companyDetails.companyName:"",emergencyContactName:n.personalDetails.emergencyContact.name,emergencyNumber:n.personalDetails.emergencyContact.phoneNumber,addressLine1:n.companyDetails.address.addressLine1,addressLine2:n.companyDetails.address.addressLine2,city:n.companyDetails.address.city,state:n.companyDetails.address.state,postalCode:n.companyDetails.address.postalCode})}this.showForm=!0},e=>{console.error("Failed to fetch driver data",e)})),t==="Log Out"&&(localStorage.removeItem("shipperAdminToken"),localStorage.removeItem("shipperAdminData"),this.router.navigate(["/shipper"])),t==="Dashboard"&&jo({bids:this.UserServices.getAllShipperBids(this.shipperId),clients:this.ShipperServices.getAllClients(this.shipperId),pickups:this.ShipperServices.getAllPickups(this.shipperId),payments:this.ShipperServices.getAllPayments()}).pipe(wt(({bids:e,clients:n,pickups:r,payments:o})=>{if(e&&e.bids){let a=e.bids,s=a.filter(c=>c.status==="Closed").slice(0,5);this.bidTableData1={title:"Closed Bids",button:"See All Bids",statuses:["Closed"],tableHeads:["Load ID","Drop City","Commodity","Vehicle Body","Trailer Type","Base Price","Lowest Bid"],tableData:s.map(c=>({loadId:c.loadId||"",dropCity:c.dropoff1?.address?.city||"",commodity:c.material||"Unknown",vehicleType:c.vehicleBody||"",trailerType:c.vehicleType||"",basePrice:c.basePrice||"",lowestBid:c.basePrice||""}))};let l=a.filter(c=>c.status==="Assigned"||c.status==="Dispatched"||c.status==="Delivered").slice(0,5);this.shipmentTableData1={title:"Shipments on Transport",button:"See All Shipments",statuses:["Closed"],tableHeads:["Load ID","Drop City","Commodity","Vehicle Body","Trailer Type","Base Price","Lowest Bid"],tableData:l.map(c=>({loadId:c.loadId||"",dropCity:c.dropoff1?.address?.city||"",commodity:c.material||"Unknown",vehicleType:c.vehicleBody||"",trailerType:c.vehicleType||"",basePrice:c.basePrice||"",lowestBid:c.basePrice||""}))}}if(n){let a=n.slice(0,5);this.clientTableData1={title:"Recently Added Clients",button:"See All Clients",statuses:[],tableHeads:["Client Name","City","Contact Person","Contact Number"],tableData:a.map(s=>({clientName:s.companyName||"",clientCity:s.address.city||"",contactPerson:s.contactPerson||"",contactNumber:s.contactNumber||""}))}}if(r){let a=r.slice(0,5);this.pickupTableData1={title:"Recently Added Pickups",button:"See All Pickups",statuses:[],tableHeads:["Client Name","City","Contact Person","Contact Number"],tableData:a.map(s=>({clientName:s.companyName||"",clientCity:s.address.city||"",contactPerson:s.contactPerson||"",contactNumber:s.contactNumber||""}))}}if(o){console.log(o);let a=o.payments;this.dashBoardData=a.filter(s=>s.shipperId===this.shipperId)}this.selectedComponent=t,this.showForm=!1,this.showModal=!1})).subscribe({next:()=>{console.log("Data fetched and processed successfully")},error:e=>{console.error("Error fetching data",e)}})}closeAddressModal(){this.showClientModal=!1,this.showPickupModal=!1,this.showDeleteModal=!1,this.cdr.detectChanges()}saveClient(t){}savePickup(t){}handleAction(t){if(this.currentAction=t.action,t.action==="edit"||t.action==="view"){let e=t.id;e?(console.log(t.item),t.item==="All Clients"&&this.ShipperServices.getClientInfo(e).subscribe(n=>{if(n.success){console.log(n);let r=n.addresses;this.modalHeading="Client Details",this.FetchedInfoForm.patchValue({companyName:r.companyName,address:{addressLine1:r.address.addressLine1,addressLine2:r.address.addressLine2,city:r.address.city,state:r.address.state,postalCode:r.address.postalCode},contactNumber:r.contactNumber,contactPerson:r.contactPerson,companyRefId:r.companyRefId,_id:r._id})}this.showForm=!1,this.showModal=!1,this.showClientModal=!0},n=>{console.error("Failed to fetch driver data",n)}),t.item==="All Pickups"&&this.ShipperServices.getPickupInfo(e).subscribe(n=>{if(n.success){console.log(n);let r=n.addresses;this.modalHeading="Pickup Details",this.FetchedInfoForm.patchValue({companyName:r.companyName,address:{addressLine1:r.address.addressLine1,addressLine2:r.address.addressLine2,city:r.address.city,state:r.address.state,postalCode:r.address.postalCode},contactNumber:r.contactNumber,contactPerson:r.contactPerson,companyRefId:r.companyRefId,_id:r._id})}this.showForm=!1,this.showModal=!1,this.showClientModal=!0},n=>{console.error("Failed to fetch driver data",n)})):console.error("No user ID found in localStorage"),this.showForm=!1,this.showModal=!1,this.showClientModal=!0}else t.action==="delete"&&(this.action=t.item,this.targetId=t.id,this.showModal=!1,this.showForm=!1,this.showDeleteModal=!0)}ngOnInit(){let t=this.localStorageServices.getShipperAdminData();this.shipperId=t._id,this.dataService.data$.subscribe(e=>{e==="Customers"&&(this.onSidebarButtonClick(e),console.log(e)),e==="Dashboard"&&this.onSidebarButtonClick(e),e==="All Bids"&&this.onSidebarButtonClick(e),e==="Pick-up Locations"&&this.onSidebarButtonClick(e),e==="Shipments"?this.onSidebarButtonClick(e):(console.log(e),this.handleAction(e))}),this.dataService.chatData$.subscribe(e=>{this.chatUser=e,this.isChatActive=!0}),this.onSidebarButtonClick("Dashboard")}chatBoxToggle(){this.isChatActive=!this.isChatActive}deleteResource(t,e){this.ShipperServices.deleteShipperResource(t,e).subscribe({next:n=>{console.log("Delete response:",n),n.success?(e==="All Clients"?(this.onSidebarButtonClick("Customers"),this.toastr.success("Client deleted successfully.")):e==="All Pickups"&&(this.onSidebarButtonClick("Pick-up Locations"),this.toastr.success("Pickup deleted successfully.")),this.showDeleteModal=!1):this.toastr.error(`Failed to delete the ${e.toLowerCase()}. ${n.message}`)},error:n=>{console.error("Error deleting resource:",n),this.toastr.error(`An error occurred while deleting the ${e.toLowerCase()}. Please try again later.`),this.showDeleteModal=!1}})}updateResource(t){console.log(t),t==="Client Details"?this.onSidebarButtonClick("Customers"):t==="Pickup Details"&&(console.log(t),console.log("the target is ",t==="Pickup Details"),this.onSidebarButtonClick("Pick-up Locations"))}getReadableDate(t){return new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}static \u0275fac=function(e){return new(e||i)(le(xi),le(fi),le(En),le(Dn))};static \u0275cmp=Ye({type:i,selectors:[["app-shipper-layout"]],standalone:!0,features:[Xe],decls:17,vars:12,consts:[[1,"flex","min-h-screen"],["class","chat-container",4,"ngIf"],[1,"w-1/6","min-h-screen"],[3,"buttonClick","buttonTexts"],["class","w-5/6 h-full",4,"ngIf"],[1,"chat-icon"],[3,"click"],["src","assets/images/chat.png","alt","Chat Image"],[3,"action","form","modalHeading","updateResource","closeModal","onSave","onClose",4,"ngIf"],[3,"action","modalHeading","updateResource","closeModal","onSave","onClose",4,"ngIf"],[3,"action","userId","deleteItem","closeModal",4,"ngIf"],[1,"chat-container"],[3,"chatUser"],[1,"w-5/6","h-full"],[3,"bidTableData","shipmentTableData","clientTableData","pickupTableData","fullData"],[3,"tabledata"],[3,"tabledata","updateResource"],[3,"formGroup","companyInformation","role","address","isDriver","userStatus","dataToShow"],[3,"closeModal","onSave","onClose","action","form","modalHeading","updateResource"],[3,"closeModal","onSave","onClose","action","modalHeading","updateResource"],[3,"closeModal","action","userId","deleteItem"]],template:function(e,n){e&1&&(p(0,"div",0),Y(1,t$,2,1,"div",1),p(2,"div",2)(3,"app-sidebar",3),_e("buttonClick",function(o){return n.onSidebarButtonClick(o)}),h()(),Y(4,i$,2,5,"div",4)(5,n$,2,1,"div",4)(6,r$,2,2,"div",4)(7,o$,2,2,"div",4)(8,a$,2,1,"div",4)(9,s$,2,1,"div",4)(10,l$,2,7,"div",4),p(11,"div",5)(12,"button",6),_e("click",function(){return n.chatBoxToggle()}),q(13,"img",7),h()()(),Y(14,c$,1,4,"app-adress-modal",8)(15,d$,1,3,"app-adress-modal",9)(16,u$,1,3,"app-delete-modal",10)),e&2&&(v(),C("ngIf",n.isChatActive),v(2),C("buttonTexts",n.buttonTexts),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Dashboard"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="All Bids"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Customers"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Pick-up Locations"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Shipments"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Payments"),v(),C("ngIf",n.showForm),v(4),C("ngIf",n.showClientModal),v(),C("ngIf",n.showPickupModal),v(),C("ngIf",n.showDeleteModal))},dependencies:[Go,Zo,st,Ct,Ko,Hd,Es,Os,_g],styles:[".chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:700px;height:800px;border:1px solid #ddd;border-radius:8px;box-shadow:0 0 10px #0000001a;z-index:1000;overflow:hidden}.chat-icon[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.chat-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;cursor:pointer}"]})};function h$(i,t){if(i&1&&(p(0,"div",29)(1,"div")(2,"div",7),b(3,"Drop-off 1 City"),h(),p(4,"div",8),b(5),h()()()),i&2){let e=M();v(5),Ae(e.load.dropoff1.address.city)}}function p$(i,t){if(i&1&&(p(0,"div",29)(1,"div")(2,"div",7),b(3,"Drop-off 2 City"),h(),p(4,"div",8),b(5),h()()()),i&2){let e=M();v(5),Ae(e.load.dropoff2.address.city)}}function f$(i,t){if(i&1&&(p(0,"div",29)(1,"div")(2,"div",7),b(3,"Drop-off 3 City"),h(),p(4,"div",8),b(5),h()()()),i&2){let e=M();v(5),Ae(e.load.dropoff3.address.city)}}function m$(i,t){if(i&1&&(p(0,"option",30),b(1),h()),i&2){let e=t.$implicit;C("value",e._id),v(),us(" ",e.MakeAndModel," - ",e.LicensePlateNumber," - ",e.VehicleType," ")}}function g$(i,t){if(i&1&&(p(0,"option",30),b(1),h()),i&2){let e=t.$implicit;C("value",e._id),v(),Vi(" ",e.name.firstName," ",e.name.lastName," ")}}function v$(i,t){i&1&&(p(0,"div")(1,"span",31),b(2,"Bid price must be lower than the base price."),h()())}var xg=class i{constructor(t,e,n,r,o){this.fb=t;this.dialog=e;this.dialogRef=n;this.dataService=r;this.data=o;console.log(o),this.load=o.load,this.loadRefId=o.loadRefId,this.bookingForm=this.fb.group({vehicle:["",j.required],driver:["",j.required],bid:["",[j.required,j.min(1),v5(this.load.basePrice)]],termsAccepted:[!1,j.requiredTrue]})}bookingForm;CarrierServices=ue(pr);localStorageServices=ue(on);load;loadRefId;vehicles=[];drivers=[];onSubmit(){if(this.bookingForm.valid){console.log("Form Submitted",this.bookingForm.value);let t=Fe(de({},this.bookingForm.value),{loadRefId:this.loadRefId});this.dialogRef.close(t)}else console.log("Form is not valid")}onCancel(){this.dialogRef.close(),this.bookingForm.reset()}openChatBox(t){this.dataService.sendChat(t)}ngOnInit(){let t=this.localStorageServices.getCarrierAdminData();this.CarrierServices.getAllTrucks(t.companyRefId).subscribe(e=>{console.log("Raw trucks response:",e),e&&Array.isArray(e.trucks)?(this.vehicles=e.trucks.filter(n=>{let r=this.load.dropoffs,o=this.load.pickupLocation.address.city.toLowerCase(),a;if(console.log(o),r===1)a=new Date(this.load.appointment1);else if(r===2)a=new Date(this.load.appointment2);else if(r===3)a=new Date(this.load.appointment3);else return!1;let s=typeof n.currentCity=="string"&&n.currentCity.trim()!==""&&typeof n.destinationCity=="string"&&n.destinationCity.trim()!==""&&typeof n.availableBy=="string"&&n.availableBy.trim()!=="";if(console.log("Truck being checked:",n),console.log("Has location fields:",s),console.log("Status:",n.Status),console.log("Work status:",n.workStatus),s){let l=n.Status==="Active",c=n.destinationCity.toLowerCase()===o,u=new Date(n.availableBy)<a;return console.log("Active:",l),console.log("City matches:",c),console.log("Date valid:",u),l&&c&&u}else{let l=n.Status==="Active",c=n.workStatus==="Idle";return console.log("Active:",l),console.log("Idle:",c),l&&c}}),console.log("Filtered trucks:",this.vehicles)):console.error("Invalid trucks response format:",e)},e=>{console.error("Error fetching trucks:",e)}),this.CarrierServices.getAllDrivers(t.companyRefId).subscribe(e=>{console.log(e),e&&Array.isArray(e.drivers)?(this.drivers=e.drivers.filter(n=>{let r=this.load.dropoffs,o=this.load.pickupLocation.address.city.toLowerCase(),a;if(r===1)a=new Date(this.load.appointment1);else if(r===2)a=new Date(this.load.appointment2);else if(r===3)a=new Date(this.load.appointment3);else return!1;return n.currentCity&&n.destinationCity&&n.availableBy?n.status==="Active"&&n.destinationCity.toLowerCase()===o&&new Date(n.availableBy)<a:n.status==="Active"&&n.workStatus==="Idle"}),console.log(this.drivers)):console.error("Invalid response format",e)},e=>{console.error("Error fetching drivers",e)})}static \u0275fac=function(e){return new(e||i)(le(qt),le(ka),le(Pr),le(xi),le(Nl))};static \u0275cmp=Ye({type:i,selectors:[["app-bidding"]],standalone:!0,features:[Xe],decls:108,vars:25,consts:[[1,"flex","flex-col","p-6","shadow-lg","bg-zinc-100","max-w-3xl"],[1,"w-full","px-4","md:px-6"],[1,"text-lg","font-medium","text-black"],[1,"mt-4","text-sm","text-black","text-opacity-90"],[1,"mt-6","px-4","md:px-6"],[1,"text-lg","font-bold","uppercase","text-gray-800"],[1,"grid","grid-cols-2","gap-6","mt-4","text-sm"],[1,"font-bold","text-gray-800"],[1,"mt-2","text-black","text-opacity-90"],[1,"flex","flex-wrap","gap-4"],["class","mt-4 text-sm",4,"ngIf"],[1,"mt-6","px-4","md:px-6",3,"ngSubmit","formGroup"],["for","vehicleSelect",1,"block","text-sm","font-medium","text-gray-800"],["id","vehicleSelect","formControlName","vehicle",1,"w-full","mt-2","px-3","py-2","text-sm","border","rounded-lg","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-sky-500"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","driverSelect",1,"block","text-sm","font-medium","text-gray-800"],["id","driverSelect","formControlName","driver",1,"w-full","mt-2","px-3","py-2","text-sm","border","rounded-lg","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-sky-500"],[1,"mt-6"],["for","bidInput",1,"block","text-sm","font-medium","text-gray-800"],["type","number","id","bidInput","formControlName","bid","placeholder","Enter Your Bid",1,"w-full","mt-2","px-3","py-2","text-sm","border","rounded-lg","border-gray-300","focus:outline-none","focus:ring-2","focus:ring-sky-500"],[4,"ngIf"],[1,"flex","items-center"],["type","checkbox","formControlName","termsAccepted",1,"w-4","h-4","text-sky-600","border-gray-300","rounded","focus:ring-sky-500"],[1,"ml-2","text-sm","text-black"],[1,"mt-6","flex","gap-4"],["type","submit",1,"px-6","py-2","text-white","bg-sky-600","rounded-lg","hover:bg-sky-700","disabled:opacity-50",3,"disabled"],["type","button",1,"px-6","py-2","text-gray-800","border","rounded-lg","border-gray-300","hover:border-gray-500",3,"click"],["type","button",1,"px-6","py-2","text-white","bg-green-500","border","border-green-500","rounded-lg","hover:bg-green-600","hover:border-green-600",3,"click"],[1,"mt-4","text-sm"],[3,"value"],[1,"error-text"]],template:function(e,n){if(e&1&&(p(0,"div",0)(1,"div",1)(2,"h1",2),b(3,"Book This Load"),h(),p(4,"p",3),b(5," Please confirm all load details below before booking, as some load information may have changed since your load search. "),h()(),p(6,"section",4)(7,"h2",5),b(8,"Load Details"),h(),p(9,"div",6)(10,"div")(11,"div",7),b(12,"Pickup City"),h(),p(13,"div",8),b(14),h()(),p(15,"div")(16,"div",7),b(17,"Dispatch Time"),h(),p(18,"div",8),b(19),bl(20,"date"),h()(),p(21,"div")(22,"div",7),b(23,"Number of Drop-offs"),h(),p(24,"div",8),b(25),h()(),p(26,"div")(27,"div",7),b(28,"Expected Delivery"),h(),p(29,"div",8),b(30),bl(31,"date"),h()(),p(32,"div")(33,"div",7),b(34,"Material"),h(),p(35,"div",8),b(36),h()(),p(37,"div")(38,"div",7),b(39,"Quantity"),h(),p(40,"div",8),b(41),h()(),p(42,"div")(43,"div",7),b(44,"Vehicle Type"),h(),p(45,"div",8),b(46),h()(),p(47,"div")(48,"div",7),b(49,"Trailer Type"),h(),p(50,"div",8),b(51),h()(),p(52,"div")(53,"div",7),b(54,"Base Price"),h(),p(55,"div",8),b(56),h()()()(),p(57,"section",4)(58,"h2",5),b(59,"Drop-off Details"),h(),p(60,"div",9),Y(61,h$,6,1,"div",10)(62,p$,6,1,"div",10)(63,f$,6,1,"div",10),h()(),p(64,"section",4)(65,"h2",5),b(66,"Agent Details"),h(),p(67,"div",6)(68,"div")(69,"div",7),b(70,"Agent Name"),h(),p(71,"div",8),b(72),h()(),p(73,"div")(74,"div",7),b(75,"Agent Contact"),h(),p(76,"div",8),b(77),h()()()(),p(78,"form",11),_e("ngSubmit",function(){return n.onSubmit()}),p(79,"label",12),b(80,"Assign a Vehicle"),h(),p(81,"select",13)(82,"option",14),b(83,"Select a Vehicle"),h(),Y(84,m$,2,4,"option",15),h(),p(85,"label",16),b(86,"Assign a Driver"),h(),p(87,"select",17)(88,"option",14),b(89,"Select a Driver"),h(),Y(90,g$,2,3,"option",15),h(),p(91,"div",18)(92,"label",19),b(93,"Enter Your Bid"),h(),q(94,"input",20),h(),Y(95,v$,3,0,"div",21),p(96,"div",18)(97,"label",22),q(98,"input",23),p(99,"span",24),b(100," By selecting 'Book This Load', I agree to the terms of this load and understand that not upholding these terms may result in fallout. "),h()()(),p(101,"div",25)(102,"button",26),b(103," Submit "),h(),p(104,"button",27),_e("click",function(){return n.onCancel()}),b(105," Cancel "),h(),p(106,"button",28),_e("click",function(){return n.openChatBox(n.load.shipperRefId)}),b(107," Chat With Shipper "),h()()()()),e&2){let r;v(14),Ae(n.load.pickupLocation.address.city),v(5),Ae(_l(20,19,n.load.dispatchDateTime,"medium")),v(6),Ae(n.load.dropoffs),v(5),Ae(_l(31,22,n.load.expectedDelivery,"medium")),v(6),Ae(n.load.material),v(5),we("",n.load.quantity," tons"),v(5),Ae(n.load.vehicleType),v(5),Ae(n.load.vehicleBody),v(5),we("$ ",n.load.basePrice,""),v(5),C("ngIf",n.load.dropoff1),v(),C("ngIf",n.load.dropoff2),v(),C("ngIf",n.load.dropoff3),v(9),Ae(n.load.agentName),v(5),Ae(n.load.agentContact),v(),C("formGroup",n.bookingForm),v(6),C("ngForOf",n.vehicles),v(6),C("ngForOf",n.drivers),v(5),C("ngIf",((r=n.bookingForm.get("bid"))==null?null:r.hasError("bidPriceInvalid"))&&((r=n.bookingForm.get("bid"))==null?null:r.touched)),v(7),C("disabled",!n.bookingForm.valid)}},dependencies:[di,Ui,Ss,Ds,li,Mh,x_,qo,_i,yi,ci,Ri,st,Ti,Ct,K2],styles:[".custom-dialog-container[_ngcontent-%COMP%]{max-height:90vh;overflow-y:auto}.mat-dialog-content[_ngcontent-%COMP%]{max-height:calc(80vh - 64px);overflow-y:auto}.error-text[_ngcontent-%COMP%]{color:red;font-size:.875rem;font-weight:700}"]})};function b$(i,t){if(i&1&&(p(0,"tr",28)(1,"td",29),b(2),h(),p(3,"td",29),b(4),h(),p(5,"td",29),b(6),h()()),i&2){let e=t.$implicit;v(2),Ae(e.name),v(2),Ae(e.loads),v(2),we("$",e.amount,"")}}var Cg=class i{bidTableData={title:"",button:"",statuses:[],tableHeads:[],tableData:[]};shipmentTableData={};clientTableData={};pickupTableData={};fullData=[];statsCalculated=!1;carrierStats=[];totalCarriers=0;totalLoadsDelivered=0;totalAmountPaid=0;totalShippers=0;totalLoadsFromShippers=0;totalAmountReceived=0;shipperStats=[];highestPaidShipper=null;topShippers;highestPayingShipper;highestPaidCarrier=null;topCarriers;statusChartData;statusChartOptions;paymentsChartData;paymentsChartOptions;barChartData;barChartOptions;calculateStats(){if(console.log("Full Data:",this.fullData),!this.fullData||this.fullData.length===0){console.error("No data available to calculate stats.");return}let t={},e={};this.fullData.forEach(l=>{console.log("Processing entry:",l);let c=l.shipperId,u=parseInt(l.amount,10);u=u/100;let f=l.loadDetails?.status||"",y=l.shipperDetails?.companyDetails?.companyName||"Unknown Shipper",g=l.loadDetails?.dispatchDateTime;if(f!=="Completed"){console.log("Skipping entry with load status:",f);return}if(!c||isNaN(u)){console.error("Invalid entry data:",l);return}if(t[c]?(t[c].loads+=1,t[c].amount+=u):t[c]={loads:1,amount:u,name:y},this.totalLoadsDelivered+=1,this.totalAmountPaid+=u,g){let S=new Date(g),w=S.toLocaleString("default",{month:"short"}),I=S.getFullYear(),A=`${w} ${I}`;e[A]=(e[A]||0)+u}}),console.log("Carrier Map:",t),this.carrierStats=Object.entries(t).map(([l,c])=>({carrierId:l,loads:c.loads,amount:c.amount,name:c.name})),console.log("Carrier Stats:",this.carrierStats),this.carrierStats.sort((l,c)=>c.amount-l.amount);let n=this.carrierStats.slice(0,3);console.log("Top 3 Carriers:",n),this.topCarriers=n,this.totalCarriers=this.carrierStats.length,console.log("Total Carriers:",this.totalCarriers),this.highestPaidCarrier=this.carrierStats.reduce((l,c)=>c.amount>l.amount?c:l,{carrierId:"",loads:0,amount:0,name:""}),console.log("Highest Paid Carrier:",this.highestPaidCarrier),console.log("Total Loads Delivered:",this.totalLoadsDelivered),console.log("Total Amount Paid:",this.totalAmountPaid),this.preparePaymentChartData(e);let r=this.carrierStats.sort((l,c)=>c.amount-l.amount).slice(0,5);console.log("Top 5 Carriers:",r);let o=r.map(l=>l.name),a=r.map(l=>l.loads),s=r.map(l=>l.amount/1e3);this.barChartData={labels:o,datasets:[{label:"Loads Delivered",data:a,backgroundColor:"rgba(54, 162, 235, 0.7)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Total Amount Paid (K$)",data:s,backgroundColor:"rgba(75, 192, 192, 0.7)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},console.log("Bar Chart Data:",this.barChartData)}preparePaymentChartData(t){let e=new Date,n=e.getMonth(),r=e.getFullYear(),o=[],a=[];for(let s=5;s>=0;s--){let l=(n-s+12)%12,c=r-Math.floor((n-s)/12),u=new Date(c,l).toLocaleString("default",{month:"short"});o.push(u+" "+c);let f=u+" "+c;a.push(t[f]||0)}this.paymentsChartData={labels:o,datasets:[{label:"Total Payments to Carriers",data:a,backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,borderRadius:5,barThickness:30}]},console.log("Payments Chart Data:",this.paymentsChartData)}getChartValues(){this.statusChartData={labels:["Open Loads","In-Transit Loads","Completed Loads"],datasets:[{data:[10,20,40],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#E7E9ED"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#E7E9ED"]}]},this.statusChartOptions={responsive:!0,plugins:{tooltip:{enabled:!0},legend:{labels:{usePointStyle:!0}}}},this.paymentsChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Carrier Payments Overview",font:{size:16}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(t){let e=t.dataset.label||"";return e&&(e+=": "),t.parsed.y!==null&&(e+=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t.parsed.y)),e}}}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Month"}},y:{beginAtZero:!0,grid:{},title:{display:!0,text:"Payment Amount ($)"},ticks:{callback:function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}}}}},this.barChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45}},y:{beginAtZero:!0,grid:{}}}}}ngOnInit(){this.getChartValues()}ngOnChanges(t){t.fullData&&!this.statsCalculated&&this.fullData&&this.fullData.length>0&&(console.log("Full data received:",this.fullData),this.calculateStats(),this.statsCalculated=!0)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ye({type:i,selectors:[["app-carrier-dashboard"]],inputs:{bidTableData:"bidTableData",shipmentTableData:"shipmentTableData",clientTableData:"clientTableData",pickupTableData:"pickupTableData",fullData:"fullData"},standalone:!0,features:[ki,Xe],decls:122,vars:16,consts:[[1,"main-content"],[1,"container-fluid"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","shadow-xl","rounded-lg","p-6","border","border-gray-200"],[1,"flex","items-center","space-x-4"],[1,"bg-yellow-500","text-white","p-4","rounded-full","shadow-md"],[1,"material-icons"],[1,"text-sm","text-gray-500"],[1,"text-2xl","font-semibold","text-gray-800"],[1,"bg-green-500","text-white","p-4","rounded-full","shadow-md"],[1,"bg-blue-500","text-white","p-4","rounded-full","shadow-md"],[1,"bg-red-500","text-white","p-4","rounded-full","shadow-md"],[1,"gap-6","mt-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"card","bg-white","shadow-lg","rounded-lg","overflow-hidden"],[1,"chart-container"],["baseChart","",3,"data","options","type"],[1,"card-body","p-4"],[1,"text-xl","font-semibold","text-gray-800"],[1,"card-header","bg-gradient-to-r","from-yellow-50","to-yellow-200","text-white","p-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mt-8"],[1,"bg-white","shadow-xl","rounded-lg","border","border-gray-200","overflow-hidden"],[1,"p-4","bg-gray-100"],[1,"text-lg","font-semibold","text-gray-800"],[1,"table-auto","w-full","text-left","border-collapse"],[1,"bg-gray-200","text-gray-600"],[1,"p-3","font-semibold"],["class","border-t",4,"ngFor","ngForOf"],[1,"border-t"],[1,"p-3"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"i",6),b(7,"insert_chart"),h()(),p(8,"div")(9,"p",7),b(10,"Total Open Bids"),h(),p(11,"h3",8),b(12,"4"),h()()()(),p(13,"div",3)(14,"div",4)(15,"div",9)(16,"i",6),b(17,"check_circle"),h()(),p(18,"div")(19,"p",7),b(20,"Total Closed Bids"),h(),p(21,"h3",8),b(22,"6"),h()()()(),p(23,"div",3)(24,"div",4)(25,"div",10)(26,"i",6),b(27,"local_shipping"),h()(),p(28,"div")(29,"p",7),b(30,"Total Shipments"),h(),p(31,"h3",8),b(32,"4"),h()()()(),p(33,"div",3)(34,"div",4)(35,"div",11)(36,"i",6),b(37,"done_all"),h()(),p(38,"div")(39,"p",7),b(40,"Completed Loads"),h(),p(41,"h3",8),b(42),h()()()()(),p(43,"div",12)(44,"div",13)(45,"div",14)(46,"div",15),q(47,"canvas",16),h(),p(48,"div",17)(49,"h5",18),b(50,"Email Subscriptions"),h(),p(51,"p",7),b(52,"Last Campaign Performance"),h()()(),p(53,"div",14)(54,"div",19)(55,"div",15),q(56,"canvas",16),h()(),p(57,"div",17)(58,"h5",18),b(59,"Shipper Payment"),h(),p(60,"p",7),b(61,"Last Campaign Performance"),h()()(),p(62,"div",14)(63,"div",15),q(64,"canvas",16),h(),p(65,"div",17)(66,"h5",18),b(67,"Completed Loads"),h(),p(68,"p",7),b(69,"Last Campaign Performance"),h()()()()(),p(70,"div",20)(71,"div",21)(72,"div",22)(73,"h3",23),b(74,"Shipper Payment Summary"),h(),p(75,"p",7),b(76,"Overview of payments made to carriers"),h()(),p(77,"table",24)(78,"thead")(79,"tr",25)(80,"th",26),b(81,"Shipper Name"),h(),p(82,"th",26),b(83,"Total Loads Delivered"),h(),p(84,"th",26),b(85,"Amount Paid"),h()()(),p(86,"tbody"),Y(87,b$,7,3,"tr",27),h()()(),p(88,"div",21)(89,"div",22)(90,"h3",23),b(91,"Payment Metrics"),h(),p(92,"p",7),b(93,"Detailed statistics"),h()(),p(94,"table",24)(95,"thead")(96,"tr",25)(97,"th",26),b(98,"Metric"),h(),p(99,"th",26),b(100,"Value"),h()()(),p(101,"tbody")(102,"tr",28)(103,"td",29),b(104,"Total Shippers"),h(),p(105,"td",29),b(106),h()(),p(107,"tr",28)(108,"td",29),b(109,"Total Loads Delivered"),h(),p(110,"td",29),b(111),h()(),p(112,"tr",28)(113,"td",29),b(114,"Total Amount Paid"),h(),p(115,"td",29),b(116),h()(),p(117,"tr",28)(118,"td",29),b(119,"Highest Paid Shipper"),h(),p(120,"td",29),b(121),h()()()()()()()()),e&2&&(v(42),Ae(n.totalLoadsDelivered),v(5),C("data",n.statusChartData)("options",n.statusChartOptions)("type","doughnut"),v(9),C("data",n.paymentsChartData)("options",n.paymentsChartOptions)("type","bar"),v(8),C("data",n.barChartData)("options",n.barChartOptions)("type","bar"),v(23),C("ngForOf",n.topCarriers),v(19),Ae(n.totalCarriers),v(5),Ae(n.totalLoadsDelivered),v(5),Ae(n.totalAmountPaid),v(5),Vi("",n.highestPaidCarrier==null?null:n.highestPaidCarrier.name," (",n.highestPaidCarrier==null?null:n.highestPaidCarrier.amount,")"))},dependencies:[Rs,Kr,ys,qd,st,Ti],styles:[".dashboard-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;padding:20px}.chart-container[_ngcontent-%COMP%]{position:relative;height:400px;width:100%}"]})};function _$(i,t){if(i&1&&(p(0,"div",9),q(1,"app-chat",10),h()),i&2){let e=M();v(),C("chatUser",e.chatUser)}}function y$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-carrier-dashboard",12),h()),i&2){let e=M();v(),C("fullData",e.dashBoardData)}}function x$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-table",13),h()),i&2){let e=M();v(),C("tabledata",e.bidTableData)}}function C$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-table",13),h()),i&2){let e=M();v(),C("tabledata",e.activeBidTableData)}}function w$(i,t){if(i&1){let e=Ge();p(0,"div",11)(1,"app-table",14),_e("driverInvitation",function(r){Pe(e);let o=M();return Oe(o.driverInvitation(r))}),h()()}if(i&2){let e=M();v(),C("tabledata",e.driverTableData)}}function S$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-table",13),h()),i&2){let e=M();v(),C("tabledata",e.truckTableData)}}function D$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-table",13),h()),i&2){let e=M();v(),C("tabledata",e.shipmentTableData)}}function I$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-table",13),h()),i&2){let e=M();v(),C("tabledata",e.paymentTableData)}}function A$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-form",15),h()),i&2){let e=M();v(),C("formGroup",e.personalInfoForm)("personalInformation",e.personalInformation)("bankDetails",e.bankDetails)("additionalInformation",e.additionalInformation)("address",e.address)("isDriver",e.isDriver)("userStatus",e.userStatus)("role",e.role)("formTitle",e.formTitle)("action",e.action)}}function E$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-form",16),h()),i&2){let e=M();v(),C("formGroup",e.companyInfoForm)("personalInformation",e.personalInformation)("bankDetails",e.bankDetails)("address",e.address)("isDriver",e.isDriver)("userStatus",e.userStatus)("role",e.role)("formTitle",e.formTitle)("dataToShow",e.formTitle)}}function k$(i,t){if(i&1&&(p(0,"div",11),q(1,"app-form",17),h()),i&2){let e=M();v(),C("formGroup",e.vehicleForm)("role",e.role)("vehicleDetails",e.vehicleDetails)("vehicleSpecifications",e.vehicleSpecifications)("registrationAndLicensing",e.registrationAndLicensing)("insuranceDetails",e.insuranceDetails)("statusAndMetadata",e.statusAndMetadata)("dataToShow",e.dataToShow)("isDriver",e.isDriver)("vehicleStatus",e.vehicleStatus)("formTitle",e.formTitle)("action",e.action)}}function T$(i,t){if(i&1){let e=Ge();p(0,"app-delete-modal",18),_e("closeModal",function(){Pe(e);let r=M();return Oe(r.closeDeleteModal())}),h()}if(i&2){let e=M();C("action",e.target)("userId",e.targetId)("deleteItem",e.deleteResource.bind(e))}}function Cp(i){let t=new Date(i),e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`}var wg=class i{constructor(t,e,n,r,o){this.toastr=t;this.router=e;this.dialog=n;this.carrierService=r;this.dataService=o}buttonTexts=[{text:"Dashboard",icon:"dashboard"},{text:"Search & Bid",icon:"search"},{text:"Active Bids",icon:"gavel"},{text:"Shipments",icon:"local_shipping"},{text:"Drivers",icon:"person"},{text:"Trucks",icon:"local_shipping"},{text:"Payments",icon:"payment"},{text:"Company Details",icon:"payment"},{text:"Log Out",icon:"logout"}];driverTableData={title:"Drivers",button:"Add Driver",statuses:["Active","Pending"],tableHeads:["Name","Email","Phone","Status","UserID","DOB","Aadhar Number","Actions"],tableData:[]};selectedComponent="Dashboard";currentAction="";showForm=!1;showModal=!1;showVehicleForm=!1;showCompanyForm=!1;UserServices=ue(hr);ShipperServices=ue(An);localStorageServices=ue(on);driverData=ue(fr);isChatActive=!1;fb=ue(qt);userStatus="Active";isDriver=!1;vehicleStatus;role="carrierAdmin";dataToShow="Trucks";shipperId="";carrierRefId="";chatUser="";formTitle;action;showDeleteModal=!1;targetId;target;dashBoardData;personalInformation=[{id:"firstName",label:"First Name",type:"text",placeholder:"Enter First Name"},{id:"lastName",label:"Last Name",type:"text",placeholder:"Enter Last Name"},{id:"email",label:"Email",type:"email",placeholder:"Enter Email",disabled:!0},{id:"phoneNumber",label:"Phone Number",type:"text",placeholder:"Enter Phone Number"},{id:"companyRefId",label:"Company Reference ID",type:"text",placeholder:"Enter Company Reference ID",disabled:!0},{id:"companyName",label:"Company Name",type:"text",placeholder:"Enter Company Name",disabled:!0}];companyInformation=[{id:"companyName",label:"Company Name",type:"text",placeholder:"Enter First Company Name"},{id:"email",label:"Email",type:"email",placeholder:"Enter Email",disabled:!0},{id:"phoneNumber",label:"Phone Number",type:"text",placeholder:"Enter Phone Number"},{id:"companyRefId",label:"Company Reference ID",type:"text",placeholder:"Enter Company Reference ID",disabled:!0}];bankDetails=[{id:"bankName",label:"Bank Name",type:"text",placeholder:"Enter Bank Name"},{id:"ifscCode",label:"IFSC Code",type:"text",placeholder:"Enter IFSC Code"},{id:"accountNumber",label:"Account Number",type:"text",placeholder:"Enter Account Number"}];address=[{id:"addressLine1",label:"Address Line 1",type:"text",placeholder:"Enter Address Line 1"},{id:"addressLine2",label:"Address Line 2",type:"text",placeholder:"Enter Address Line 2"},{id:"city",label:"City",type:"text",placeholder:"Enter City"},{id:"state",label:"State",type:"text",placeholder:"Enter State"},{id:"postalCode",label:"Postal Code",type:"text",placeholder:"Enter Postal Code"}];additionalInformation=[{id:"emergencyContactName",label:"Emergency Contact Name",type:"text",placeholder:"Enter Emergency Contact Name"},{id:"emergencyNumber",label:"Emergency Contact Number",type:"text",placeholder:"Enter Emergency Contact Number"},{id:"driversLicenseNumber",label:"Driver's License Number",type:"text",placeholder:"Enter Driver's License Number"},{id:"driversLicenseExpiry",label:"License Expiry Date",type:"date",placeholder:"Enter License Expiry Date"},{id:"aadharCardNumber",label:"Aadhar Card Number",type:"text",placeholder:"Enter Aadhar Card Number"},{id:"dateOfBirth",label:"DOB",type:"date",placeholder:"Enter Your DOB "}];vehicleDetails=[{id:"VehicleType",label:"Vehicle Type",type:"text",placeholder:"Enter Vehicle Type"},{id:"VehicleRegistrationNumber",label:"Vehicle Registration Number",type:"text",placeholder:"Enter Vehicle Registration Number"},{id:"VehicleColor",label:"Vehicle Color",type:"text",placeholder:"Enter Vehicle Color"},{id:"YearOfManufacture",label:"Year of Manufacture",type:"number",placeholder:"Enter Year of Manufacture"}];vehicleSpecifications=[{id:"VehicleWeight",label:"Vehicle Weight",type:"number",placeholder:"Enter Vehicle Weight (kg)"},{id:"NumberOfAxles",label:"Number of Axles",type:"number",placeholder:"Enter Number of Axles"},{id:"VehicleCapacity",label:"Vehicle Capacity",type:"number",placeholder:"Enter Vehicle Capacity (kg)"},{id:"FuelType",label:"Fuel Type",type:"text",placeholder:"Enter Fuel Type"}];registrationAndLicensing=[{id:"LicensePlateNumber",label:"License Plate Number",type:"text",placeholder:"Enter License Plate Number"},{id:"VehicleInspectionStatus",label:"Vehicle Inspection Status",type:"text",placeholder:"Enter Inspection Status"},{id:"RCOwnerName",label:"RC Owner Name",type:"text",placeholder:"Enter RC Owner Name"}];insuranceDetails=[{id:"InsuranceProvider",label:"Insurance Provider",type:"text",placeholder:"Enter Insurance Provider Name"},{id:"PolicyNumber",label:"Policy Number",type:"text",placeholder:"Enter Insurance Policy Number"},{id:"ExpiryDate",label:"Insurance Expiry Date",type:"date",placeholder:"Enter Insurance Expiry Date"}];statusAndMetadata=[{id:"Status",label:"Vehicle Status",type:"text",placeholder:"Enter Vehicle Status (e.g., Active/Inactive)"},{id:"MakeAndModel",label:"Make and Model",type:"text",placeholder:"Enter Make and Model"},{id:"companyRefId",label:"Company Reference ID",type:"text",placeholder:"Enter Company Reference ID",disabled:!0}];personalInfoForm=this.fb.group({companyName:["",j.required],lastName:["",j.required],email:[{value:"",disabled:!0},[j.required,j.email]],phoneNumber:["",j.required],companyRefId:[{value:"",disabled:!0},j.required],emergencyContactName:["",j.required],emergencyNumber:["",j.required],addressLine1:["",j.required],addressLine2:["",j.required],city:["",j.required],state:["",j.required],postalCode:["",[j.required,j.pattern("^[0-9]{6}$")]],licenseExpiry:["",j.required],status:["",j.required],workStatus:["",j.required],_id:[""],notes:[""]});vehicleForm=this.fb.group({VehicleType:["",j.required],VehicleRegistrationNumber:["",j.required],VehicleColor:["",j.required],MakeAndModel:["",j.required],LicensePlateNumber:["",j.required],YearOfManufacture:["",[j.required,j.min(1900),j.max(new Date().getFullYear())]],VehicleWeight:["",[j.required,j.min(1)]],NumberOfAxles:["",[j.required,j.min(1)]],VehicleCapacity:["",[j.required,j.min(1)]],FuelType:["",j.required],RCOwnerName:["",j.required],companyRefId:["",j.required],VehicleInspectionStatus:["",j.required],Status:["",j.required],workStatus:["",j.required],InsuranceProvider:["",j.required],PolicyNumber:["",j.required],ExpiryDate:["",j.required],isActive:[!0,j.requiredTrue],_id:[""],__v:[{value:"",disabled:!0}]});companyInfoForm=this.fb.group({companyName:["",j.required],companyEmail:[{value:"",disabled:!0},[j.required,j.email]],companyPhone:["",[j.required,j.pattern("^\\+?[0-9]{10,15}$")]],taxId:["",j.required],addressLine1:["",j.required],addressLine2:["",j.required],city:["",j.required],state:["",j.required],postalCode:["",[j.required,j.pattern("^[0-9]{6}$")]],companyRefId:[{value:"",disabled:!0},j.required],_id:[""],bankName:["",j.required],accountNumber:["",[j.required,j.pattern("^[0-9]{9,18}$")]],ifscCode:["",[j.required,j.pattern("^[A-Z]{4}0[A-Z0-9]{6}$")]]});truckTableData={title:"All Trucks",button:"Add New Truck",statuses:["Active","Pending"],tableHeads:["Vehicle Body","Truck Model","Truck Type","Status","License Plate","Owner Name","Fuel Type","Actions"],tableData:[]};bidTableData={title:"All Loads",button:"",statuses:[],tableHeads:["Load ID","Pickup City","Drop City","Commodity","Trailer Type","Base Price","Lowest Bid","Bid"],tableData:[]};activeBidTableData={title:"Active Bids",button:"",statuses:[],tableHeads:["Load ID","Pickup City","Drop City","Commodity","Trailer Type","Base Price","Lowest Bid","Bid"],tableData:[]};shipmentTableData={title:"All Shipments",button:"Add New Load",statuses:["Assigned ","Dispatched","Delivered"],tableHeads:["Load ID","Drop City","Pick City","Pickup Date","Base Price","Bid Price","Status","Actions"],tableData:[]};paymentTableData={title:"All Payments",button:"",statuses:[],tableHeads:["Load Id","Destination City","Shipper Name","Shipper Ref_id","Amount","payment Status","Action"],tableData:[]};onSidebarButtonClick(t){if(t==="Search & Bid"){let e=this.localStorageServices.getCarrierAdminData();this.carrierService.getAllBids(e.companyRefId).pipe(wt(n=>{console.log(n.loads);let r=n.loads;this.bidTableData=Fe(de({},this.bidTableData),{tableData:r.map(o=>({loadId:o.loadId||"",pickupCity:o.pickupLocation?.address?.city||"",dropCity:o.dropoff1?.address?.city||"",commodity:o.material||"Unknown",vehicleType:o.vehicleBody||"",basePrice:o.basePrice||"",lowestBid:o.lowestPrice||"--",_id:o._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showVehicleForm=!1,this.showCompanyForm=!1},error:n=>{}})}if(t==="Active Bids"){let e=this.localStorageServices.getCarrierAdminData();this.carrierService.getActiveBids(e.companyRefId).pipe(wt(n=>{console.log(n.loads);let o=n.loads.filter(a=>a.status!=="Assigned"&&a.status!=="Dispatched"&&a.status!=="Delivered"&&a.status!=="Cancelled");this.activeBidTableData=Fe(de({},this.activeBidTableData),{tableData:o.map(a=>({loadId:a.loadId||"",dropCity:a.dropoff1?.address?.city||"",commodity:a.material||"Unknown",vehicleType:a.vehicleBody||"",trailerType:a.vehicleType||"",basePrice:a.basePrice||"",lowestBid:a.lowestPrice||"--",_id:a._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showVehicleForm=!1,this.showCompanyForm=!1},error:n=>{}})}if(t==="Shipments"){let e=this.localStorageServices.getCarrierAdminData();console.log(e),this.carrierService.getAllCarrierLoads(e.companyRefId).pipe(wt(n=>{console.log(n.bids);let o=n.bids.filter(a=>a.status==="Assigned"||a.status==="Dispatched"||a.status==="Delivered"||a.status==="Picked"||a.status==="Delivered1"||a.status==="Delivered2"||a.status==="Delivered3"||a.status==="Delivered"||a.status==="Delivered1-Partial"||a.status==="Delivered2-Partial"||a.status==="Delivered3-Partial"||a.status==="Delivered"||a.status==="Completed");this.shipmentTableData=Fe(de({},this.shipmentTableData),{tableData:o.map(a=>({loadId:a.loadId||"",dropCity:a.dropoff1?.address?.city||"",pickCity:a.pickupLocation?.address?.city||"",pickUpdate:this.getReadableDate(a.dispatchDateTime)||"",basePrice:a.basePrice||"",lowestBid:a.lowestPrice||"--",status:a.status,_id:a._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showVehicleForm=!1,this.showCompanyForm=!1},error:n=>{}})}if(t==="Payments"&&this.carrierService.getAllPayments().pipe(wt(e=>{let n=e.payments.filter(r=>r.carrierId===this.carrierRefId);console.log(n),this.paymentTableData=Fe(de({},this.paymentTableData),{tableData:n.map(r=>({loadId:r?.loadDetails?.loadId||"",destinationCity:r.loadDetails.dropoff1.address.city||"",carrierName:r.shipperDetails?.companyDetails?.companyName||"",carrierRefId:r.shipperDetails?.companyRefId||"",amount:r.amount||"",paymentStatus:r.status||"Unknown",id:r.loadId}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showCompanyForm=!1},error:e=>{console.error("Failed to fetch customers:",e)}}),t==="Company Details"&&this.carrierService.getShipperInfo(this.carrierRefId).subscribe({next:e=>{if(console.log(e),e.success){let n=e.user;this.companyInfoForm.patchValue({firstName:n.name?.firstName||"",lastName:n.name?.lastName||"",email:n.companyDetails?.companyEmail||"",phoneNumber:n.companyDetails?.companyPhone||"",companyEmail:n.companyDetails?.companyEmail||"",companyPhone:n.companyDetails?.companyPhone||"",companyRefId:n.companyRefId||"",companyName:n.companyDetails?.companyName||"",addressLine1:n.companyDetails?.address?.addressLine1||"",addressLine2:n.companyDetails?.address?.addressLine2||"",city:n.companyDetails?.address?.city||"",state:n.companyDetails?.address?.state||"",postalCode:n.companyDetails?.address?.postalCode||"",bankName:n.bankDetails?.bankName||"",ifscCode:n.bankDetails?.ifscCode||"",accountNumber:n.bankDetails?.accountNumber||"",_id:n._id||""}),this.formTitle="Carrier Company Details",this.isDriver=!1,this.action="edit",this.showForm=!1,this.showModal=!1,this.showCompanyForm=!0,this.selectedComponent=t}},error:e=>{console.error("Failed to fetch driver data",e)}}),t==="Drivers"){let e=this.localStorageServices.getCarrierAdminData();this.carrierService.getAllDrivers(e.companyRefId).pipe(wt(n=>{console.log("the clients are ",n);let r=n.drivers;this.driverTableData=Fe(de({},this.driverTableData),{tableData:r.map(o=>({name:o.name?.firstName+" "+o.name?.lastName||"",email:o.email||"",phoneNumber:o.personalDetails?.emergencyContact?.phoneNumber||"",status:o.status||"Unknown",username:o.username||"",dateOfBirth:o.dateOfBirth?new Date(o.dateOfBirth).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"",aadharCardNumber:o.aadharCardNumber||"Not Available",id:o._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showVehicleForm=!1,this.showCompanyForm=!1},error:n=>{console.error("Failed to fetch customers:",n)}})}if(t==="Trucks"){let e=this.localStorageServices.getCarrierAdminData();this.carrierService.getAllTrucks(e.companyRefId).pipe(wt(n=>{console.log("The trucks are: ",n.trucks);let r=n.trucks;this.truckTableData=Fe(de({},this.truckTableData),{tableData:r.map(o=>({vehicleBody:o.VehicleColor||"",truckModel:o.MakeAndModel||"",truckType:o.VehicleType||"",capacity:o.Status||"",licensePlate:o.LicensePlateNumber||"",ownerName:o.RCOwnerName||"",fuelType:o.FuelType||"",id:o._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showVehicleForm=!1,this.showCompanyForm=!1},error:n=>{console.error("Failed to fetch trucks:",n)}})}t==="Dashboard"&&jo({payments:this.carrierService.getAllPayments()}).pipe(wt(({payments:e})=>{if(e){console.log(e);let n=e.payments;this.dashBoardData=n.filter(r=>r.carrierId===this.carrierRefId)}this.selectedComponent=t,this.showForm=!1,this.showModal=!1,this.showCompanyForm=!1})).subscribe({next:()=>{console.log("Data fetched and processed successfully")},error:e=>{console.error("Error fetching data",e)}}),t==="Log Out"&&(localStorage.removeItem("carrierAdminToken"),localStorage.removeItem("carrierAdminData"),this.router.navigate(["/carrier"]))}driverInvitation(t){this.carrierService.inviteDriver(t).subscribe(e=>{console.log(e)})}handleAction(t){let e;if("item"in t&&(e=t.item),"type"in t)if(t.type==="Bid"&&this.carrierService.getShipperInfo(this.carrierRefId).subscribe(n=>{if(n.success){let r=n.user.bankDetails;r&&r.accountNumber&&r.ifscCode&&r.bankName?this.carrierService.getLoadInfo(t.data).subscribe(o=>{this.openBidModal(o)}):this.toastr.error("Please add your bank details before making a bid.","Error")}else this.toastr.error("Failed to fetch shipper info.","Error")}),t.type==="BidAgain"&&this.carrierService.getShipperInfo(this.carrierRefId).subscribe(n=>{if(n.success){let r=n.user.bankDetails;r&&r.accountNumber&&r.ifscCode&&r.bankName?this.carrierService.getLoadInfo(t.data).subscribe(o=>{this.openBidModal(o)}):this.toastr.error("Please add your bank details before making a bid.","Error")}else this.toastr.error("Failed to fetch shipper info.","Error")}),(t.type==="edit"||t.type==="view")&&e!=="Trucks"){let n=t.data;n?this.driverData.getDriver(n).subscribe(r=>{if(r.success){let o=r.user;console.log(o.status),this.userStatus=o.status,console.log(o),this.personalInfoForm.patchValue({firstName:o.name.firstName,lastName:o.name.lastName,email:o.email,phoneNumber:o.phoneNumber||"",companyRefId:o.companyRefId,companyName:o.companyDetails?o.companyDetails.companyDetails?.companyName:"",emergencyContactName:o.personalDetails.emergencyContact.name,emergencyNumber:o.personalDetails.emergencyContact.phoneNumber,addressLine1:o.personalDetails.address.addressLine1,addressLine2:o.personalDetails.address.addressLine2,city:o.personalDetails.address.city,state:o.personalDetails.address.state,postalCode:o.personalDetails.address.postalCode,driversLicenseNumber:o.driversLicenseNumber||"",driversLicenseExpiry:Cp(o.driversLicenseExpiry||""),aadharCardNumber:o.aadharCardNumber||"",dateOfBirth:Cp(o.dateOfBirth||""),ifscCode:o.ifscCode||"",accountNumber:o.accountNumber||"",bankName:o.bankName||"Bank"})}},r=>{console.error("Failed to fetch driver data",r)}):console.error("No user ID found in localStorage"),this.showForm=!0,this.showModal=!1}else t.type==="delete"&&e!=="Trucks"&&(this.showModal=!0,this.showForm=!1,this.showVehicleForm=!1);else if("action"in t){let n=t.action,r=t.id,o=t.item;if(this.action=n,(n==="edit"||n==="view")&&o!=="Trucks")r&&this.driverData.getDriver(r).subscribe(a=>{if(a.success){let s=a.user;console.log(s.status),this.userStatus=s.status,console.log(s),this.personalInfoForm.patchValue({firstName:s.name.firstName,lastName:s.name.lastName,email:s.email,phoneNumber:s.phoneNumber||"",companyRefId:s.companyRefId,companyName:s.companyDetails?s.companyDetails.companyDetails?.companyName:"",emergencyContactName:s.personalDetails.emergencyContact.name,emergencyNumber:s.personalDetails.emergencyContact.phoneNumber,addressLine1:s.personalDetails.address.addressLine1,addressLine2:s.personalDetails.address.addressLine2,city:s.personalDetails.address.city,state:s.personalDetails.address.state,postalCode:s.personalDetails.address.postalCode,driversLicenseNumber:s.driversLicenseNumber||"",driversLicenseExpiry:Cp(s.driversLicenseExpiry||""),aadharCardNumber:s.aadharCardNumber||"Not Available",dateOfBirth:Cp(s.dateOfBirth||"Not Available"),ifscCode:s.ifscCode||"",accountNumber:s.accountNumber||"",bankName:s.bankName||"Bank",status:s.status,workStatus:s.workStatus,_id:s._id})}},a=>{console.error("Failed to fetch driver data",a)}),this.formTitle="Driver Details",this.showForm=!0,this.showModal=!1;else if(n==="delete")this.showModal=!0,this.showForm=!1,this.showVehicleForm=!1;else if((n==="edit"||n==="view")&&o==="Trucks"){console.log("getting the truck details soon");let a=t.id;a?this.carrierService.getTruckInfo(a).subscribe(s=>{if(s.success){let l=s.truck;console.log(l),this.vehicleStatus=l.Status,console.log(this.vehicleStatus),this.vehicleForm.patchValue({VehicleType:l.VehicleType||"",VehicleRegistrationNumber:l.VehicleRegistrationNumber||"",VehicleColor:l.VehicleColor||"",VehicleWeight:l.VehicleWeight||"",Status:l.Status||"Inactive",YearOfManufacture:l.YearOfManufacture||"",NumberOfAxles:l.NumberOfAxles||"",LicensePlateNumber:l.LicensePlateNumber||"",VehicleInspectionStatus:l.VehicleInspectionStatus||"Pending",MakeAndModel:l.MakeAndModel||"",FuelType:l.FuelType||"",VehicleCapacity:l.VehicleCapacity||"",RCOwnerName:l.RCOwnerName||"",ExpiryDate:Cp(l.ExpiryDate||""),InsuranceProvider:l.InsuranceProvider||"",PolicyNumber:l.PolicyNumber||"",companyRefId:l.companyRefId||"",workStatus:l.workStatus,isActive:l.isActive,_id:l._id})}},s=>{console.error("Failed to fetch driver data",s)}):console.error("No user ID found in localStorage"),this.formTitle="Truck Details",this.showVehicleForm=!0,this.showModal=!1,this.showForm=!1}}}openBidModal(t){this.dialog.open(xg,{width:"600px",height:"80vh",data:Fe(de({},t),{loadRefId:t.load._id}),panelClass:"custom-dialog-container",disableClose:!0}).afterClosed().subscribe(n=>{let r=this.localStorageServices.getCarrierAdminData();this.carrierService.getShipperInfo(r.companyRefId).subscribe(o=>{if(console.log(o),o&&o.success){let a=o.user.companyDetails.companyName,s=o.user.companyDetails.companyPhone,l=o.user.name.firstName,c=o.user.name.lastName,u=o.user.companyRefId;n=Fe(de({},n),{companyName:a,companyPhone:s,firstName:l,lastName:c,companyRefId:u}),console.log(n),this.carrierService.postBid(n).subscribe(f=>{console.log(f)})}else console.error("Failed to fetch shipper info")})})}ngOnInit(){let t=localStorage.getItem("carrierAdminData");if(t){let e=JSON.parse(t),n=e._id;this.carrierRefId=e.companyRefId,this.shipperId=n}this.dataService.data$.subscribe(e=>{console.log(e),e==="Customers"&&(this.onSidebarButtonClick(e),console.log(e)),e==="Shipments"&&(this.onSidebarButtonClick(e),console.log(e)),e==="Drivers"||e==="Trucks"?(this.onSidebarButtonClick(e),this.showVehicleForm=!1,this.showForm=!1,console.log(e)):(e.action==="delete"&&(this.targetId=e.id,e.item==="Drivers"&&(this.target="Drivers",this.onSidebarButtonClick("Drivers"),this.showDeleteModal=!0),e.item==="Trucks"&&(this.onSidebarButtonClick("Trucks"),this.target="Trucks",this.showDeleteModal=!0)),console.log(e),this.handleAction(e))}),this.dataService.chatData$.subscribe(e=>{this.chatUser=e,this.isChatActive=!0}),this.onSidebarButtonClick("Dashboard")}chatBoxToggle(){this.isChatActive=!this.isChatActive}deleteResource(t,e){console.log(t,e),e==="Trucks"&&(this.driverData.updateTruckInfo({isActive:!1},t).subscribe({next:n=>{n.success?this.toastr.success("Truck deleted successfully!","Success"):this.toastr.error(n.message,"Error")},error:n=>{console.error("Error deleting truck:",n),this.toastr.error("Failed to delete truck. Please try again.","Error")}}),this.onSidebarButtonClick("Trucks")),e==="Drivers"&&(this.driverData.updateDriverInfo({isActive:!1},t).subscribe({next:n=>{n.success?this.toastr.success("Driver deleted successfully!","Success"):this.toastr.error(n.message,"Error"),this.onSidebarButtonClick("Drivers")},error:n=>{console.error("Error deleting driver:",n),this.toastr.error("Failed to delete driver. Please try again.","Error")}}),this.onSidebarButtonClick("Drivers"))}closeDeleteModal(){this.showDeleteModal=!1}getReadableDate(t){return new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}static \u0275fac=function(e){return new(e||i)(le(En),le(fi),le(ka),le(pr),le(xi))};static \u0275cmp=Ye({type:i,selectors:[["app-carrier-layout"]],standalone:!0,features:[Xe],decls:18,vars:13,consts:[[1,"flex","h-screen"],["class","chat-container",4,"ngIf"],[1,"w-1/6","h-full"],[3,"buttonClick","buttonTexts"],["class","w-5/6 h-full",4,"ngIf"],[1,"chat-icon"],[3,"click"],["src","assets/images/chat.png","alt","Chat Image"],[3,"action","userId","deleteItem","closeModal",4,"ngIf"],[1,"chat-container"],[3,"chatUser"],[1,"w-5/6","h-full"],[3,"fullData"],[3,"tabledata"],[3,"driverInvitation","tabledata"],[3,"formGroup","personalInformation","bankDetails","additionalInformation","address","isDriver","userStatus","role","formTitle","action"],[3,"formGroup","personalInformation","bankDetails","address","isDriver","userStatus","role","formTitle","dataToShow"],[3,"formGroup","role","vehicleDetails","vehicleSpecifications","registrationAndLicensing","insuranceDetails","statusAndMetadata","dataToShow","isDriver","vehicleStatus","formTitle","action"],[3,"closeModal","action","userId","deleteItem"]],template:function(e,n){e&1&&(p(0,"div",0),Y(1,_$,2,1,"div",1),p(2,"div",2)(3,"app-sidebar",3),_e("buttonClick",function(o){return n.onSidebarButtonClick(o)}),h()(),Y(4,y$,2,1,"div",4)(5,x$,2,1,"div",4)(6,C$,2,1,"div",4)(7,w$,2,1,"div",4)(8,S$,2,1,"div",4)(9,D$,2,1,"div",4)(10,I$,2,1,"div",4)(11,A$,2,10,"div",4)(12,E$,2,9,"div",4)(13,k$,2,12,"div",4),p(14,"div",5)(15,"button",6),_e("click",function(){return n.chatBoxToggle()}),q(16,"img",7),h()()(),Y(17,T$,1,3,"app-delete-modal",8)),e&2&&(v(),C("ngIf",n.isChatActive),v(2),C("buttonTexts",n.buttonTexts),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Dashboard"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Search & Bid"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Active Bids"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Drivers"),v(),C("ngIf",!n.showForm&&!n.showModal&&!n.showVehicleForm&&n.selectedComponent==="Trucks"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Shipments"),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="Payments"),v(),C("ngIf",n.showForm),v(),C("ngIf",n.showCompanyForm),v(),C("ngIf",n.showVehicleForm),v(4),C("ngIf",n.showDeleteModal))},dependencies:[Go,Zo,st,Ct,Ko,Hd,Os,Cg],styles:[".chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:700px;height:800px;border:1px solid #ddd;border-radius:8px;box-shadow:0 0 10px #0000001a;z-index:1000;overflow:hidden}.chat-icon[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.chat-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;cursor:pointer}"]})};var Sg=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ye({type:i,selectors:[["app-success"]],standalone:!0,features:[Xe],decls:14,vars:0,consts:[[1,"bg-white-100","h-screen","flex","justify-center","items-center"],[1,"bg-white","p-6","md:mx-auto"],["viewBox","0 0 24 24",1,"text-green-600","w-16","h-16","mx-auto","my-6"],["fill","currentColor","d","M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"],[1,"text-center"],[1,"md:text-2xl","text-base","text-gray-900","font-semibold","text-center"],[1,"text-gray-600","my-2"],[1,"py-10","text-center"],["href","#",1,"px-12","bg-indigo-600","hover:bg-indigo-500","text-white","font-semibold","py-3"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1),Hi(),p(2,"svg",2),q(3,"path",3),h(),nn(),p(4,"div",4)(5,"h3",5),b(6,"Success!"),h(),p(7,"p",6),b(8,"Thank you for completing your secure online payment."),h(),p(9,"p"),b(10," Have a great day! "),h(),p(11,"div",7)(12,"a",8),b(13," GO BACK "),h()()()()())},styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}.container[_ngcontent-%COMP%]{min-width:100vw;min-height:100vh;display:flex;justify-content:center;align-items:center;background-color:#eee;padding:20px;box-sizing:border-box}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;max-width:800px;background-color:#fff;box-shadow:0 15px 30px #0000001a;font-family:Poppins,sans-serif;border-radius:20px;overflow:hidden;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{width:35%;background-color:#304767;height:100%;border-top-left-radius:20px;border-bottom-left-radius:20px;padding:20px 30px;box-sizing:border-box}.left-heading[_ngcontent-%COMP%]{color:#fff}.steps-content[_ngcontent-%COMP%]{margin-top:30px;color:#fff}.steps-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-top:15px}.progress-bar[_ngcontent-%COMP%]{list-style:none;margin-top:30px;font-size:13px;font-weight:700;counter-reset:container 0}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin-left:40px;margin-top:50px;counter-increment:container 1;color:#4f6581}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:counter(container);line-height:25px;text-align:center;position:absolute;height:25px;width:25px;border:1px solid #4f6581;border-radius:50%;left:-40px;top:-5px;z-index:10;background-color:#304767}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";position:absolute;height:90px;width:2px;background-color:#4f6581;z-index:1;left:-27px;top:-70px}.progress-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background-color:#fff}.progress-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{display:none}.progress-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before{color:#fff;border:1px solid #fff}.progress-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#fff}.d-none[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{width:65%;background-color:#fff;height:100%;border-radius:20px}.main[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{display:block}.main[_ngcontent-%COMP%]{padding:40px}.main[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:2px;height:30px;width:30px;background-color:#ccc;border-radius:50%;color:#ff0;font-size:19px}.text[_ngcontent-%COMP%]{margin-top:20px}.congrats[_ngcontent-%COMP%]{text-align:center}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;font-weight:700;color:#cbced4}.input-text[_ngcontent-%COMP%]{margin:30px 0;display:flex;gap:20px}.input-text[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{width:100%;position:relative}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;height:40px;border:none;outline:0;border-radius:5px;border:1px solid #cbced4;gap:20px;box-sizing:border-box;padding:0 10px}.input-text[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;font-size:14px;transition:all .5s}.input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ span[_ngcontent-%COMP%], .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ span[_ngcontent-%COMP%]{top:-15px;left:6px;font-size:10px;font-weight:600}.input-div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:-15px;left:6px;font-size:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;width:100px;border:none;border-radius:5px;background-color:#0075ff;font-size:12px;color:#fff;cursor:pointer}.button_space[_ngcontent-%COMP%]{display:flex;gap:20px}.button_space[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){background-color:#fff;color:#000;border:1px solid#000}.user_card[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:40px;height:200px;width:100%;border:1px solid #c7d3d9;border-radius:10px;display:flex;overflow:hidden;position:relative;box-sizing:border-box}.user_card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:80px;width:100%;background-color:#dfeeff}.circle[_ngcontent-%COMP%]{position:absolute;top:40px;left:60px}.circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:70px;width:70px;background-color:#fff;display:flex;justify-content:center;align-items:center;border:2px solid #fff;border-radius:50%}.circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.social[_ngcontent-%COMP%]{display:flex;position:absolute;top:100px;right:10px}.social[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:7px;background-color:#fff;border:1px solid #cbd6dc;display:flex;justify-content:center;align-items:center;margin-left:10px;color:#cbd6dc}.social[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.heart[_ngcontent-%COMP%], .share[_ngcontent-%COMP%]{color:red!important}.user_name[_ngcontent-%COMP%]{position:absolute;top:110px;margin:10px;padding:0 30px;display:flex;flex-direction:column;width:100%}.user_name[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4c5b68}.detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-right:50px}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#00f}.checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#7ac142;fill:none;animation:_ngcontent-%COMP%_stroke .6s cubic-bezier(.65,0,.45,1) forwards}.checkmark[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 #7ac142;animation:_ngcontent-%COMP%_fill .4s ease-in-out .4s forwards,_ngcontent-%COMP%_scale .3s ease-in-out .9s both}.checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:_ngcontent-%COMP%_stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards}@keyframes _ngcontent-%COMP%_stroke{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_scale{0%,to{transform:none}50%{transform:scale3d(1.1,1.1,1)}}@keyframes _ngcontent-%COMP%_fill{to{box-shadow:inset 0 0 0 30px #7ac142}}@keyframes _ngcontent-%COMP%_error{to{box-shadow:inset 0 0 0 30px #c60313}}.warning[_ngcontent-%COMP%]{border:1px solid red!important}@media (max-width: 750px){.container[_ngcontent-%COMP%]{height:scroll}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:350px;height:auto!important;margin:30px 0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{width:100%}.input-text[_ngcontent-%COMP%]{display:block}.input-text[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{display:none}}.demo1[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 #fff;animation:_ngcontent-%COMP%_error .4s ease-in-out .4s forwards,_ngcontent-%COMP%_scale .3s ease-in-out .9s both}.ui-success[_ngcontent-%COMP%], .ui-error[_ngcontent-%COMP%]{width:100px;height:100px;margin:40px;border:1px solid #eee}@keyframes _ngcontent-%COMP%_ani-success-circle{to{stroke-dashoffset:782.2565707438586px}}@keyframes _ngcontent-%COMP%_ani-success-path{0%{stroke-dashoffset:62px}65%{stroke-dashoffset:-5px}84%{stroke-dashoffset:4px}to{stroke-dashoffset:-2px}}@keyframes _ngcontent-%COMP%_ani-error-line{to{stroke-dashoffset:0}}@keyframes _ngcontent-%COMP%_ani-error-circle{0%{stroke-dasharray:0,260.75219024795285px;stroke-dashoffset:0}35%{stroke-dasharray:120px,120px;stroke-dashoffset:-120px}70%{stroke-dasharray:0,260.75219024795285px;stroke-dashoffset:-260.75219024795285px}to{stroke-dasharray:260.75219024795285px,0;stroke-dashoffset:-260.75219024795285px}}']})};function M$(i,t){if(i&1){let e=Ge();p(0,"div",4)(1,"app-sidebar",5),_e("buttonClick",function(r){Pe(e);let o=M();return Oe(o.onSidebarButtonClick(r))}),h()()}if(i&2){let e=M();v(),C("buttonTexts",e.buttonTexts)}}function P$(i,t){if(i&1){let e=Ge();p(0,"div",4)(1,"app-sidebar",5),_e("buttonClick",function(r){Pe(e);let o=M();return Oe(o.onSidebarButtonClick(r))}),h()()}if(i&2){let e=M();v(),C("buttonTexts",e.activeButtonTexts)}}function O$(i,t){if(i&1){let e=Ge();p(0,"div",6)(1,"app-form",7),_e("isOn_BoardingSuccess",function(r){Pe(e);let o=M();return Oe(o.isOn_BoardingSuccess(r))}),h()()}if(i&2){let e=M();v(),C("formGroup",e.personalInfoForm)("formTitle",e.formTitle)("personalInformation",e.personalInformation)("bankDetails",e.bankDetails)("additionalInformation",e.additionalInformation)("address",e.address)}}function N$(i,t){if(i&1&&(p(0,"div",6),q(1,"app-form",8),h()),i&2){let e=M();v(),C("formGroup",e.personalInfoForm)("personalInformation",e.personalInformation)("bankDetails",e.bankDetails)("additionalInformation",e.additionalInformation)("address",e.address)("isDriver",e.isDriver)("userStatus",e.userStatus)("role",e.role)("formTitle",e.formTitle)("action",e.action)}}function L$(i,t){if(i&1&&(p(0,"div",6),q(1,"app-table",9),h()),i&2){let e=M();v(),C("tabledata",e.shipmentTableData)}}function R$(i,t){i&1&&(p(0,"div",10),q(1,"app-success"),h())}function F$(i,t){i&1&&q(0,"div",10)}var j$=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Lakshadweep","Delhi","Puducherry","Ladakh","Jammu and Kashmir"];function EE(i){let t=new Date(i),e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`}function B$(){return i=>{let t=new Date;return new Date(i.value)<t?{pastDate:!0}:null}}function V$(){return i=>/^[A-Za-z]{4}\d{7}$/.test(i.value)?null:{invalidIFSC:!0}}function U$(){return i=>/^\d{9,18}$/.test(i.value)?null:{invalidAccountNumber:!0}}function Vy(){return i=>/^[a-zA-Z]+(\s+[a-zA-Z]+)*$/.test(i.value)&&i.value.trim().length>=3?null:{invalidName:{value:i.value}}}function kE(){return i=>/^(\+91[\-\s]?)?[0]?(91)?[789]\d{9}$/.test(i.value)?null:{invalidPhoneNumber:{value:i.value}}}function z$(){return i=>/^[A-Z]{2}[0-9]{13}$/.test(i.value)?null:{invalidDriversLicense:{value:i.value}}}function q$(){return i=>{let t=new Date(i.value),e=Date.now()-t.getTime(),n=new Date(e);return Math.abs(n.getUTCFullYear()-1970)>=18?null:{invalidAge:{value:i.value}}}}function H$(){return i=>/^[1-9][0-9]{5}$/.test(i.value)?null:{invalidPostalCode:{value:i.value}}}function G$(){return i=>/^[a-zA-Z]+(?:\s[a-zA-Z]+)*$/.test(i.value.trim())?null:{invalidCityName:{value:i.value}}}function TE(){return i=>/^[a-zA-Z0-9]+(?:\s[a-zA-Z0-9]+)*$/.test(i.value.trim())?null:{invalidAddress:{value:i.value}}}var Dg=class i{constructor(t,e,n){this.fb=t;this.dataService=e;this.router=n;this.personalInfoForm=this.fb.group({firstName:["",[j.required,Vy()]],lastName:["",[j.required,Vy()]],email:[{value:"",disabled:!0},[j.required,j.email]],phoneNumber:["",[j.required,kE()]],companyRefId:[{value:"",disabled:!0},j.required],companyName:[{value:"",disabled:!0},j.required],driversLicenseNumber:["",[j.required,z$()]],driversLicenseExpiry:["",[j.required,B$()]],dateOfBirth:["",[j.required,q$()]],emergencyContactName:["",[j.required,Vy()]],emergencyNumber:["",[j.required,kE()]],addressLine1:["",[j.required,TE()]],addressLine2:["",[j.required,TE()]],city:["",[j.required,G$()]],state:["",j.required],postalCode:["",[j.required,H$()]],aadharCardNumber:["",[j.required,j.pattern("^[0-9]{12}$")]],ifscCode:["",[j.required,V$()]],accountNumber:["",[j.required,U$()]],_id:[""],isActive:[!0],status:[""],workStatus:[""]})}personalInfoForm;showForm=!1;showModal=!1;isDriver=!0;userStatus="Active";role="driver";action;selectedFileName="";buttonTexts=[{text:"Driver On-Boarding",icon:"assignment_ind"}];activeButtonTexts=[{text:"My Loads",icon:"local_shipping"},{text:"My Details",icon:"person"},{text:"Log Out",icon:"logout"}];driverData=ue(fr);localstorage=ue(on);formTitle="Driver Information";isBoardingActive=!0;isBoardingSuccess="active";buttonText;status;personalInformation=[{id:"firstName",label:"First Name",type:"text",placeholder:"Enter First Name"},{id:"lastName",label:"Last Name",type:"text",placeholder:"Enter Last Name"},{id:"email",label:"Email",type:"email",placeholder:"Enter Email",disabled:!0},{id:"phoneNumber",label:"Phone Number",type:"text",placeholder:"Enter Phone Number"},{id:"companyRefId",label:"Company Reference ID",type:"text",placeholder:"Enter Company Reference ID",disabled:!0},{id:"companyName",label:"Company Name",type:"text",placeholder:"Enter Company Name",disabled:!0}];additionalInformation=[{id:"emergencyContactName",label:"Emergency Contact Name",type:"text",placeholder:"Enter Emergency Contact Name"},{id:"emergencyNumber",label:"Emergency Contact Number",type:"text",placeholder:"Enter Emergency Contact Number"},{id:"driversLicenseNumber",label:"Driver's License Number",type:"text",placeholder:"Enter Driver's License Number"},{id:"driversLicenseExpiry",label:"License Expiry Date",type:"date",placeholder:"Enter License Expiry Date"},{id:"aadharCardNumber",label:"Aadhar Card Number",type:"text",placeholder:"Enter Aadhar Card Number"},{id:"dateOfBirth",label:"DOB",type:"date",placeholder:"Enter Your DOB "}];bankDetails=[{id:"bankName",label:"Bank Name",type:"text",placeholder:"Enter Bank Name"},{id:"ifscCode",label:"IFSC Code",type:"text",placeholder:"Enter IFSC Code"},{id:"accountNumber",label:"Account Number",type:"text",placeholder:"Enter Account Number"}];shipmentTableData={title:"All Shipments",button:"",statuses:["Assigned ","Dispatched","Delivered"],tableHeads:["Load ID","Drop City","Pick City","Pickup Date","Base Price","Bid Price","Status","Actions"],tableData:[]};address=[{id:"addressLine1",label:"Address Line 1",type:"text",placeholder:"Enter Address Line 1"},{id:"addressLine2",label:"Address Line 2",type:"text",placeholder:"Enter Address Line 2"},{id:"city",label:"City",type:"text",placeholder:"Enter City"},{id:"state",label:"State",type:"select",placeholder:"Enter State",options:j$},{id:"postalCode",label:"Postal Code",type:"text",placeholder:"Enter Postal Code"}];selectedComponent="Driver On-Boarding";ngOnInit(){this.dataService.data$.subscribe(n=>{console.log(n),n==="Shipments"&&(this.onSidebarButtonClick("My Loads"),console.log("My Loads")),n==="My Details"&&(this.onSidebarButtonClick("My Loads"),console.log("My Loads"))});let t,e=localStorage.getItem("driverData");e&&(t=JSON.parse(e)._id),t?this.driverData.getDriver(t).subscribe(n=>{if(n.success){this.status=n.user.status,console.log(n),n.user.driversLicenseNumber&&(this.isBoardingSuccess="success"),this.status==="Active"&&this.onSidebarButtonClick("My Loads");let r=n.user;console.log(r.personalDetails.address.addressLine1),this.personalInfoForm.patchValue({firstName:r.name.firstName,lastName:r.name.lastName,email:r.email,phoneNumber:r.phoneNumber||"",companyRefId:r.companyRefId,companyName:r.companyDetails?r.companyDetails.companyDetails?.companyName:"",emergencyContactName:r.personalDetails.emergencyContact.name,emergencyNumber:r.personalDetails.emergencyContact.phoneNumber,addressLine1:r.personalDetails.address.addressLine1,addressLine2:r.personalDetails.address.addressLine2,city:r.personalDetails.address.city,state:r.personalDetails.address.state,postalCode:r.personalDetails.address.postalCode})}},n=>{console.error("Failed to fetch driver data",n)}):console.error("No user ID found in localStorage")}onFileSelected(t){let e=t.target.files?.[0];this.selectedFileName=e?e.name:""}onSidebarButtonClick(t){if(this.selectedComponent=t,console.log(t),t==="My Loads"){let e=this.localstorage.getDriverData();console.log(e),this.driverData.getAllDriverLoads(`DRIVER-${e._id}`).pipe(wt(n=>{console.log(n.bids);let o=n.bids.filter(a=>a.status==="Assigned"||a.status==="Dispatched"||a.status==="Delivered"||a.status==="Picked"||a.status==="Delivered1"||a.status==="Delivered2"||a.status==="Delivered3"||a.status==="Delivered"||a.status==="Delivered1-Partial"||a.status==="Delivered2-Partial"||a.status==="Delivered3-Partial"||a.status==="Delivered"||a.status==="Completed");this.shipmentTableData=Fe(de({},this.shipmentTableData),{tableData:o.map(a=>({loadId:a.loadId||"",dropCity:a.dropoff1?.address?.city||"",pickCity:a.pickupLocation?.address?.city||"",pickUpdate:this.getReadableDate(a.dispatchDateTime)||"",basePrice:a.basePrice||"",lowestBid:a.lowestPrice||"--",status:a.status,_id:a._id}))})})).subscribe({next:()=>{this.selectedComponent=t,this.showForm=!1,this.showModal=!1},error:n=>{}})}if(t==="My Details"){let e=this.localstorage.getDriverData();console.log(e),this.driverData.getDriver(e._id).subscribe({next:n=>{if(n.success){this.status=n.user.status,console.log(n),n.user.driversLicenseNumber&&(this.isBoardingSuccess="success");let r=n.user;console.log(r.personalDetails.address.addressLine1),this.personalInfoForm.patchValue({firstName:r.name.firstName,lastName:r.name.lastName,email:r.email,phoneNumber:r.phoneNumber||"",companyRefId:r.companyRefId,companyName:r.companyDetails?r.companyDetails.companyDetails?.companyName:"",emergencyContactName:r.personalDetails.emergencyContact.name,emergencyNumber:r.personalDetails.emergencyContact.phoneNumber,addressLine1:r.personalDetails.address.addressLine1,addressLine2:r.personalDetails.address.addressLine2,city:r.personalDetails.address.city,state:r.personalDetails.address.state,postalCode:r.personalDetails.address.postalCode,driversLicenseNumber:r.driversLicenseNumber||"",driversLicenseExpiry:EE(r.driversLicenseExpiry||""),aadharCardNumber:r.aadharCardNumber||"Not Available",dateOfBirth:EE(r.dateOfBirth||"Not Available"),ifscCode:r.ifscCode||"",accountNumber:r.accountNumber||"",bankName:r.bankName||"Bank",status:r.status,workStatus:r.workStatus,_id:r._id}),this.formTitle="My Details",this.isDriver=!1,this.action="edit",this.showForm=!0,this.showModal=!1,this.selectedComponent=t}},error:n=>{console.error("Failed to fetch driver data",n)}})}t==="Log Out"&&(localStorage.removeItem("driverData"),localStorage.removeItem("driverToken"),this.router.navigate(["/carrier/driver"]))}isOn_BoardingSuccess(t){console.log(t),this.isBoardingSuccess=t}getReadableDate(t){return new Date(t).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}static \u0275fac=function(e){return new(e||i)(le(qt),le(xi),le(fi))};static \u0275cmp=Ye({type:i,selectors:[["app-driver-layout"]],standalone:!0,features:[Xe],decls:8,vars:7,consts:[[1,"flex","h-screen"],["class","w-1/6 h-full",4,"ngIf"],["class","w-5/6 h-full",4,"ngIf"],["class","w-5/6 h-full flex justify-center items-center",4,"ngIf"],[1,"w-1/6","h-full"],[3,"buttonClick","buttonTexts"],[1,"w-5/6","h-full"],[3,"isOn_BoardingSuccess","formGroup","formTitle","personalInformation","bankDetails","additionalInformation","address"],[3,"formGroup","personalInformation","bankDetails","additionalInformation","address","isDriver","userStatus","role","formTitle","action"],[3,"tabledata"],[1,"w-5/6","h-full","flex","justify-center","items-center"]],template:function(e,n){e&1&&(p(0,"div",0),Y(1,M$,2,1,"div",1)(2,P$,2,1,"div",1)(3,O$,2,6,"div",2)(4,N$,2,10,"div",2)(5,L$,2,1,"div",2)(6,R$,2,0,"div",3)(7,F$,1,0,"div",3),h()),e&2&&(v(),C("ngIf",n.status==="Pending"),v(),C("ngIf",n.isBoardingSuccess==="success"&&n.status!=="Pending"),v(),C("ngIf",n.isBoardingSuccess==="active"),v(),C("ngIf",n.showForm),v(),C("ngIf",!n.showForm&&!n.showModal&&n.selectedComponent==="My Loads"),v(),C("ngIf",n.isBoardingSuccess==="success"&&n.status=="Pending"),v(),C("ngIf",n.isBoardingSuccess==="error"))},dependencies:[di,yi,ci,Go,Ko,st,Ct,Sg,Zo]})};var ME=(i,t)=>!!localStorage.getItem("carrierAdminToken");var PE=(i,t)=>!!localStorage.getItem("shipperAdminToken");var OE=(i,t)=>!!localStorage.getItem("appAdminToken");var NE=(i,t)=>{let e=ue(fi),n=localStorage.getItem("driverToken");return n?!0:(console.log(n),e.navigate(["/carrier/driver"]),!1)};var LE=[{path:"admin",component:Pl},{path:"shipper",component:Pl},{path:"carrier",component:Pl},{path:"carrier/driver",component:Pl},{path:"admin/register",component:Ml},{path:"shipper/register",component:Ml},{path:"carrier/register",component:Ml},{path:"carrier/driver/register",component:Ml},{path:"admin/dashboard",component:vg,canActivate:[OE]},{path:"shipper/admin/dashboard",component:yg,canActivate:[PE]},{path:"carrier/driver/dashboard",component:Dg,canActivate:[NE]},{path:"carrier/admin/dashboard",component:wg,canActivate:[ME]},{path:"",component:Um},{path:"test",component:nd},{path:"dashboard",component:pd},{path:"loads",component:id}];var $$="@",W$=(()=>{class i{constructor(e,n,r,o,a){this.doc=e,this.delegate=n,this.zone=r,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=ue(B2,{optional:!0}),this.loadingSchedulerFn=ue(Y$,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-WI42ZI5V.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new Jt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Uy(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let s=a.createRenderer(e,n);o.use(s),this.scheduler?.notify(10)}).catch(a=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){Cf()}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})(),Uy=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,n)),this.delegate.listen(t,e,n)}shouldReplay(t){return this.replay!==null&&t.startsWith($$)}},Y$=new He("");function RE(i="animations"){return Eu("NgAsyncAnimations"),Gr([{provide:Ec,useFactory:(t,e,n)=>new W$(t,e,n,i),deps:[vt,Tc,Ot]},{provide:$r,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var FE={user:null,loading:!1,error:null};var jE=zC(FE,uh(a5,(i,{user:t})=>Fe(de({},i),{user:t,loading:!0,error:null})),uh(s5,i=>Fe(de({},i),{loading:!1,error:null})),uh(l5,(i,{error:t})=>Fe(de({},i),{loading:!1,error:t})),uh(Un,(i,{user:t})=>Fe(de({},i),{user:ed(t)})));var BE=(i,t)=>{let e=ue(En);console.log("This is from the interceptor");let n=null,r="http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:4000/";i.url.startsWith(`${r}shipper`)?n=localStorage.getItem("shipperAdminToken"):i.url.startsWith(`${r}carrier/staff-driver`)?n=localStorage.getItem("driverToken"):i.url.startsWith(`${r}carrier/`)?n=localStorage.getItem("carrierAdminToken"):i.url.startsWith(`${r}admin`)&&(n=localStorage.getItem("appAdminToken"));let o=n?i.clone({setHeaders:{Authorization:`Bearer ${n}`}}):i;return console.log(o),t(o).pipe(Bo(a=>(a.status===401?e.error("You are not authorized to perform this action.","Unauthorized"):a.status===403?e.warning("You do not have permission to perform this action.","Forbidden"):a.status===500?e.error("An unexpected server error occurred. Please try again later.","Server Error"):e.error("An error occurred while processing your request.","Error"),console.error("HTTP Error:",a),ga(()=>a))))};var VE=(i,t)=>{if(console.log("Auth Interceptor triggered"),i.url.startsWith("http://a4624d01d367b4e51ae51cbe6f066c92-452922102.eu-north-1.elb.amazonaws.com:4000/auth/register")){let n=localStorage.getItem("invitationToken");if(n){let r=i.clone({setHeaders:{Authorization:`Bearer ${n}`}});return console.log("Cloned Request with Authorization Header:",r),t(r)}}return t(i)};var X$=(()=>{class i extends Nf{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(n){return new(n||i)(Ie(vt),Ie(Nu),Ie(Of))}}static{this.\u0275prov=Be({token:i,factory:i.\u0275fac})}}return i})();function Z$(){return new nx}function K$(i,t,e){return new ox(i,t,e)}var UE=[{provide:Of,useFactory:Z$},{provide:Nf,useClass:X$},{provide:Ec,useFactory:K$,deps:[Tc,Nf,Ot]}],J$=[{provide:Nu,useFactory:()=>new rx},{provide:$r,useValue:"BrowserAnimations"},...UE],bfe=[{provide:Nu,useClass:ix},{provide:$r,useValue:"NoopAnimations"},...UE];function zE(){return Eu("NgEagerAnimations"),[...J$]}var qE={providers:[G2({eventCoalescing:!0}),cC(LE),RE(),Kr,ys,AE(IE()),UC(),zE(),x5(),VC({name:"userRegistration",reducer:jE}),gx(vx([BE,VE]))]};var Ig=class i{ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Ye({type:i,selectors:[["app-root"]],standalone:!0,features:[Xe],decls:1,vars:0,template:function(e,n){e&1&&q(0,"router-outlet")},dependencies:[st,Eb,g5,Rs]})};Dx(Ig,qE).catch(i=>console.error(i));
